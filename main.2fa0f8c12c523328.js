"use strict";var YY=Object.defineProperty,ZY=Object.defineProperties,KY=Object.getOwnPropertyDescriptors,AU=Object.getOwnPropertySymbols,QY=Object.prototype.hasOwnProperty,XY=Object.prototype.propertyIsEnumerable,SU=(nt,be,F)=>be in nt?YY(nt,be,{enumerable:!0,configurable:!0,writable:!0,value:F}):nt[be]=F,MU=(nt,be)=>{for(var F in be||(be={}))QY.call(be,F)&&SU(nt,F,be[F]);if(AU)for(var F of AU(be))XY.call(be,F)&&SU(nt,F,be[F]);return nt},TU=(nt,be)=>ZY(nt,KY(be));(self.webpackChunkniconet=self.webpackChunkniconet||[]).push([[179],{2011:(nt,be,F)=>{F.d(be,{Dh:()=>de,GT:()=>me,cc:()=>Re,hO:()=>Ge,on:()=>$,pX:()=>le,xv:()=>ye});var u=F(5e3),te=F(127),L=F(5813);nt=F.hmd(nt);const ue=["ngOnDestroy"],le=(ge,st,mt,Ve={})=>new Proxy(ge,{get:(Oe,Ae)=>mt.runOutsideAngular(()=>{var We;if(ge[Ae])return!(null===(We=null==Ve?void 0:Ve.spy)||void 0===We)&&We.get&&Ve.spy.get(Ae,ge[Ae]),ge[Ae];if(ue.indexOf(Ae)>-1)return()=>{};const ze=st.toPromise().then(fe=>{const De=fe&&fe[Ae];return"function"==typeof De?De.bind(fe):De&&De.then?De.then(J=>mt.run(()=>J)):mt.run(()=>De)});return new Proxy(()=>{},{get:(fe,De)=>ze[De],apply:(fe,De,J)=>ze.then(ie=>{var he;const oe=ie&&ie(...J);return!(null===(he=null==Ve?void 0:Ve.spy)||void 0===he)&&he.apply&&Ve.spy.apply(Ae,J,oe),oe})})})}),me=(ge,st)=>{st.forEach(mt=>{Object.getOwnPropertyNames(mt.prototype||mt).forEach(Ve=>{Object.defineProperty(ge.prototype,Ve,Object.getOwnPropertyDescriptor(mt.prototype||mt,Ve))})})};class ne{constructor(st){return st}}const de=new u.OlP("angularfire2.app.options"),ye=new u.OlP("angularfire2.app.name");function $(ge,st,mt){const Oe="object"==typeof mt&&mt||{};Oe.name=Oe.name||"string"==typeof mt&&mt||"[DEFAULT]";const We=te.Z.apps.filter(ze=>ze&&ze.name===Oe.name)[0]||st.runOutsideAngular(()=>te.Z.initializeApp(ge,Oe));try{JSON.stringify(ge)!==JSON.stringify(We.options)&&z("error",`${We.name} Firebase App already initialized with different options${nt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(ze){}return new ne(We)}const z=(ge,...st)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[ge](...st)},ee={provide:ne,useFactory:$,deps:[de,u.R0b,[new u.FiY,ye]]};let Ge=(()=>{class ge{constructor(mt){te.Z.registerVersion("angularfire",L.q4.full,"core"),te.Z.registerVersion("angularfire",L.q4.full,"app-compat"),te.Z.registerVersion("angular",u.q4F.full,mt.toString())}static initializeApp(mt,Ve){return{ngModule:ge,providers:[{provide:de,useValue:mt},{provide:ye,useValue:Ve}]}}}return ge.\u0275fac=function(mt){return new(mt||ge)(u.LFG(u.Lbi))},ge.\u0275mod=u.oAB({type:ge}),ge.\u0275inj=u.cJS({providers:[ee]}),ge})();function Re(ge,st,mt,Ve,Oe){const[,Ae,We]=globalThis.\u0275AngularfireInstanceCache.find(ze=>ze[0]===ge)||[];if(Ae)return function Ce(ge,st){try{return ge.toString()===st.toString()}catch(mt){return ge===st}}(Oe,We)||(ve("error",`${st} was already initialized on the ${mt} Firebase App with different settings.${rt?" You may need to reload as Firebase is not HMR aware.":""}`),ve("warn",{is:Oe,was:We})),Ae;{const ze=Ve();return globalThis.\u0275AngularfireInstanceCache.push([ge,ze,Oe]),ze}}const rt=!!nt.hot,ve=(ge,...st)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[ge](...st)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(nt,be,F)=>{F.d(be,{q4:()=>tt,iC:()=>is,HU:()=>Fi,vb:()=>xs,JM:()=>Yu});var u=F(5e3),te=F(5867),L=F(5861),ue=F(9681),le=F(2090),me=F(4859),ne=F(1877),de=F(8766);const ye="@firebase/installations",$="0.5.12",ee=`w:${$}`,Ge="FIS_v2",st=new le.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function mt(D){return D instanceof le.ZR&&D.code.includes("request-failed")}function Ve({projectId:D}){return`https://firebaseinstallations.googleapis.com/v1/projects/${D}/installations`}function Oe(D){return{token:D.token,requestStatus:2,expiresIn:ie(D.expiresIn),creationTime:Date.now()}}function Ae(D,I){return We.apply(this,arguments)}function We(){return(We=(0,L.Z)(function*(D,I){const B=(yield I.json()).error;return st.create("request-failed",{requestName:D,serverCode:B.code,serverMessage:B.message,serverStatus:B.status})})).apply(this,arguments)}function ze({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function fe(D,{refreshToken:I}){const O=ze(D);return O.append("Authorization",function he(D){return`${Ge} ${D}`}(I)),O}function De(D){return J.apply(this,arguments)}function J(){return(J=(0,L.Z)(function*(D){const I=yield D();return I.status>=500&&I.status<600?D():I})).apply(this,arguments)}function ie(D){return Number(D.replace("s","000"))}function oe(D,I){return Be.apply(this,arguments)}function Be(){return(Be=(0,L.Z)(function*({appConfig:D,heartbeatServiceProvider:I},{fid:O}){const B=Ve(D),X=ze(D),ae=I.getImmediate({optional:!0});if(ae){const Dt=yield ae.getHeartbeatsHeader();Dt&&X.append("x-firebase-client",Dt)}const Fe={method:"POST",headers:X,body:JSON.stringify({fid:O,authVersion:Ge,appId:D.appId,sdkVersion:ee})},lt=yield De(()=>fetch(B,Fe));if(lt.ok){const Dt=yield lt.json();return{fid:Dt.fid||O,registrationStatus:2,refreshToken:Dt.refreshToken,authToken:Oe(Dt.authToken)}}throw yield Ae("Create Installation",lt)})).apply(this,arguments)}function Ue(D){return new Promise(I=>{setTimeout(I,D)})}const $t=/^[cdef][\w-]{21}$/;function Qe(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const O=function an(D){return function vt(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return $t.test(O)?O:""}catch(D){return""}}function ti(D){return`${D.appName}!${D.appId}`}const en=new Map;function tn(D,I){const O=ti(D);zr(O,I),function Sl(D,I){const O=function nn(){return!Mi&&"BroadcastChannel"in self&&(Mi=new BroadcastChannel("[Firebase] FID Change"),Mi.onmessage=D=>{zr(D.data.key,D.data.fid)}),Mi}();O&&O.postMessage({key:D,fid:I}),function kn(){0===en.size&&Mi&&(Mi.close(),Mi=null)}()}(O,I)}function zr(D,I){const O=en.get(D);if(O)for(const B of O)B(I)}let Mi=null;const Ti="firebase-installations-store";let Le=null;function Ri(){return Le||(Le=(0,de.X3)("firebase-installations-database",1,{upgrade:(D,I)=>{0===I&&D.createObjectStore(Ti)}})),Le}function qe(D,I){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,L.Z)(function*(D,I){const O=ti(D),X=(yield Ri()).transaction(Ti,"readwrite"),ae=X.objectStore(Ti),Ie=yield ae.get(O);return yield ae.put(I,O),yield X.done,(!Ie||Ie.fid!==I.fid)&&tn(D,I.fid),I})).apply(this,arguments)}function Zn(D){return Un.apply(this,arguments)}function Un(){return(Un=(0,L.Z)(function*(D){const I=ti(D),B=(yield Ri()).transaction(Ti,"readwrite");yield B.objectStore(Ti).delete(I),yield B.done})).apply(this,arguments)}function hs(D,I){return cr.apply(this,arguments)}function cr(){return(cr=(0,L.Z)(function*(D,I){const O=ti(D),X=(yield Ri()).transaction(Ti,"readwrite"),ae=X.objectStore(Ti),Ie=yield ae.get(O),Fe=I(Ie);return void 0===Fe?yield ae.delete(O):yield ae.put(Fe,O),yield X.done,Fe&&(!Ie||Ie.fid!==Fe.fid)&&tn(D,Fe.fid),Fe})).apply(this,arguments)}function wn(D){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,L.Z)(function*(D){let I;const O=yield hs(D.appConfig,B=>{const X=Sn(B),ae=bt(D,X);return I=ae.registrationPromise,ae.installationEntry});return""===O.fid?{installationEntry:yield I}:{installationEntry:O,registrationPromise:I}})).apply(this,arguments)}function Sn(D){return ot(D||{fid:Qe(),registrationStatus:0})}function bt(D,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(st.create("app-offline"))};const O={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},B=function ht(D,I){return ln.apply(this,arguments)}(D,O);return{installationEntry:O,registrationPromise:B}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:qr(D)}:{installationEntry:I}}function ln(){return(ln=(0,L.Z)(function*(D,I){try{const O=yield oe(D,I);return qe(D.appConfig,O)}catch(O){throw mt(O)&&409===O.customData.serverCode?yield Zn(D.appConfig):yield qe(D.appConfig,{fid:I.fid,registrationStatus:0}),O}})).apply(this,arguments)}function qr(D){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,L.Z)(function*(D){let I=yield Ui(D.appConfig);for(;1===I.registrationStatus;)yield Ue(100),I=yield Ui(D.appConfig);if(0===I.registrationStatus){const{installationEntry:O,registrationPromise:B}=yield wn(D);return B||O}return I})).apply(this,arguments)}function Ui(D){return hs(D,I=>{if(!I)throw st.create("installation-not-found");return ot(I)})}function ot(D){return function mn(D){return 1===D.registrationStatus&&D.registrationTime+1e4<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function un(D,I){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,L.Z)(function*({appConfig:D,heartbeatServiceProvider:I},O){const B=Zt(D,O),X=fe(D,O),ae=I.getImmediate({optional:!0});if(ae){const Dt=yield ae.getHeartbeatsHeader();Dt&&X.append("x-firebase-client",Dt)}const Fe={method:"POST",headers:X,body:JSON.stringify({installation:{sdkVersion:ee,appId:D.appId}})},lt=yield De(()=>fetch(B,Fe));if(lt.ok)return Oe(yield lt.json());throw yield Ae("Generate Auth Token",lt)})).apply(this,arguments)}function Zt(D,{fid:I}){return`${Ve(D)}/${I}/authTokens:generate`}function K(D){return G.apply(this,arguments)}function G(){return(G=(0,L.Z)(function*(D,I=!1){let O;const B=yield hs(D.appConfig,ae=>{if(!_t(ae))throw st.create("not-registered");const Ie=ae.authToken;if(!I&&cn(Ie))return ae;if(1===Ie.requestStatus)return O=H(D,I),ae;{if(!navigator.onLine)throw st.create("app-offline");const Fe=ji(ae);return O=Te(D,Fe),Fe}});return O?yield O:B.authToken})).apply(this,arguments)}function H(D,I){return q.apply(this,arguments)}function q(){return(q=(0,L.Z)(function*(D,I){let O=yield W(D.appConfig);for(;1===O.authToken.requestStatus;)yield Ue(100),O=yield W(D.appConfig);const B=O.authToken;return 0===B.requestStatus?K(D,I):B})).apply(this,arguments)}function W(D){return hs(D,I=>{if(!_t(I))throw st.create("not-registered");return function zt(D){return 1===D.requestStatus&&D.requestTime+1e4<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function Te(D,I){return $e.apply(this,arguments)}function $e(){return($e=(0,L.Z)(function*(D,I){try{const O=yield un(D,I),B=Object.assign(Object.assign({},I),{authToken:O});return yield qe(D.appConfig,B),O}catch(O){if(!mt(O)||401!==O.customData.serverCode&&404!==O.customData.serverCode){const B=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield qe(D.appConfig,B)}else yield Zn(D.appConfig);throw O}})).apply(this,arguments)}function _t(D){return void 0!==D&&2===D.registrationStatus}function cn(D){return 2===D.requestStatus&&!function yn(D){const I=Date.now();return I<D.creationTime||D.creationTime+D.expiresIn<I+36e5}(D)}function ji(D){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:I})}function Mn(){return(Mn=(0,L.Z)(function*(D){const I=D,{installationEntry:O,registrationPromise:B}=yield wn(I);return B?B.catch(console.error):K(I).catch(console.error),O.fid})).apply(this,arguments)}function Ar(){return(Ar=(0,L.Z)(function*(D,I=!1){const O=D;return yield bi(O),(yield K(O,I)).token})).apply(this,arguments)}function bi(D){return ro.apply(this,arguments)}function ro(){return(ro=(0,L.Z)(function*(D){const{registrationPromise:I}=yield wn(D);I&&(yield I)})).apply(this,arguments)}function At(D){return st.create("missing-app-config-values",{valueName:D})}const _n="installations",fs=D=>{const I=D.getProvider("app").getImmediate(),O=function Ye(D){if(!D||!D.options)throw At("App Configuration");if(!D.name)throw At("App Name");const I=["projectId","apiKey","appId"];for(const O of I)if(!D.options[O])throw At(O);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(I);return{app:I,appConfig:O,heartbeatServiceProvider:(0,ue._getProvider)(I,"heartbeat"),_delete:()=>Promise.resolve()}},jn=D=>{const I=D.getProvider("app").getImmediate(),O=(0,ue._getProvider)(I,_n).getImmediate();return{getId:()=>function Ut(D){return Mn.apply(this,arguments)}(O),getToken:X=>function Qn(D){return Ar.apply(this,arguments)}(O,X)}};(function Sr(){(0,ue._registerComponent)(new me.wA(_n,fs,"PUBLIC")),(0,ue._registerComponent)(new me.wA("installations-internal",jn,"PRIVATE"))})(),(0,ue.registerVersion)(ye,$),(0,ue.registerVersion)(ye,$,"esm2017");const Qt="@firebase/remote-config",Cn=new le.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Iu{constructor(I,O,B,X){this.client=I,this.storage=O,this.storageCache=B,this.logger=X}isCachedDataFresh(I,O){if(!O)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const B=Date.now()-O,X=B<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${B}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${X}.`),X}fetch(I){var O=this;return(0,L.Z)(function*(){const[B,X]=yield Promise.all([O.storage.getLastSuccessfulFetchTimestampMillis(),O.storage.getLastSuccessfulFetchResponse()]);if(X&&O.isCachedDataFresh(I.cacheMaxAgeMillis,B))return X;I.eTag=X&&X.eTag;const ae=yield O.client.fetch(I),Ie=[O.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ae.status&&Ie.push(O.storage.setLastSuccessfulFetchResponse(ae)),yield Promise.all(Ie),ae})()}}function Vc(D=navigator){return D.languages&&D.languages[0]||D.language}class ly{constructor(I,O,B,X,ae,Ie){this.firebaseInstallations=I,this.sdkVersion=O,this.namespace=B,this.projectId=X,this.apiKey=ae,this.appId=Ie}fetch(I){var O=this;return(0,L.Z)(function*(){var B,X,ae;const[Ie,Fe]=yield Promise.all([O.firebaseInstallations.getId(),O.firebaseInstallations.getToken()]),Dt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${O.projectId}/namespaces/${O.namespace}:fetch?key=${O.apiKey}`,kt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},pt={sdk_version:O.sdkVersion,app_instance_id:Ie,app_instance_id_token:Fe,app_id:O.appId,language_code:Vc()},xn={method:"POST",headers:kt,body:JSON.stringify(pt)},Ci=fetch(Dt,xn),Is=new Promise((na,Ss)=>{I.signal.addEventListener(()=>{const mr=new Error("The operation was aborted.");mr.name="AbortError",Ss(mr)})});let zs;try{yield Promise.race([Ci,Is]),zs=yield Ci}catch(na){let Ss="fetch-client-network";throw"AbortError"===(null===(B=na)||void 0===B?void 0:B.name)&&(Ss="fetch-timeout"),Cn.create(Ss,{originalErrorMessage:null===(X=na)||void 0===X?void 0:X.message})}let Rt=zs.status;const pr=zs.headers.get("ETag")||void 0;let As,gr;if(200===zs.status){let na;try{na=yield zs.json()}catch(Ss){throw Cn.create("fetch-client-parse",{originalErrorMessage:null===(ae=Ss)||void 0===ae?void 0:ae.message})}As=na.entries,gr=na.state}if("INSTANCE_STATE_UNSPECIFIED"===gr?Rt=500:"NO_CHANGE"===gr?Rt=304:("NO_TEMPLATE"===gr||"EMPTY_CONFIG"===gr)&&(As={}),304!==Rt&&200!==Rt)throw Cn.create("fetch-status",{httpStatus:Rt});return{status:Rt,eTag:pr,config:As}})()}}class Aa{constructor(I,O){this.client=I,this.storage=O}fetch(I){var O=this;return(0,L.Z)(function*(){const B=(yield O.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return O.attemptFetch(I,B)})()}attemptFetch(I,{throttleEndTimeMillis:O,backoffCount:B}){var X=this;return(0,L.Z)(function*(){yield function Tr(D,I){return new Promise((O,B)=>{const X=Math.max(I-Date.now(),0),ae=setTimeout(O,X);D.addEventListener(()=>{clearTimeout(ae),B(Cn.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,O);try{const ae=yield X.client.fetch(I);return yield X.storage.deleteThrottleMetadata(),ae}catch(ae){if(!function Wp(D){if(!(D instanceof le.ZR&&D.customData))return!1;const I=Number(D.customData.httpStatus);return 429===I||500===I||503===I||504===I}(ae))throw ae;const Ie={throttleEndTimeMillis:Date.now()+(0,le.$s)(B),backoffCount:B+1};return yield X.storage.setThrottleMetadata(Ie),X.attemptFetch(I,Ie)}})()}}class Ph{constructor(I,O,B,X,ae){this.app=I,this._client=O,this._storageCache=B,this._storage=X,this._logger=ae,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Sa(D,I){var O;const B=D.target.error||void 0;return Cn.create(I,{originalErrorMessage:B&&(null===(O=B)||void 0===O?void 0:O.message)})}const Vo="app_namespace_store";class Au{constructor(I,O,B,X=function jc(){return new Promise((D,I)=>{var O;try{const B=indexedDB.open("firebase_remote_config",1);B.onerror=X=>{I(Sa(X,"storage-open"))},B.onsuccess=X=>{D(X.target.result)},B.onupgradeneeded=X=>{0===X.oldVersion&&X.target.result.createObjectStore(Vo,{keyPath:"compositeKey"})}}catch(B){I(Cn.create("storage-open",{originalErrorMessage:null===(O=B)||void 0===O?void 0:O.message}))}})}()){this.appId=I,this.appName=O,this.namespace=B,this.openDbPromise=X}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var O=this;return(0,L.Z)(function*(){const B=yield O.openDbPromise;return new Promise((X,ae)=>{var Ie;const lt=B.transaction([Vo],"readonly").objectStore(Vo),Dt=O.createCompositeKey(I);try{const kt=lt.get(Dt);kt.onerror=pt=>{ae(Sa(pt,"storage-get"))},kt.onsuccess=pt=>{const xn=pt.target.result;X(xn?xn.value:void 0)}}catch(kt){ae(Cn.create("storage-get",{originalErrorMessage:null===(Ie=kt)||void 0===Ie?void 0:Ie.message}))}})})()}set(I,O){var B=this;return(0,L.Z)(function*(){const X=yield B.openDbPromise;return new Promise((ae,Ie)=>{var Fe;const Dt=X.transaction([Vo],"readwrite").objectStore(Vo),kt=B.createCompositeKey(I);try{const pt=Dt.put({compositeKey:kt,value:O});pt.onerror=xn=>{Ie(Sa(xn,"storage-set"))},pt.onsuccess=()=>{ae()}}catch(pt){Ie(Cn.create("storage-set",{originalErrorMessage:null===(Fe=pt)||void 0===Fe?void 0:Fe.message}))}})})()}delete(I){var O=this;return(0,L.Z)(function*(){const B=yield O.openDbPromise;return new Promise((X,ae)=>{var Ie;const lt=B.transaction([Vo],"readwrite").objectStore(Vo),Dt=O.createCompositeKey(I);try{const kt=lt.delete(Dt);kt.onerror=pt=>{ae(Sa(pt,"storage-delete"))},kt.onsuccess=()=>{X()}}catch(kt){ae(Cn.create("storage-delete",{originalErrorMessage:null===(Ie=kt)||void 0===Ie?void 0:Ie.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class Hc{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,L.Z)(function*(){const O=I.storage.getLastFetchStatus(),B=I.storage.getLastSuccessfulFetchTimestampMillis(),X=I.storage.getActiveConfig(),ae=yield O;ae&&(I.lastFetchStatus=ae);const Ie=yield B;Ie&&(I.lastSuccessfulFetchTimestampMillis=Ie);const Fe=yield X;Fe&&(I.activeConfig=Fe)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function zc(){return qc.apply(this,arguments)}function qc(){return(qc=(0,L.Z)(function*(){if(!(0,le.hl)())return!1;try{return yield(0,le.eu)()}catch(D){return!1}})).apply(this,arguments)}!function Gc(){(0,ue._registerComponent)(new me.wA("remote-config",function D(I,{instanceIdentifier:O}){const B=I.getProvider("app").getImmediate(),X=I.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Cn.create("registration-window");if(!(0,le.hl)())throw Cn.create("indexed-db-unavailable");const{projectId:ae,apiKey:Ie,appId:Fe}=B.options;if(!ae)throw Cn.create("registration-project-id");if(!Ie)throw Cn.create("registration-api-key");if(!Fe)throw Cn.create("registration-app-id");const lt=new Au(Fe,B.name,O=O||"firebase"),Dt=new Hc(lt),kt=new ne.Yd(Qt);kt.logLevel=ne.in.ERROR;const pt=new ly(X,ue.SDK_VERSION,O,ae,Ie,Fe),xn=new Aa(pt,lt),Ci=new Iu(xn,lt,Dt,kt),Is=new Ph(B,Ci,Dt,lt,kt);return function Lc(D){const I=(0,le.m9)(D);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(Is),Is},"PUBLIC").setMultipleInstances(!0)),(0,ue.registerVersion)(Qt,"0.3.11"),(0,ue.registerVersion)(Qt,"0.3.11","esm2017")}();const Zr="/firebase-messaging-sw.js",Nh="/firebase-cloud-messaging-push-scope",Bo="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Uo="google.c.a.c_id",Su="google.c.a.c_l",Ol="google.c.a.ts",Ma="google.c.a.e";var Rr=(()=>{return(D=Rr||(Rr={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",Rr;var D})();function ps(D){const I=new Uint8Array(D);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Pn(D){const O=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),B=atob(O),X=new Uint8Array(B.length);for(let ae=0;ae<B.length;++ae)X[ae]=B.charCodeAt(ae);return X}const Ta="fcm_token_details_db",Or="fcm_token_object_Store";function Yc(D){return Lh.apply(this,arguments)}function Lh(){return Lh=(0,L.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ae=>ae.name).includes(Ta))return null;let I=null;return(yield(0,de.X3)(Ta,5,{upgrade:(B=(0,L.Z)(function*(X,ae,Ie,Fe){var lt;if(ae<2||!X.objectStoreNames.contains(Or))return;const Dt=Fe.objectStore(Or),kt=yield Dt.index("fcmSenderId").get(D);if(yield Dt.clear(),kt)if(2===ae){const pt=kt;if(!pt.auth||!pt.p256dh||!pt.endpoint)return;I={token:pt.fcmToken,createTime:null!==(lt=pt.createTime)&&void 0!==lt?lt:Date.now(),subscriptionOptions:{auth:pt.auth,p256dh:pt.p256dh,endpoint:pt.endpoint,swScope:pt.swScope,vapidKey:"string"==typeof pt.vapidKey?pt.vapidKey:ps(pt.vapidKey)}}}else if(3===ae){const pt=kt;I={token:pt.fcmToken,createTime:pt.createTime,subscriptionOptions:{auth:ps(pt.auth),p256dh:ps(pt.p256dh),endpoint:pt.endpoint,swScope:pt.swScope,vapidKey:ps(pt.vapidKey)}}}else if(4===ae){const pt=kt;I={token:pt.fcmToken,createTime:pt.createTime,subscriptionOptions:{auth:ps(pt.auth),p256dh:ps(pt.p256dh),endpoint:pt.endpoint,swScope:pt.swScope,vapidKey:ps(pt.vapidKey)}}}}),function(ae,Ie,Fe,lt){return B.apply(this,arguments)})})).close(),yield(0,de.Lj)(Ta),yield(0,de.Lj)("fcm_vapid_details_db"),yield(0,de.Lj)("undefined"),Nn(I)?I:null;var B}),Lh.apply(this,arguments)}function Nn(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:I}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}const sr="firebase-messaging-store";let Hn=null;function Zc(){return Hn||(Hn=(0,de.X3)("firebase-messaging-database",1,{upgrade:(D,I)=>{0===I&&D.createObjectStore(sr)}})),Hn}function Ra(D){return kr.apply(this,arguments)}function kr(){return(kr=(0,L.Z)(function*(D){const I=ki(D),B=yield(yield Zc()).transaction(sr).objectStore(sr).get(I);if(B)return B;{const X=yield Yc(D.appConfig.senderId);if(X)return yield rn(D,X),X}})).apply(this,arguments)}function rn(D,I){return kl.apply(this,arguments)}function kl(){return(kl=(0,L.Z)(function*(D,I){const O=ki(D),X=(yield Zc()).transaction(sr,"readwrite");return yield X.objectStore(sr).put(I,O),yield X.done,I})).apply(this,arguments)}function $i(D){return so.apply(this,arguments)}function so(){return(so=(0,L.Z)(function*(D){const I=ki(D),B=(yield Zc()).transaction(sr,"readwrite");yield B.objectStore(sr).delete(I),yield B.done})).apply(this,arguments)}function ki({appConfig:D}){return D.appId}const Gn=new le.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Mt(D,I){return Tu.apply(this,arguments)}function Tu(){return(Tu=(0,L.Z)(function*(D,I){var O;const B=yield ka(D),X=Se(I),ae={method:"POST",headers:B,body:JSON.stringify(X)};let Ie;try{Ie=yield(yield fetch(Us(D.appConfig),ae)).json()}catch(Fe){throw Gn.create("token-subscribe-failed",{errorInfo:null===(O=Fe)||void 0===O?void 0:O.toString()})}if(Ie.error)throw Gn.create("token-subscribe-failed",{errorInfo:Ie.error.message});if(!Ie.token)throw Gn.create("token-subscribe-no-token");return Ie.token})).apply(this,arguments)}function Fl(D,I){return Ru.apply(this,arguments)}function Ru(){return(Ru=(0,L.Z)(function*(D,I){var O;const B=yield ka(D),X=Se(I.subscriptionOptions),ae={method:"PATCH",headers:B,body:JSON.stringify(X)};let Ie;try{Ie=yield(yield fetch(`${Us(D.appConfig)}/${I.token}`,ae)).json()}catch(Fe){throw Gn.create("token-update-failed",{errorInfo:null===(O=Fe)||void 0===O?void 0:O.toString()})}if(Ie.error)throw Gn.create("token-update-failed",{errorInfo:Ie.error.message});if(!Ie.token)throw Gn.create("token-update-no-token");return Ie.token})).apply(this,arguments)}function Oa(D,I){return Pl.apply(this,arguments)}function Pl(){return(Pl=(0,L.Z)(function*(D,I){var O;const X={method:"DELETE",headers:yield ka(D)};try{const Ie=yield(yield fetch(`${Us(D.appConfig)}/${I}`,X)).json();if(Ie.error)throw Gn.create("token-unsubscribe-failed",{errorInfo:Ie.error.message})}catch(ae){throw Gn.create("token-unsubscribe-failed",{errorInfo:null===(O=ae)||void 0===O?void 0:O.toString()})}})).apply(this,arguments)}function Us({projectId:D}){return`https://fcmregistrations.googleapis.com/v1/projects/${D}/registrations`}function ka(D){return zi.apply(this,arguments)}function zi(){return(zi=(0,L.Z)(function*({appConfig:D,installations:I}){const O=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${O}`})})).apply(this,arguments)}function Se({p256dh:D,auth:I,endpoint:O,vapidKey:B}){const X={web:{endpoint:O,auth:I,p256dh:D}};return B!==Bo&&(X.web.applicationPubKey=B),X}const Wt=6048e5;function Ou(D){return oo.apply(this,arguments)}function oo(){return(oo=(0,L.Z)(function*(D){const I=yield Ll(D.swRegistration,D.vapidKey),O={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:I.endpoint,auth:ps(I.getKey("auth")),p256dh:ps(I.getKey("p256dh"))},B=yield Ra(D.firebaseDependencies);if(B){if(Bh(B.subscriptionOptions,O))return Date.now()>=B.createTime+Wt?Nl(D,{token:B.token,createTime:Date.now(),subscriptionOptions:O}):B.token;try{yield Oa(D.firebaseDependencies,B.token)}catch(X){console.warn(X)}return Pa(D.firebaseDependencies,O)}return Pa(D.firebaseDependencies,O)})).apply(this,arguments)}function $n(D){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,L.Z)(function*(D){const I=yield Ra(D.firebaseDependencies);I&&(yield Oa(D.firebaseDependencies,I.token),yield $i(D.firebaseDependencies));const O=yield D.swRegistration.pushManager.getSubscription();return!O||O.unsubscribe()})).apply(this,arguments)}function Nl(D,I){return qi.apply(this,arguments)}function qi(){return(qi=(0,L.Z)(function*(D,I){try{const O=yield Fl(D.firebaseDependencies,I),B=Object.assign(Object.assign({},I),{token:O,createTime:Date.now()});return yield rn(D.firebaseDependencies,B),O}catch(O){throw yield $n(D),O}})).apply(this,arguments)}function Pa(D,I){return jo.apply(this,arguments)}function jo(){return(jo=(0,L.Z)(function*(D,I){const B={token:yield Mt(D,I),createTime:Date.now(),subscriptionOptions:I};return yield rn(D,B),B.token})).apply(this,arguments)}function Ll(D,I){return Na.apply(this,arguments)}function Na(){return(Na=(0,L.Z)(function*(D,I){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Pn(I)})})).apply(this,arguments)}function Bh(D,I){return I.vapidKey===D.vapidKey&&I.endpoint===D.endpoint&&I.auth===D.auth&&I.p256dh===D.p256dh}function ao(D){const I={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function zn(D,I){if(!I.notification)return;D.notification={};const O=I.notification.title;O&&(D.notification.title=O);const B=I.notification.body;B&&(D.notification.body=B);const X=I.notification.image;X&&(D.notification.image=X)}(I,D),function dr(D,I){!I.data||(D.data=I.data)}(I,D),function Ho(D,I){var O,B,X,ae,Ie;if(!(I.fcmOptions||null!==(O=I.notification)&&void 0!==O&&O.click_action))return;D.fcmOptions={};const Fe=null!==(X=null===(B=I.fcmOptions)||void 0===B?void 0:B.link)&&void 0!==X?X:null===(ae=I.notification)||void 0===ae?void 0:ae.click_action;Fe&&(D.fcmOptions.link=Fe);const lt=null===(Ie=I.fcmOptions)||void 0===Ie?void 0:Ie.analytics_label;lt&&(D.fcmOptions.analyticsLabel=lt)}(I,D),I}function lo(D){return"object"==typeof D&&!!D&&Uo in D}function Qr(D,I){const O=[];for(let B=0;B<D.length;B++)O.push(D.charAt(B)),B<I.length&&O.push(I.charAt(B));return O.join("")}function Vl(D){return Gn.create("missing-app-config-values",{valueName:D})}Qr("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Qr("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Qc{constructor(I,O,B){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const X=function Kc(D){if(!D||!D.options)throw Vl("App Configuration Object");if(!D.name)throw Vl("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:O}=D;for(const B of I)if(!O[B])throw Vl(B);return{appName:D.name,projectId:O.projectId,apiKey:O.apiKey,appId:O.appId,senderId:O.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:X,installations:O,analyticsProvider:B}}_delete(){return Promise.resolve()}}function Uh(D){return Go.apply(this,arguments)}function Go(){return(Go=(0,L.Z)(function*(D){var I;try{D.swRegistration=yield navigator.serviceWorker.register(Zr,{scope:Nh}),D.swRegistration.update().catch(()=>{})}catch(O){throw Gn.create("failed-service-worker-registration",{browserErrorMessage:null===(I=O)||void 0===I?void 0:I.message})}})).apply(this,arguments)}function ku(D,I){return La.apply(this,arguments)}function La(){return(La=(0,L.Z)(function*(D,I){if(!I&&!D.swRegistration&&(yield Uh(D)),I||!D.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw Gn.create("invalid-sw-registration");D.swRegistration=I}})).apply(this,arguments)}function $o(D,I){return Va.apply(this,arguments)}function Va(){return(Va=(0,L.Z)(function*(D,I){I?D.vapidKey=I:D.vapidKey||(D.vapidKey=Bo)})).apply(this,arguments)}function Bl(){return(Bl=(0,L.Z)(function*(D,I){if(!navigator)throw Gn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Gn.create("permission-blocked");return yield $o(D,null==I?void 0:I.vapidKey),yield ku(D,null==I?void 0:I.serviceWorkerRegistration),Ou(D)})).apply(this,arguments)}function Fu(D,I,O){return Pu.apply(this,arguments)}function Pu(){return(Pu=(0,L.Z)(function*(D,I,O){const B=Nu(I);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(B,{message_id:O[Uo],message_name:O[Su],message_time:O[Ol],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Nu(D){switch(D){case Rr.NOTIFICATION_CLICKED:return"notification_open";case Rr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ms(){return(ms=(0,L.Z)(function*(D,I){const O=I.data;if(!O.isFirebaseMessaging)return;D.onMessageHandler&&O.messageType===Rr.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(ao(O)):D.onMessageHandler.next(ao(O)));const B=O.data;lo(B)&&"1"===B[Ma]&&(yield Fu(D,O.messageType,B))})).apply(this,arguments)}const uo="@firebase/messaging",ri=D=>{const I=new Qc(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",O=>function Xc(D,I){return ms.apply(this,arguments)}(I,O)),I},Xr=D=>{const I=D.getProvider("messaging").getImmediate();return{getToken:B=>function Ba(D,I){return Bl.apply(this,arguments)}(I,B)}};function jl(){return Lu.apply(this,arguments)}function Lu(){return(Lu=(0,L.Z)(function*(){try{yield(0,le.eu)()}catch(D){return!1}return"undefined"!=typeof window&&(0,le.hl)()&&(0,le.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function En(){(0,ue._registerComponent)(new me.wA("messaging",ri,"PUBLIC")),(0,ue._registerComponent)(new me.wA("messaging-internal",Xr,"PRIVATE")),(0,ue.registerVersion)(uo,"0.9.16"),(0,ue.registerVersion)(uo,"0.9.16","esm2017")}();const _s="analytics",Uu="firebase_id",ju="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Jc="https://www.googletagmanager.com/gtag/js",Dn=new ne.Yd("@firebase/analytics");function Gl(D){return Promise.all(D.map(I=>I.catch(O=>O)))}function Wo(D,I){const O=document.createElement("script");O.src=`${Jc}?l=${D}&id=${I}`,O.async=!0,document.head.appendChild(O)}function uy(D,I,O,B,X,ae){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,L.Z)(function*(D,I,O,B,X,ae){const Ie=B[X];try{if(Ie)yield I[Ie];else{const lt=(yield Gl(O)).find(Dt=>Dt.measurementId===X);lt&&(yield I[lt.appId])}}catch(Fe){Dn.error(Fe)}D("config",X,ae)})).apply(this,arguments)}function js(D,I,O,B,X){return $l.apply(this,arguments)}function $l(){return($l=(0,L.Z)(function*(D,I,O,B,X){try{let ae=[];if(X&&X.send_to){let Ie=X.send_to;Array.isArray(Ie)||(Ie=[Ie]);const Fe=yield Gl(O);for(const lt of Ie){const Dt=Fe.find(pt=>pt.measurementId===lt),kt=Dt&&I[Dt.appId];if(!kt){ae=[];break}ae.push(kt)}}0===ae.length&&(ae=Object.values(I)),yield Promise.all(ae),D("event",B,X||{})}catch(ae){Dn.error(ae)}})).apply(this,arguments)}function td(){const D=window.document.getElementsByTagName("script");for(const I of Object.values(D))if(I.src&&I.src.includes(Jc))return I;return null}const si=new le.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),zl=new class rd{constructor(I={},O=1e3){this.throttleMetadata=I,this.intervalMillis=O}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,O){this.throttleMetadata[I]=O}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function Hh(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function Kp(D){return sd.apply(this,arguments)}function sd(){return(sd=(0,L.Z)(function*(D){var I;const{appId:O,apiKey:B}=D,X={method:"GET",headers:Hh(B)},ae=ju.replace("{app-id}",O),Ie=yield fetch(ae,X);if(200!==Ie.status&&304!==Ie.status){let Fe="";try{const lt=yield Ie.json();null!==(I=lt.error)&&void 0!==I&&I.message&&(Fe=lt.error.message)}catch(lt){}throw si.create("config-fetch-failed",{httpStatus:Ie.status,responseMessage:Fe})}return Ie.json()})).apply(this,arguments)}function Gh(D){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,L.Z)(function*(D,I=zl,O){const{appId:B,apiKey:X,measurementId:ae}=D.options;if(!B)throw si.create("no-app-id");if(!X){if(ae)return{measurementId:ae,appId:B};throw si.create("no-api-key")}const Ie=I.getThrottleMetadata(B)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Fe=new ql;return setTimeout((0,L.Z)(function*(){Fe.abort()}),void 0!==O?O:6e4),$h({appId:B,apiKey:X,measurementId:ae},Ie,Fe,I)})).apply(this,arguments)}function $h(D,I,O){return vs.apply(this,arguments)}function vs(){return(vs=(0,L.Z)(function*(D,{throttleEndTimeMillis:I,backoffCount:O},B,X=zl){var ae,Ie;const{appId:Fe,measurementId:lt}=D;try{yield bs(B,I)}catch(Dt){if(lt)return Dn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${lt} provided in the "measurementId" field in the local Firebase config. [${null===(ae=Dt)||void 0===ae?void 0:ae.message}]`),{appId:Fe,measurementId:lt};throw Dt}try{const Dt=yield Kp(D);return X.deleteThrottleMetadata(Fe),Dt}catch(Dt){const kt=Dt;if(!Qo(kt)){if(X.deleteThrottleMetadata(Fe),lt)return Dn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${lt} provided in the "measurementId" field in the local Firebase config. [${null==kt?void 0:kt.message}]`),{appId:Fe,measurementId:lt};throw Dt}const pt=503===Number(null===(Ie=null==kt?void 0:kt.customData)||void 0===Ie?void 0:Ie.httpStatus)?(0,le.$s)(O,X.intervalMillis,30):(0,le.$s)(O,X.intervalMillis),xn={throttleEndTimeMillis:Date.now()+pt,backoffCount:O+1};return X.setThrottleMetadata(Fe,xn),Dn.debug(`Calling attemptFetch again in ${pt} millis`),$h(D,xn,B,X)}})).apply(this,arguments)}function bs(D,I){return new Promise((O,B)=>{const X=Math.max(I-Date.now(),0),ae=setTimeout(O,X);D.addEventListener(()=>{clearTimeout(ae),B(si.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}function Qo(D){if(!(D instanceof le.ZR&&D.customData))return!1;const I=Number(D.customData.httpStatus);return 429===I||500===I||503===I||504===I}class ql{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}let ho,ld;function ja(){return(ja=(0,L.Z)(function*(D,I,O,B,X){if(X&&X.global)D("event",O,B);else{const ae=yield I;D("event",O,Object.assign(Object.assign({},B),{send_to:ae}))}})).apply(this,arguments)}function ws(D){ld=D}function ud(D){ho=D}function wi(){return qa.apply(this,arguments)}function qa(){return(qa=(0,L.Z)(function*(){var D;if(!(0,le.hl)())return Dn.warn(si.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,le.eu)()}catch(I){return Dn.warn(si.create("indexeddb-unavailable",{errorInfo:null===(D=I)||void 0===D?void 0:D.toString()}).message),!1}return!0})).apply(this,arguments)}function es(){return(es=(0,L.Z)(function*(D,I,O,B,X,ae,Ie){var Fe;const lt=Gh(D);lt.then(Ci=>{O[Ci.measurementId]=Ci.appId,D.options.measurementId&&Ci.measurementId!==D.options.measurementId&&Dn.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${Ci.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ci=>Dn.error(Ci)),I.push(lt);const Dt=wi().then(Ci=>{if(Ci)return B.getId()}),[kt,pt]=yield Promise.all([lt,Dt]);td()||Wo(ae,kt.measurementId),ld&&(X("consent","default",ld),ws(void 0)),X("js",new Date);const xn=null!==(Fe=null==Ie?void 0:Ie.config)&&void 0!==Fe?Fe:{};return xn.origin="firebase",xn.update=!0,null!=pt&&(xn[Uu]=pt),X("config",kt.measurementId,xn),ho&&(X("set",ho),ud(void 0)),kt.measurementId})).apply(this,arguments)}class Yl{constructor(I){this.app=I}_delete(){return delete Xt[this.app.options.appId],Promise.resolve()}}let Xt={},Xo=[];const $s={};let Jo,fo,Wa="dataLayer",Hu=!1;function Qp(D,I,O){!function Gu(){const D=[];if((0,le.ru)()&&D.push("This is a browser extension environment."),(0,le.zI)()||D.push("Cookies are not available."),D.length>0){const I=D.map((B,X)=>`(${X+1}) ${B}`).join(" "),O=si.create("invalid-analytics-context",{errorInfo:I});Dn.warn(O.message)}}();const B=D.options.appId;if(!B)throw si.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw si.create("no-api-key");Dn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Xt[B])throw si.create("already-exists",{id:B});if(!Hu){!function ed(D){let I=[];Array.isArray(window[D])?I=window[D]:window[D]=I}(Wa);const{wrappedGtag:ae,gtagCore:Ie}=function Zo(D,I,O,B,X){let ae=function(...Ie){window[B].push(arguments)};return window[X]&&"function"==typeof window[X]&&(ae=window[X]),window[X]=function Hs(D,I,O,B){function ae(){return(ae=(0,L.Z)(function*(Ie,Fe,lt){try{"event"===Ie?yield js(D,I,O,Fe,lt):"config"===Ie?yield uy(D,I,O,B,Fe,lt):"consent"===Ie?D("consent","update",lt):D("set",Fe)}catch(Dt){Dn.error(Dt)}})).apply(this,arguments)}return function X(Ie,Fe,lt){return ae.apply(this,arguments)}}(ae,D,I,O),{gtagCore:ae,wrappedGtag:window[X]}}(Xt,Xo,$s,Wa,"gtag");fo=ae,Jo=Ie,Hu=!0}return Xt[B]=function qh(D,I,O,B,X,ae,Ie){return es.apply(this,arguments)}(D,Xo,$s,I,Jo,Wa,O),new Yl(D)}function cy(){return $u.apply(this,arguments)}function $u(){return($u=(0,L.Z)(function*(){if((0,le.ru)()||!(0,le.zI)()||!(0,le.hl)())return!1;try{return yield(0,le.eu)()}catch(D){return!1}})).apply(this,arguments)}const it="@firebase/analytics";!function bn(){(0,ue._registerComponent)(new me.wA(_s,(I,{options:O})=>Qp(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),O),"PUBLIC")),(0,ue._registerComponent)(new me.wA("analytics-internal",function D(I){try{const O=I.getProvider(_s).getImmediate();return{logEvent:(B,X,ae)=>function pn(D,I,O,B){D=(0,le.m9)(D),function od(D,I,O,B,X){return ja.apply(this,arguments)}(fo,Xt[D.app.options.appId],I,O,B).catch(X=>Dn.error(X))}(O,B,X,ae)}}catch(O){throw si.create("interop-component-reg-failed",{reason:O})}},"PRIVATE")),(0,ue.registerVersion)(it,"0.8.0"),(0,ue.registerVersion)(it,"0.8.0","esm2017")}();var Ds=F(4408),Ln=F(7565);const zu=new class Ka extends Ln.v{}(class Za extends Ds.o{constructor(I,O){super(I,O),this.scheduler=I,this.work=O}schedule(I,O=0){return O>0?super.schedule(I,O):(this.delay=O,this.state=I,this.scheduler.flush(this),this)}execute(I,O){return O>0||this.closed?super.execute(I,O):this._execute(I,O)}requestAsyncId(I,O,B=0){return null!=B&&B>0||null==B&&this.delay>0?super.requestAsyncId(I,O,B):(I.flush(this),0)}});var Yh=F(4986),Zh=F(8505),qu=F(9468),ea=F(5363);const tt=new u.GfV("7.4.1"),Qa="__angularfire_symbol__analyticsIsSupportedValue",ts="__angularfire_symbol__analyticsIsSupported",Zl="__angularfire_symbol__remoteConfigIsSupportedValue",Xa="__angularfire_symbol__remoteConfigIsSupported",Tn="__angularfire_symbol__messagingIsSupportedValue",Wu="__angularfire_symbol__messagingIsSupported";function Yu(D,I,O){if(I){if(1===I.length)return I[0];const ae=I.filter(Ie=>Ie.app===O);if(1===ae.length)return ae[0]}return O.container.getProvider(D).getImmediate({optional:!0})}globalThis[ts]||(globalThis[ts]=cy().then(D=>globalThis[Qa]=D).catch(()=>globalThis[Qa]=!1)),globalThis[Wu]||(globalThis[Wu]=jl().then(D=>globalThis[Tn]=D).catch(()=>globalThis[Tn]=!1)),globalThis[Xa]||(globalThis[Xa]=zc().then(D=>globalThis[Zl]=D).catch(()=>globalThis[Zl]=!1));const xs=(D,I)=>{const O=I?[I]:(0,te.C6)(),B=[];return O.forEach(X=>{X.container.getProvider(D).instances.forEach(Ie=>{B.includes(Ie)||B.push(Ie)})}),B};function Pr(){}class Nr{constructor(I,O=zu){this.zone=I,this.delegate=O}now(){return this.delegate.now()}schedule(I,O,B){const X=this.zone;return this.delegate.schedule(function(Ie){X.runGuarded(()=>{I.apply(this,[Ie])})},O,B)}}class Zu{constructor(I){this.zone=I,this.task=null}call(I,O){const B=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Pr,{},Pr,Pr)),O.pipe((0,Zh.b)({next:B,complete:B,error:B})).subscribe(I).add(B)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Fi=(()=>{class D{constructor(O){this.ngZone=O,this.outsideAngular=O.runOutsideAngular(()=>new Nr(Zone.current)),this.insideAngular=O.run(()=>new Nr(Zone.current,Yh.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(O){return new(O||D)(u.LFG(u.R0b))},D.\u0275prov=u.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function hr(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function is(D){return hr(),function Rn(D){return function(O){return(O=O.lift(new Zu(D.ngZone))).pipe((0,qu.R)(D.outsideAngular),(0,ea.Q)(D.insideAngular))}}(hr())(D)}},2090:(nt,be,F)=>{F.d(be,{$s:()=>mn,BH:()=>Ge,G6:()=>ze,L:()=>de,LL:()=>Be,Sg:()=>Re,UG:()=>ve,US:()=>me,ZB:()=>z,ZR:()=>oe,b$:()=>mt,eu:()=>De,hl:()=>fe,jU:()=>ge,m9:()=>Zt,ne:()=>Ri,pd:()=>Ti,r3:()=>Li,ru:()=>st,tV:()=>ye,uI:()=>rt,vZ:()=>Mi,w1:()=>Oe,xO:()=>io,xb:()=>zr,z$:()=>Ce,zI:()=>J,zd:()=>Vi});const ue=function(K){const G=[];let H=0;for(let q=0;q<K.length;q++){let W=K.charCodeAt(q);W<128?G[H++]=W:W<2048?(G[H++]=W>>6|192,G[H++]=63&W|128):55296==(64512&W)&&q+1<K.length&&56320==(64512&K.charCodeAt(q+1))?(W=65536+((1023&W)<<10)+(1023&K.charCodeAt(++q)),G[H++]=W>>18|240,G[H++]=W>>12&63|128,G[H++]=W>>6&63|128,G[H++]=63&W|128):(G[H++]=W>>12|224,G[H++]=W>>6&63|128,G[H++]=63&W|128)}return G},me={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(K,G){if(!Array.isArray(K))throw Error("encodeByteArray takes an array as a parameter");this.init_();const H=G?this.byteToCharMapWebSafe_:this.byteToCharMap_,q=[];for(let W=0;W<K.length;W+=3){const Te=K[W],$e=W+1<K.length,_t=$e?K[W+1]:0,cn=W+2<K.length,yn=cn?K[W+2]:0;let Ut=(15&_t)<<2|yn>>6,Mn=63&yn;cn||(Mn=64,$e||(Ut=64)),q.push(H[Te>>2],H[(3&Te)<<4|_t>>4],H[Ut],H[Mn])}return q.join("")},encodeString(K,G){return this.HAS_NATIVE_SUPPORT&&!G?btoa(K):this.encodeByteArray(ue(K),G)},decodeString(K,G){return this.HAS_NATIVE_SUPPORT&&!G?atob(K):function(K){const G=[];let H=0,q=0;for(;H<K.length;){const W=K[H++];if(W<128)G[q++]=String.fromCharCode(W);else if(W>191&&W<224){const Te=K[H++];G[q++]=String.fromCharCode((31&W)<<6|63&Te)}else if(W>239&&W<365){const cn=((7&W)<<18|(63&K[H++])<<12|(63&K[H++])<<6|63&K[H++])-65536;G[q++]=String.fromCharCode(55296+(cn>>10)),G[q++]=String.fromCharCode(56320+(1023&cn))}else{const Te=K[H++],$e=K[H++];G[q++]=String.fromCharCode((15&W)<<12|(63&Te)<<6|63&$e)}}return G.join("")}(this.decodeStringToByteArray(K,G))},decodeStringToByteArray(K,G){this.init_();const H=G?this.charToByteMapWebSafe_:this.charToByteMap_,q=[];for(let W=0;W<K.length;){const Te=H[K.charAt(W++)],_t=W<K.length?H[K.charAt(W)]:0;++W;const yn=W<K.length?H[K.charAt(W)]:64;++W;const zt=W<K.length?H[K.charAt(W)]:64;if(++W,null==Te||null==_t||null==yn||null==zt)throw Error();q.push(Te<<2|_t>>4),64!==yn&&(q.push(_t<<4&240|yn>>2),64!==zt&&q.push(yn<<6&192|zt))}return q},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let K=0;K<this.ENCODED_VALS.length;K++)this.byteToCharMap_[K]=this.ENCODED_VALS.charAt(K),this.charToByteMap_[this.byteToCharMap_[K]]=K,this.byteToCharMapWebSafe_[K]=this.ENCODED_VALS_WEBSAFE.charAt(K),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[K]]=K,K>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(K)]=K,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(K)]=K)}}},de=function(K){return function(K){const G=ue(K);return me.encodeByteArray(G,!0)}(K).replace(/\./g,"")},ye=function(K){try{return me.decodeString(K,!0)}catch(G){console.error("base64Decode failed: ",G)}return null};function z(K,G){if(!(G instanceof Object))return G;switch(G.constructor){case Date:return new Date(G.getTime());case Object:void 0===K&&(K={});break;case Array:K=[];break;default:return G}for(const H in G)!G.hasOwnProperty(H)||!ee(H)||(K[H]=z(K[H],G[H]));return K}function ee(K){return"__proto__"!==K}class Ge{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((G,H)=>{this.resolve=G,this.reject=H})}wrapCallback(G){return(H,q)=>{H?this.reject(H):this.resolve(q),"function"==typeof G&&(this.promise.catch(()=>{}),1===G.length?G(H):G(H,q))}}}function Re(K,G){if(K.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const q=G||"demo-project",W=K.iat||0,Te=K.sub||K.user_id;if(!Te)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const $e=Object.assign({iss:`https://securetoken.google.com/${q}`,aud:q,iat:W,exp:W+3600,auth_time:W,sub:Te,user_id:Te,firebase:{sign_in_provider:"custom",identities:{}}},K);return[de(JSON.stringify({alg:"none",type:"JWT"})),de(JSON.stringify($e)),""].join(".")}function Ce(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function rt(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ce())}function ve(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(K){return!1}}function ge(){return"object"==typeof self&&self.self===self}function st(){const K="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof K&&void 0!==K.id}function mt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Oe(){const K=Ce();return K.indexOf("MSIE ")>=0||K.indexOf("Trident/")>=0}function ze(){return!ve()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fe(){return"object"==typeof indexedDB}function De(){return new Promise((K,G)=>{try{let H=!0;const q="validate-browser-context-for-indexeddb-analytics-module",W=self.indexedDB.open(q);W.onsuccess=()=>{W.result.close(),H||self.indexedDB.deleteDatabase(q),K(!0)},W.onupgradeneeded=()=>{H=!1},W.onerror=()=>{var Te;G((null===(Te=W.error)||void 0===Te?void 0:Te.message)||"")}}catch(H){G(H)}})}function J(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class oe extends Error{constructor(G,H,q){super(H),this.code=G,this.customData=q,this.name="FirebaseError",Object.setPrototypeOf(this,oe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Be.prototype.create)}}class Be{constructor(G,H,q){this.service=G,this.serviceName=H,this.errors=q}create(G,...H){const q=H[0]||{},W=`${this.service}/${G}`,Te=this.errors[G],$e=Te?function Ue(K,G){return K.replace(vt,(H,q)=>{const W=G[q];return null!=W?String(W):`<${q}?>`})}(Te,q):"Error";return new oe(W,`${this.serviceName}: ${$e} (${W}).`,q)}}const vt=/\{\$([^}]+)}/g;function Li(K,G){return Object.prototype.hasOwnProperty.call(K,G)}function zr(K){for(const G in K)if(Object.prototype.hasOwnProperty.call(K,G))return!1;return!0}function Mi(K,G){if(K===G)return!0;const H=Object.keys(K),q=Object.keys(G);for(const W of H){if(!q.includes(W))return!1;const Te=K[W],$e=G[W];if(nn(Te)&&nn($e)){if(!Mi(Te,$e))return!1}else if(Te!==$e)return!1}for(const W of q)if(!H.includes(W))return!1;return!0}function nn(K){return null!==K&&"object"==typeof K}function io(K){const G=[];for(const[H,q]of Object.entries(K))Array.isArray(q)?q.forEach(W=>{G.push(encodeURIComponent(H)+"="+encodeURIComponent(W))}):G.push(encodeURIComponent(H)+"="+encodeURIComponent(q));return G.length?"&"+G.join("&"):""}function Vi(K){const G={};return K.replace(/^\?/,"").split("&").forEach(q=>{if(q){const[W,Te]=q.split("=");G[decodeURIComponent(W)]=decodeURIComponent(Te)}}),G}function Ti(K){const G=K.indexOf("?");if(!G)return"";const H=K.indexOf("#",G);return K.substring(G,H>0?H:void 0)}function Ri(K,G){const H=new qe(K,G);return H.subscribe.bind(H)}class qe{constructor(G,H){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=H,this.task.then(()=>{G(this)}).catch(q=>{this.error(q)})}next(G){this.forEachObserver(H=>{H.next(G)})}error(G){this.forEachObserver(H=>{H.error(G)}),this.close(G)}complete(){this.forEachObserver(G=>{G.complete()}),this.close()}subscribe(G,H,q){let W;if(void 0===G&&void 0===H&&void 0===q)throw new Error("Missing Observer.");W=function Zn(K,G){if("object"!=typeof K||null===K)return!1;for(const H of G)if(H in K&&"function"==typeof K[H])return!0;return!1}(G,["next","error","complete"])?G:{next:G,error:H,complete:q},void 0===W.next&&(W.next=Un),void 0===W.error&&(W.error=Un),void 0===W.complete&&(W.complete=Un);const Te=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?W.error(this.finalError):W.complete()}catch($e){}}),this.observers.push(W),Te}unsubscribeOne(G){void 0===this.observers||void 0===this.observers[G]||(delete this.observers[G],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(G){if(!this.finalized)for(let H=0;H<this.observers.length;H++)this.sendOne(H,G)}sendOne(G,H){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[G])try{H(this.observers[G])}catch(q){"undefined"!=typeof console&&console.error&&console.error(q)}})}close(G){this.finalized||(this.finalized=!0,void 0!==G&&(this.finalError=G),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Un(){}function mn(K,G=1e3,H=2){const q=G*Math.pow(H,K),W=Math.round(.5*q*(Math.random()-.5)*2);return Math.min(144e5,q+W)}function Zt(K){return K&&K._delegate?K._delegate:K}},3343:(nt,be,F)=>{var u=F(5e3);let te=null;function L(){return te}const ne=new u.OlP("DocumentToken");let de=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function ye(){return(0,u.LFG)(z)}()},providedIn:"platform"}),n})();const $=new u.OlP("Location Initialized");let z=(()=>{class n extends de{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return L().getBaseHref(this._doc)}onPopState(t){const i=L().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=L().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,i,r){ee()?this._history.pushState(t,i,r):this.location.hash=r}replaceState(t,i,r){ee()?this._history.replaceState(t,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ne))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Ge(){return new z((0,u.LFG)(ne))}()},providedIn:"platform"}),n})();function ee(){return!!window.history.pushState}function Re(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ce(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function rt(n){return n&&"?"!==n[0]?"?"+n:n}let ve=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(st)},providedIn:"root"}),n})();const ge=new u.OlP("appBaseHref");let st=(()=>{class n extends ve{constructor(t,i){var r,a,c;super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=null!==(c=null!==(r=null!=i?i:this._platformLocation.getBaseHrefFromDOM())&&void 0!==r?r:null===(a=(0,u.f3M)(ne).location)||void 0===a?void 0:a.origin)&&void 0!==c?c:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Re(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+rt(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,a){const c=this.prepareExternalUrl(r+rt(a));this._platformLocation.pushState(t,i,c)}replaceState(t,i,r,a){const c=this.prepareExternalUrl(r+rt(a));this._platformLocation.replaceState(t,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(de),u.LFG(ge,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mt=(()=>{class n extends ve{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=Re(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,a){let c=this.prepareExternalUrl(r+rt(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,i,c)}replaceState(t,i,r,a){let c=this.prepareExternalUrl(r+rt(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(de),u.LFG(ge,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Ve=(()=>{class n{constructor(t){this._subject=new u.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._baseHref=Ce(We(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){var t;null===(t=this._urlChangeSubscription)||void 0===t||t.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+rt(i))}normalize(t){return n.stripTrailingSlash(function Ae(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,We(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+rt(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+rt(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){var i,r;null===(r=(i=this._locationStrategy).historyGo)||void 0===r||r.call(i,t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{var i;const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(null===(i=this._urlChangeSubscription)||void 0===i||i.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=rt,n.joinWithSlash=Re,n.stripTrailingSlash=Ce,n.\u0275fac=function(t){return new(t||n)(u.LFG(ve))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Oe(){return new Ve((0,u.LFG)(ve))}()},providedIn:"root"}),n})();function We(n){return n.replace(/\/index.html$/,"")}function Da(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,a]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(a)}return null}let Mr=(()=>{class n{constructor(t,i,r,a){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=a,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,u.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,u.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),t.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!0)):Object.keys(t).forEach(i=>this._toggleClass(i,!!t[i])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!1)):Object.keys(t).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(t,i){(t=t.trim())&&t.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.ZZ4),u.Y36(u.aQg),u.Y36(u.SBq),u.Y36(u.Qsj))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})(),Lc=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new Oh,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){gi("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){gi("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Oh{constructor(){this.$implicit=null,this.ngIf=null}}function gi(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,u.AaK)(e)}'.`)}class ir{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let xa=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const i=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),Ia=(()=>{class n{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new ir(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(xa,9))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),Kr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const Rr="browser";function gs(n){return n===Rr}function Or(n){return"server"===n}let Vh=(()=>{class n{}return n.\u0275prov=(0,u.Yz7)({token:n,providedIn:"root",factory:()=>new Zp((0,u.LFG)(ne),window)}),n})();class Zp{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Hn(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const a=r.shadowRoot;if(a){const c=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(c)return c}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(i-a[0],r-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=sr(this.window.history)||sr(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function sr(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Ra{}class ms extends class Xc extends class me{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function le(n){te||(te=n)}(new ms)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Ul(){return uo=uo||document.querySelector("base"),uo?uo.getAttribute("href"):null}();return null==t?null:function Xr(n){ri=ri||document.createElement("a"),ri.setAttribute("href",n);const e=ri.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){uo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Da(document.cookie,e)}}let ri,uo=null;const En=new u.OlP("TRANSITION_ID"),Lu=[{provide:u.ip1,useFactory:function jl(n,e,t){return()=>{t.get(u.CZH).donePromise.then(()=>{const i=L(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<r.length;a++)i.remove(r[a])})}},deps:[En,ne,u.zs3],multi:!0}];let Ua=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Hl=new u.OlP("EventManagerPlugins");let Vu=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let a=0;a<r.length;a++){const c=r[a];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Hl),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class zo{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=L().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let co=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),ys=(()=>{class n extends co{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(a=>{const c=this._doc.createElement("style");c.textContent=a,r.push(i.appendChild(c))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(Bu),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Bu))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ne))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function Bu(n){L().remove(n)}const _s={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Uu=/%COMP%/g;function Wo(n,e,t){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?Wo(n,r,t):(r=r.replace(Uu,n),t.push(r))}return t}function ed(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Yo=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new js(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case u.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new td(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case 1:case u.ifc.ShadowDom:return new nd(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=Wo(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Vu),u.LFG(ys),u.LFG(u.AFp))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class js{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(_s[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Zo(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(Zo(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const a=_s[r];a?e.setAttributeNS(a,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=_s[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(u.JOm.DashCase|u.JOm.Important)?e.style.setProperty(t,i,r&u.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&u.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,ed(i)):this.eventManager.addEventListener(e,t,ed(i))}}function Zo(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class td extends js{constructor(e,t,i,r){super(e),this.component=i;const a=Wo(r+"-"+i.id,i.styles,[]);t.addStyles(a),this.contentAttr=function Dn(n){return"_ngcontent-%COMP%".replace(Uu,n)}(r+"-"+i.id),this.hostAttr=function Gl(n){return"_nghost-%COMP%".replace(Uu,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class nd extends js{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=Wo(r.id,r.styles,[]);for(let c=0;c<a.length;c++){const h=document.createElement("style");h.textContent=a[c],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let si=(()=>{class n extends zo{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ne))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const id=["alt","control","meta","shift"],Ko={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},rd={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let zl=(()=>{class n extends zo{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const a=n.parseEventName(i),c=n.eventCallback(a.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>L().onAndCancel(t,a.domEventName,c))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const a=n._normalizeKey(i.pop());let c="",h=i.indexOf("code");if(h>-1&&(i.splice(h,1),c="code."),id.forEach(w=>{const x=i.indexOf(w);x>-1&&(i.splice(x,1),c+=w+".")}),c+=a,0!=i.length||0===a.length)return null;const y={};return y.domEventName=r,y.fullKey=c,y}static matchEventFullKeyCode(t,i){let r=Ko[t.key]||t.key,a="";return i.indexOf("code.")>-1&&(r=t.code,a="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),id.forEach(c=>{c!==r&&(0,rd[c])(t)&&(a+=c+".")}),a+=r,a===i)}static eventCallback(t,i,r){return a=>{n.matchEventFullKeyCode(a,t)&&r.runGuarded(()=>i(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ne))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const ql=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:Rr},{provide:u.g9A,useValue:function $h(){ms.makeCurrent()},multi:!0},{provide:ne,useFactory:function bs(){return(0,u.RDi)(document),document},deps:[]}]),ho=new u.OlP(""),od=[{provide:u.rWj,useClass:class jh{addToWindow(e){u.dqk.getAngularTestability=(i,r=!0)=>{const a=e.findTestabilityInTree(i,r);if(null==a)throw new Error("Could not find testability for element.");return a},u.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(i=>{const r=u.dqk.getAllAngularTestabilities();let a=r.length,c=!1;const h=function(y){c=c||y,a--,0==a&&i(c)};r.forEach(function(y){y.whenStable(h)})})}findTestabilityInTree(e,t,i){if(null==t)return null;const r=e.getTestability(t);return null!=r?r:i?L().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}},deps:[]},{provide:u.lri,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]}],ja=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function vs(){return new u.qLn},deps:[]},{provide:Hl,useClass:si,multi:!0,deps:[ne,u.R0b,u.Lbi]},{provide:Hl,useClass:zl,multi:!0,deps:[ne]},{provide:Yo,useClass:Yo,deps:[Vu,ys,u.AFp]},{provide:u.FYo,useExisting:Yo},{provide:co,useExisting:ys},{provide:ys,useClass:ys,deps:[ne]},{provide:Vu,useClass:Vu,deps:[Hl,u.R0b]},{provide:Ra,useClass:Ua,deps:[]},[]];let Ha=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:u.AFp,useValue:t.appId},{provide:En,useExisting:u.AFp},Lu]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ho,12))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[...ja,...od],imports:[Kr,u.hGG]}),n})(),Gs=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ne))},n.\u0275prov=u.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function za(){return new Gs((0,u.LFG)(ne))}(),i},providedIn:"root"}),n})();"undefined"!=typeof window&&window;let Cs=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(t){let i=null;return i=t?new(t||n):u.LFG(hd),i},providedIn:"root"}),n})(),hd=(()=>{class n extends Cs{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case u.q3G.NONE:return i;case u.q3G.HTML:return(0,u.qzn)(i,"HTML")?(0,u.z3N)(i):(0,u.EiD)(this._doc,String(i)).toString();case u.q3G.STYLE:return(0,u.qzn)(i,"Style")?(0,u.z3N)(i):i;case u.q3G.SCRIPT:if((0,u.qzn)(i,"Script"))return(0,u.z3N)(i);throw new Error("unsafe value used in a script context");case u.q3G.URL:return(0,u.qzn)(i,"URL")?(0,u.z3N)(i):(0,u.mCW)(String(i));case u.q3G.RESOURCE_URL:if((0,u.qzn)(i,"ResourceURL"))return(0,u.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,u.JVY)(t)}bypassSecurityTrustStyle(t){return(0,u.L6k)(t)}bypassSecurityTrustScript(t){return(0,u.eBb)(t)}bypassSecurityTrustUrl(t){return(0,u.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,u.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ne))},n.\u0275prov=u.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function hy(n){return new hd(n.get(ne))}(u.LFG(u.zs3)),i},providedIn:"root"}),n})();var pn=F(8996),Es=F(3269);function it(...n){const e=(0,Es.yG)(n);return(0,pn.D)(n,e)}var Pt=F(7579);class bn extends Pt.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}const Za=(0,F(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Ln=F(9751);const{isArray:Ka}=Array,{getPrototypeOf:zu,prototype:Wh,keys:Yh}=Object;function Zh(n){if(1===n.length){const e=n[0];if(Ka(e))return{args:e,keys:null};if(function qu(n){return n&&"object"==typeof n&&zu(n)===Wh}(e)){const t=Yh(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}var ea=F(4671),tt=F(4004);const{isArray:Qa}=Array;function Zl(n){return(0,tt.U)(e=>function ts(n,e){return Qa(e)?n(...e):n(e)}(n,e))}function Xa(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}var Tn=F(5403),Wu=F(9672);function Ja(...n){const e=(0,Es.yG)(n),t=(0,Es.jO)(n),{args:i,keys:r}=Zh(n);if(0===i.length)return(0,pn.D)([],e);const a=new Ln.y(function Kh(n,e,t=ea.y){return i=>{Qh(e,()=>{const{length:r}=n,a=new Array(r);let c=r,h=r;for(let y=0;y<r;y++)Qh(e,()=>{const w=(0,pn.D)(n[y],e);let x=!1;w.subscribe((0,Tn.x)(i,T=>{a[y]=T,x||(x=!0,h--),h||i.next(t(a.slice()))},()=>{--c||i.complete()}))},i)},i)}}(i,e,r?c=>Xa(r,c):ea.y));return t?a.pipe(Zl(t)):a}function Qh(n,e,t){n?(0,Wu.f)(t,n,e):e()}var Kl=F(8189);function xs(...n){return function Yu(){return(0,Kl.J)(1)}()((0,pn.D)(n,(0,Es.yG)(n)))}var Pr=F(8421);function Nr(n){return new Ln.y(e=>{(0,Pr.Xf)(n()).subscribe(e)})}var Zu=F(9635),Fi=F(576);function hr(n,e){const t=(0,Fi.m)(n)?n:()=>n,i=r=>r.error(t());return new Ln.y(e?r=>e.schedule(i,0,r):i)}var ns=F(515),Pi=F(727),qn=F(4482);function ta(){return(0,qn.e)((n,e)=>{let t=null;n._refCount++;const i=(0,Tn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,a=t;t=null,r&&(!a||r===a)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class is extends Ln.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,qn.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Pi.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Tn.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Pi.w0.EMPTY)}return e}refCount(){return ta()(this)}}function Rn(n,e){return(0,qn.e)((t,i)=>{let r=null,a=0,c=!1;const h=()=>c&&!r&&i.complete();t.subscribe((0,Tn.x)(i,y=>{null==r||r.unsubscribe();let w=0;const x=a++;(0,Pr.Xf)(n(y,x)).subscribe(r=(0,Tn.x)(i,T=>i.next(e?e(y,T,x,w++):T),()=>{r=null,h()}))},()=>{c=!0,h()}))})}function jt(n){return n<=0?()=>ns.E:(0,qn.e)((e,t)=>{let i=0;e.subscribe((0,Tn.x)(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function fr(...n){const e=(0,Es.yG)(n);return(0,qn.e)((t,i)=>{(e?xs(n,t,e):xs(n,t)).subscribe(i)})}function D(n,e){return(0,qn.e)((t,i)=>{let r=0;t.subscribe((0,Tn.x)(i,a=>n.call(e,a,r++)&&i.next(a)))})}var I=F(5577);function O(n){return(0,qn.e)((e,t)=>{let i=!1;e.subscribe((0,Tn.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function B(n=X){return(0,qn.e)((e,t)=>{let i=!1;e.subscribe((0,Tn.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function X(){return new Za}function ae(n,e){const t=arguments.length>=2;return i=>i.pipe(n?D((r,a)=>n(r,a,i)):ea.y,jt(1),t?O(e):B(()=>new Za))}function Ie(n,e){return(0,Fi.m)(e)?(0,I.z)(n,e,1):(0,I.z)(n,1)}var Fe=F(8505);function lt(n){return(0,qn.e)((e,t)=>{let a,i=null,r=!1;i=e.subscribe((0,Tn.x)(t,void 0,void 0,c=>{a=(0,Pr.Xf)(n(c,lt(n)(e))),i?(i.unsubscribe(),i=null,a.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,a.subscribe(t))})}function Dt(n,e,t,i,r){return(a,c)=>{let h=t,y=e,w=0;a.subscribe((0,Tn.x)(c,x=>{const T=w++;y=h?n(y,x,T):(h=!0,x),i&&c.next(y)},r&&(()=>{h&&c.next(y),c.complete()})))}}function kt(n,e){return(0,qn.e)(Dt(n,e,arguments.length>=2,!0))}function pt(n){return n<=0?()=>ns.E:(0,qn.e)((e,t)=>{let i=[];e.subscribe((0,Tn.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function xn(n,e){const t=arguments.length>=2;return i=>i.pipe(n?D((r,a)=>n(r,a,i)):ea.y,pt(1),t?O(e):B(()=>new Za))}function zs(n){return(0,qn.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Rt="primary",pr=Symbol("RouteTitle");class As{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function gr(n){return new As(n)}function na(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let a=0;a<i.length;a++){const c=i[a],h=n[a];if(c.startsWith(":"))r[c.substring(1)]=h;else if(c!==h.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function mr(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let a=0;a<t.length;a++)if(r=t[a],!Xp(n[r],e[r]))return!1;return!0}function Xp(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,a)=>i[a]===r)}return n===e}function Jp(n){return Array.prototype.concat.apply([],n)}function eg(n){return n.length>0?n[n.length-1]:null}function ai(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function po(n){return(0,u.CqO)(n)?n:(0,u.QGY)(n)?(0,pn.D)(Promise.resolve(n)):it(n)}const Jb={exact:function Ju(n,e,t){if(!qs(n.segments,e.segments)||!go(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!Ju(n.children[i],e.children[i],t))return!1;return!0},subset:Ql},Qu={exact:function Xu(n,e){return mr(n,e)},subset:function fd(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Xp(n[t],e[t]))},ignored:()=>!0};function fy(n,e,t){return Jb[t.paths](n.root,e.root,t.matrixParams)&&Qu[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Ql(n,e,t){return Xl(n,e,e.segments,t)}function Xl(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!qs(r,t)||e.hasChildren()||!go(r,t,i))}if(n.segments.length===t.length){if(!qs(n.segments,t)||!go(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!Ql(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(qs(n.segments,r)&&go(n.segments,r,i)&&n.children[Rt])&&Xl(n.children[Rt],e,a,i)}}function go(n,e,t){return e.every((i,r)=>Qu[t](n[r].parameters,i.parameters))}class ia{constructor(e,t,i){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=gr(this.queryParams)),this._queryParamMap}toString(){return el.serialize(this)}}class Ht{constructor(e,t){this.segments=e,this.children=t,this.parent=null,ai(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Jl(this)}}class ec{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=gr(this.parameters)),this._parameterMap}toString(){return sg(this)}}function qs(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let Xh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return new md},providedIn:"root"}),n})();class md{parse(e){const t=new by(e);return new ia(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${tc(e.root,!0)}`,i=function my(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${nc(t)}=${nc(r)}`).join("&"):`${nc(t)}=${nc(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function py(n){return encodeURI(n)}(e.fragment)}`:""}`}}const el=new md;function Jl(n){return n.segments.map(e=>sg(e)).join("/")}function tc(n,e){if(!n.hasChildren())return Jl(n);if(e){const t=n.children[Rt]?tc(n.children[Rt],!1):"",i=[];return ai(n.children,(r,a)=>{a!==Rt&&i.push(`${a}:${tc(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function gd(n,e){let t=[];return ai(n.children,(i,r)=>{r===Rt&&(t=t.concat(e(i,r)))}),ai(n.children,(i,r)=>{r!==Rt&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===Rt?[tc(n.children[Rt],!1)]:[`${r}:${tc(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Rt]?`${Jl(n)}/${t[0]}`:`${Jl(n)}/(${t.join("//")})`}}function ig(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function nc(n){return ig(n).replace(/%3B/gi,";")}function yr(n){return ig(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function mo(n){return decodeURIComponent(n)}function rg(n){return mo(n.replace(/\+/g,"%20"))}function sg(n){return`${yr(n.path)}${function gy(n){return Object.keys(n).map(e=>`;${yr(e)}=${yr(n[e])}`).join("")}(n.parameters)}`}const yy=/^[^\/()?;=#]+/;function yd(n){const e=n.match(yy);return e?e[0]:""}const og=/^[^=?&#]+/,_y=/^[^&#]+/;class by{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ht([],{}):new Ht([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[Rt]=new Ht(e,t)),i}parseSegment(){const e=yd(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new u.vHH(4009,!1);return this.capture(e),new ec(mo(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=yd(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=yd(this.remaining);r&&(i=r,this.capture(i))}e[mo(t)]=mo(i)}parseQueryParam(e){const t=function Jh(n){const e=n.match(og);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const c=function vy(n){const e=n.match(_y);return e?e[0]:""}(this.remaining);c&&(i=c,this.capture(i))}const r=rg(t),a=rg(i);if(e.hasOwnProperty(r)){let c=e[r];Array.isArray(c)||(c=[c],e[r]=c),c.push(a)}else e[r]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=yd(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new u.vHH(4010,!1);let a;i.indexOf(":")>-1?(a=i.slice(0,i.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=Rt);const c=this.parseChildren();t[a]=1===Object.keys(c).length?c[Rt]:new Ht([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new u.vHH(4011,!1)}}function eu(n){return n.segments.length>0?new Ht([],{[Rt]:n}):n}function rs(n){const e={};for(const i of Object.keys(n.children)){const a=rs(n.children[i]);(a.segments.length>0||a.hasChildren())&&(e[i]=a)}return function tu(n){if(1===n.numberOfChildren&&n.children[Rt]){const e=n.children[Rt];return new Ht(n.segments.concat(e.segments),e.children)}return n}(new Ht(n.segments,e))}function ra(n){return n instanceof ia}function t0(n,e,t,i,r){var a;if(0===t.length)return nu(e.root,e.root,e.root,i,r);const h=function lg(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new ic(!0,0,n);let e=0,t=!1;const i=n.reduce((r,a,c)=>{if("object"==typeof a&&null!=a){if(a.outlets){const h={};return ai(a.outlets,(y,w)=>{h[w]="string"==typeof y?y.split("/"):y}),[...r,{outlets:h}]}if(a.segmentPath)return[...r,a.segmentPath]}return"string"!=typeof a?[...r,a]:0===c?(a.split("/").forEach((h,y)=>{0==y&&"."===h||(0==y&&""===h?t=!0:".."===h?e++:""!=h&&r.push(h))}),r):[...r,a]},[]);return new ic(t,e,i)}(t);return h.toRoot()?nu(e.root,e.root,new Ht([],{}),i,r):function y(x){var T;const P=function Ey(n,e,t,i){if(n.isAbsolute)return new nl(e.root,!0,0);if(-1===i)return new nl(t,t===e.root,0);return function ef(n,e,t){let i=n,r=e,a=t;for(;a>r;){if(a-=r,i=i.parent,!i)throw new u.vHH(4005,!1);r=i.segments.length}return new nl(i,!1,r-a)}(t,i+(yo(n.commands[0])?0:1),n.numberOfDoubleDots)}(h,e,null===(T=n.snapshot)||void 0===T?void 0:T._urlSegment,x),V=P.processChildren?Lr(P.segmentGroup,P.index,h.commands):tf(P.segmentGroup,P.index,h.commands);return nu(e.root,P.segmentGroup,V,i,r)}(null===(a=n.snapshot)||void 0===a?void 0:a._lastPathIndex)}function yo(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function tl(n){return"object"==typeof n&&null!=n&&n.outlets}function nu(n,e,t,i,r){let c,a={};i&&ai(i,(y,w)=>{a[w]=Array.isArray(y)?y.map(x=>`${x}`):`${y}`}),c=n===e?t:Cy(n,e,t);const h=eu(rs(c));return new ia(h,a,r)}function Cy(n,e,t){const i={};return ai(n.children,(r,a)=>{i[a]=r===e?t:Cy(r,e,t)}),new Ht(n.segments,i)}class ic{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&yo(i[0]))throw new u.vHH(4003,!1);const r=i.find(tl);if(r&&r!==eg(i))throw new u.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class nl{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function tf(n,e,t){if(n||(n=new Ht([],{})),0===n.segments.length&&n.hasChildren())return Lr(n,e,t);const i=function Dy(n,e,t){let i=0,r=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return a;const c=n.segments[r],h=t[i];if(tl(h))break;const y=`${h}`,w=i<t.length-1?t[i+1]:null;if(r>0&&void 0===y)break;if(y&&w&&"object"==typeof w&&void 0===w.outlets){if(!iu(y,w,c))return a;i+=2}else{if(!iu(y,{},c))return a;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const a=new Ht(n.segments.slice(0,i.pathIndex),{});return a.children[Rt]=new Ht(n.segments.slice(i.pathIndex),n.children),Lr(a,0,r)}return i.match&&0===r.length?new Ht(n.segments,{}):i.match&&!n.hasChildren()?Vn(n,e,t):i.match?Lr(n,0,r):Vn(n,e,t)}function Lr(n,e,t){if(0===t.length)return new Ht(n.segments,{});{const i=function vd(n){return tl(n[0])?n[0].outlets:{[Rt]:n}}(t),r={};return ai(i,(a,c)=>{"string"==typeof a&&(a=[a]),null!==a&&(r[c]=tf(n.children[c],e,a))}),ai(n.children,(a,c)=>{void 0===i[c]&&(r[c]=a)}),new Ht(n.segments,r)}}function Vn(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const a=t[r];if(tl(a)){const y=nf(a.outlets);return new Ht(i,y)}if(0===r&&yo(t[0])){i.push(new ec(n.segments[e].path,cg(t[0]))),r++;continue}const c=tl(a)?a.outlets[Rt]:`${a}`,h=r<t.length-1?t[r+1]:null;c&&h&&yo(h)?(i.push(new ec(c,cg(h))),r+=2):(i.push(new ec(c,{})),r++)}return new Ht(i,{})}function nf(n){const e={};return ai(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=Vn(new Ht([],{}),0,t))}),e}function cg(n){const e={};return ai(n,(t,i)=>e[i]=`${t}`),e}function iu(n,e,t){return n==t.path&&mr(e,t.parameters)}class Ws{constructor(e,t){this.id=e,this.url=t}}class rf extends Ws{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class _o extends Ws{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class bd extends Ws{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class dg extends Ws{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class sf extends Ws{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class n0 extends Ws{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class r0 extends Ws{constructor(e,t,i,r,a){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class rc extends Ws{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class af extends Ws{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hg{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class lf{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class wd{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xy{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fg{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Cd{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ru{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class pg{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=sa(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=sa(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Ed(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return Ed(e,this._root).map(t=>t.value)}}function sa(n,e){if(n===e.value)return e;for(const t of e.children){const i=sa(n,t);if(i)return i}return null}function Ed(n,e){if(n===e.value)return[e];for(const t of e.children){const i=Ed(n,t);if(i.length)return i.unshift(e),i}return[]}class Ys{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function ss(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class uf extends pg{constructor(e,t){super(e),this.snapshot=t,sc(this,e)}toString(){return this.snapshot.toString()}}function Dd(n,e){const t=function xd(n,e){const c=new Zs([],{},{},"",{},Rt,e,null,n.root,-1,{});return new Ad("",new Ys(c,[]))}(n,e),i=new bn([new ec("",{})]),r=new bn({}),a=new bn({}),c=new bn({}),h=new bn(""),y=new il(i,r,c,h,a,Rt,e,t.root);return y.snapshot=t.root,new uf(new Ys(y,[]),t)}class il{constructor(e,t,i,r,a,c,h,y){var w,x;this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=c,this.component=h,this.title=null!==(x=null===(w=this.data)||void 0===w?void 0:w.pipe((0,tt.U)(T=>T[pr])))&&void 0!==x?x:it(void 0),this._futureSnapshot=y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,tt.U)(e=>gr(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,tt.U)(e=>gr(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Id(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],a=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(a.component)break;i--}}return function oa(n){return n.reduce((e,t)=>{var i;return{params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign(Object.assign(Object.assign({},t.data),e.resolve),null===(i=t.routeConfig)||void 0===i?void 0:i.data),t._resolvedData)}},{params:{},data:{},resolve:{}})}(t.slice(i))}class Zs{constructor(e,t,i,r,a,c,h,y,w,x,T,P){var V;this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=c,this.component=h,this.title=null===(V=this.data)||void 0===V?void 0:V[pr],this.routeConfig=y,this._urlSegment=w,this._lastPathIndex=x,this._correctedLastPathIndex=null!=P?P:x,this._resolve=T}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=gr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=gr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ad extends pg{constructor(e,t){super(t),this.url=e,sc(this,t)}toString(){return gg(this._root)}}function sc(n,e){e.value._routerState=n,e.children.forEach(t=>sc(n,t))}function gg(n){const e=n.children.length>0?` { ${n.children.map(gg).join(", ")} } `:"";return`${n.value}${e}`}function cf(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,mr(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),mr(e.params,t.params)||n.params.next(t.params),function Ss(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!mr(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),mr(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Sd(n,e){const t=mr(n.params,e.params)&&function pd(n,e){return qs(n,e)&&n.every((t,i)=>mr(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Sd(n.parent,e.parent))}function sl(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function df(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return sl(n,i,r);return sl(n,i)})}(n,e,t);return new Ys(i,r)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const c=a.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(h=>sl(n,h)),c}}const i=function mg(n){return new il(new bn(n.url),new bn(n.params),new bn(n.queryParams),new bn(n.fragment),new bn(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(a=>sl(n,a));return new Ys(i,r)}}const hf="ngNavigationCancelingError";function su(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=ra(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=yg(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function yg(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[hf]=!0,i.cancellationCode=e,t&&(i.url=t),i}function or(n){return ou(n)&&ra(n.url)}function ou(n){return n&&n[hf]}class ff{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Md,this.attachRef=null}}let Md=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new ff,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const au=!1;let vo=(()=>{class n{constructor(t,i,r,a,c){this.parentContexts=t,this.location=i,this.changeDetector=a,this.environmentInjector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.name=r||Rt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){var t;(null===(t=this.parentContexts.getContext(this.name))||void 0===t?void 0:t.outlet)===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new u.vHH(4012,au);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new u.vHH(4012,au);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new u.vHH(4012,au);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new u.vHH(4013,au);this._activatedRoute=t;const r=this.location,c=t._futureSnapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,y=new Iy(t,h,r.injector);if(i&&function ol(n){return!!n.resolveComponentFactory}(i)){const w=i.resolveComponentFactory(c);this.activated=r.createComponent(w,r.length,y)}else this.activated=r.createComponent(c,{index:r.length,injector:y,environmentInjector:null!=i?i:this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Md),u.Y36(u.s_b),u.$8M("name"),u.Y36(u.sBO),u.Y36(u.lqb))},n.\u0275dir=u.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class Iy{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===il?this.route:e===Md?this.childContexts:this.parent.get(e,t)}}let al=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[u.jDz],decls:1,vars:0,template:function(t,i){1&t&&u._UZ(0,"router-outlet")},dependencies:[vo],encapsulation:2}),n})();function bo(n,e){var t;return n.providers&&!n._injector&&(n._injector=(0,u.MMx)(n.providers,e,`Route: ${n.path}`)),null!==(t=n._injector)&&void 0!==t?t:e}function pf(n){const e=n.children&&n.children.map(pf),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Rt&&(t.component=al),t}function li(n){return n.outlet||Rt}function aa(n,e){const t=n.filter(i=>li(i)===e);return t.push(...n.filter(i=>li(i)!==e)),t}function ac(n){var e;if(!n)return null;if(null!==(e=n.routeConfig)&&void 0!==e&&e._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const i=t.routeConfig;if(null!=i&&i._loadedInjector)return i._loadedInjector;if(null!=i&&i._injector)return i._injector}return null}class gf{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),cf(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=ss(t);e.children.forEach(a=>{const c=a.value.outlet;this.deactivateRoutes(a,r[c],i),delete r[c]}),ai(r,(a,c)=>{this.deactivateRouteAndItsChildren(a,i)})}deactivateRoutes(e,t,i){const r=e.value,a=t?t.value:null;if(r===a)if(r.component){const c=i.getContext(r.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,i);else a&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,a=ss(e);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],r);if(i&&i.outlet){const c=i.outlet.detach(),h=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:h})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,a=ss(e);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=ss(t);e.children.forEach(a=>{this.activateRoutes(a,r[a.value.outlet],i),this.forwardEvent(new Cd(a.value.snapshot))}),e.children.length&&this.forwardEvent(new xy(e.value.snapshot))}activateRoutes(e,t,i){var r;const a=e.value,c=t?t.value:null;if(cf(a),a===c)if(a.component){const h=i.getOrCreateContext(a.outlet);this.activateChildRoutes(e,t,h.children)}else this.activateChildRoutes(e,t,i);else if(a.component){const h=i.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const y=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),h.children.onOutletReAttached(y.contexts),h.attachRef=y.componentRef,h.route=y.route.value,h.outlet&&h.outlet.attach(y.componentRef,y.route.value),cf(y.route.value),this.activateChildRoutes(e,null,h.children)}else{const y=ac(a.snapshot),w=null!==(r=null==y?void 0:y.get(u._Vd))&&void 0!==r?r:null;h.attachRef=null,h.route=a,h.resolver=w,h.injector=y,h.outlet&&h.outlet.activateWith(a,h.injector),this.activateChildRoutes(e,null,h.children)}}else this.activateChildRoutes(e,null,i)}}class mf{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class yf{constructor(e,t){this.component=e,this.route=t}}function u0(n,e,t){const i=n._root;return _(i,e?e._root:null,t,[i.value])}function lc(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||(0,u.Z0I)(n)?e.get(n):n:i}function _(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=ss(e);return n.children.forEach(c=>{(function p(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,c=e?e.value:null,h=t?t.getContext(n.value.outlet):null;if(c&&a.routeConfig===c.routeConfig){const y=function g(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!qs(n.url,e.url);case"pathParamsOrQueryParamsChange":return!qs(n.url,e.url)||!mr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Sd(n,e)||!mr(n.queryParams,e.queryParams);default:return!Sd(n,e)}}(c,a,a.routeConfig.runGuardsAndResolvers);y?r.canActivateChecks.push(new mf(i)):(a.data=c.data,a._resolvedData=c._resolvedData),_(n,e,a.component?h?h.children:null:t,i,r),y&&h&&h.outlet&&h.outlet.isActivated&&r.canDeactivateChecks.push(new yf(h.outlet.component,c))}else c&&b(e,h,r),r.canActivateChecks.push(new mf(i)),_(n,null,a.component?h?h.children:null:t,i,r)})(c,a[c.value.outlet],t,i.concat([c.value]),r),delete a[c.value.outlet]}),ai(a,(c,h)=>b(c,t.getContext(h),r)),r}function b(n,e,t){const i=ss(n),r=n.value;ai(i,(a,c)=>{b(a,r.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new yf(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function S(n){return"function"==typeof n}function Xn(n){return n instanceof Za||"EmptyError"===(null==n?void 0:n.name)}const Ms=Symbol("INITIAL_VALUE");function wo(){return Rn(n=>Ja(n.map(e=>e.pipe(jt(1),fr(Ms)))).pipe((0,tt.U)(e=>{for(const t of e)if(!0!==t){if(t===Ms)return Ms;if(!1===t||t instanceof ia)return t}return!0}),D(e=>e!==Ms),jt(1)))}function Ei(n){return(0,Zu.z)((0,Fe.b)(e=>{if(ra(e))throw su(0,e)}),(0,tt.U)(e=>!0===e))}const Cg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Eg(n,e,t,i,r){const a=Wi(n,e,t);return a.matched?function bf(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?it(r.map(c=>{const h=lc(c,n);return po(function at(n){return n&&S(n.canMatch)}(h)?h.canMatch(e,t):n.runInContext(()=>h(e,t)))})).pipe(wo(),Ei()):it(!0)}(i=bo(e,i),e,t).pipe((0,tt.U)(c=>!0===c?a:Object.assign({},Cg))):it(a)}function Wi(n,e,t){var i;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},Cg):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const a=(e.matcher||na)(t,n,e);if(!a)return Object.assign({},Cg);const c={};ai(a.posParams,(y,w)=>{c[w]=y.path});const h=a.consumed.length>0?Object.assign(Object.assign({},c),a.consumed[a.consumed.length-1].parameters):c;return{matched:!0,consumedSegments:a.consumed,remainingSegments:t.slice(a.consumed.length),parameters:h,positionalParamSegments:null!==(i=a.posParams)&&void 0!==i?i:{}}}function lu(n,e,t,i,r="corrected"){if(t.length>0&&function Lx(n,e,t){return t.some(i=>Dg(n,e,i)&&li(i)!==Rt)}(n,t,i)){const c=new Ht(e,function Nx(n,e,t,i){const r={};r[Rt]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&li(a)!==Rt){const c=new Ht([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,r[li(a)]=c}return r}(n,e,i,new Ht(t,n.children)));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:[]}}if(0===t.length&&function h0(n,e,t){return t.some(i=>Dg(n,e,i))}(n,t,i)){const c=new Ht(n.segments,function d0(n,e,t,i,r,a){const c={};for(const h of i)if(Dg(n,t,h)&&!r[li(h)]){const y=new Ht([],{});y._sourceSegment=n,y._segmentIndexShift="legacy"===a?n.segments.length:e.length,c[li(h)]=y}return Object.assign(Object.assign({},r),c)}(n,e,t,i,n.children,r));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}const a=new Ht(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}function Dg(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Ty(n,e,t,i){return!!(li(n)===i||i!==Rt&&Dg(e,t,n))&&("**"===n.path||Wi(e,n,t).matched)}function f0(n,e,t){return 0===e.length&&!n.children[t]}const wf=!1;class xg{constructor(e){this.segmentGroup=e||null}}class p0{constructor(e){this.urlTree=e}}function Cf(n){return hr(new xg(n))}function g0(n){return hr(new p0(n))}class Bx{constructor(e,t,i,r,a){this.injector=e,this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=a,this.allowRedirects=!0}apply(){const e=lu(this.urlTree.root,[],[],this.config).segmentGroup,t=new Ht(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Rt).pipe((0,tt.U)(a=>this.createUrlTree(rs(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(lt(a=>{if(a instanceof p0)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof xg?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Rt).pipe((0,tt.U)(r=>this.createUrlTree(rs(r),e.queryParams,e.fragment))).pipe(lt(r=>{throw r instanceof xg?this.noMatchError(r):r}))}noMatchError(e){return new u.vHH(4002,wf)}createUrlTree(e,t,i){const r=eu(e);return new ia(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,tt.U)(a=>new Ht([],a))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const a of Object.keys(i.children))"primary"===a?r.unshift(a):r.push(a);return(0,pn.D)(r).pipe(Ie(a=>{const c=i.children[a],h=aa(t,a);return this.expandSegmentGroup(e,h,c,a).pipe((0,tt.U)(y=>({segment:y,outlet:a})))}),kt((a,c)=>(a[c.outlet]=c.segment,a),{}),xn())}expandSegment(e,t,i,r,a,c){return(0,pn.D)(i).pipe(Ie(h=>this.expandSegmentAgainstRoute(e,t,i,h,r,a,c).pipe(lt(w=>{if(w instanceof xg)return it(null);throw w}))),ae(h=>!!h),lt((h,y)=>{if(Xn(h))return f0(t,r,a)?it(new Ht([],{})):Cf(t);throw h}))}expandSegmentAgainstRoute(e,t,i,r,a,c,h){return Ty(r,t,a,c)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,a,c):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,a,c):Cf(t):Cf(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,a,c){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,a,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const a=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?g0(a):this.lineralizeSegments(i,a).pipe((0,I.z)(c=>{const h=new Ht(c,{});return this.expandSegment(e,h,t,c,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,a,c){const{matched:h,consumedSegments:y,remainingSegments:w,positionalParamSegments:x}=Wi(t,r,a);if(!h)return Cf(t);const T=this.applyRedirectCommands(y,r.redirectTo,x);return r.redirectTo.startsWith("/")?g0(T):this.lineralizeSegments(r,T).pipe((0,I.z)(P=>this.expandSegment(e,t,i,P.concat(w),c,!1)))}matchSegmentAgainstRoute(e,t,i,r,a){return"**"===i.path?(e=bo(i,e),i.loadChildren?(i._loadedRoutes?it({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(e,i)).pipe((0,tt.U)(h=>(i._loadedRoutes=h.routes,i._loadedInjector=h.injector,new Ht(r,{})))):it(new Ht(r,{}))):Eg(t,i,r,e).pipe(Rn(({matched:c,consumedSegments:h,remainingSegments:y})=>{var w;return c?(e=null!==(w=i._injector)&&void 0!==w?w:e,this.getChildConfig(e,i,r).pipe((0,I.z)(T=>{var P;const V=null!==(P=T.injector)&&void 0!==P?P:e,U=T.routes,{segmentGroup:Q,slicedSegments:_e}=lu(t,h,y,U),xe=new Ht(Q.segments,Q.children);if(0===_e.length&&xe.hasChildren())return this.expandChildren(V,U,xe).pipe((0,tt.U)(Ct=>new Ht(h,Ct)));if(0===U.length&&0===_e.length)return it(new Ht(h,{}));const Ke=li(i)===a;return this.expandSegment(V,xe,U,_e,Ke?Rt:a,!0).pipe((0,tt.U)(Je=>new Ht(h.concat(Je.segments),Je.children)))}))):Cf(t)}))}getChildConfig(e,t,i){return t.children?it({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?it({routes:t._loadedRoutes,injector:t._loadedInjector}):function My(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?it(!0):it(r.map(c=>{const h=lc(c,n);return po(function j(n){return n&&S(n.canLoad)}(h)?h.canLoad(e,t):n.runInContext(()=>h(e,t)))})).pipe(wo(),Ei())}(e,t,i).pipe((0,I.z)(r=>r?this.configLoader.loadChildren(e,t).pipe((0,Fe.b)(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):function Fd(n){return hr(yg(wf,3))}())):it({routes:[],injector:e})}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return it(i);if(r.numberOfChildren>1||!r.children[Rt])return hr(new u.vHH(4e3,wf));r=r.children[Rt]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const a=this.createSegmentGroup(e,t.root,i,r);return new ia(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return ai(e,(r,a)=>{if("string"==typeof r&&r.startsWith(":")){const h=r.substring(1);i[a]=t[h]}else i[a]=r}),i}createSegmentGroup(e,t,i,r){const a=this.createSegments(e,t.segments,i,r);let c={};return ai(t.children,(h,y)=>{c[y]=this.createSegmentGroup(e,h,i,r)}),new Ht(a,c)}createSegments(e,t,i,r){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,r):this.findOrReturn(a,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new u.vHH(4001,wf);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}class XO{}class la{constructor(e,t,i,r,a,c,h,y){this.injector=e,this.rootComponentType=t,this.config=i,this.urlTree=r,this.url=a,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=h,this.urlSerializer=y}recognize(){const e=lu(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Rt).pipe((0,tt.U)(t=>{if(null===t)return null;const i=new Zs([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Rt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Ys(i,t),a=new Ad(this.url,r);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(e){const t=e.value,i=Id(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r)}processChildren(e,t,i){return(0,pn.D)(Object.keys(i.children)).pipe(Ie(r=>{const a=i.children[r],c=aa(t,r);return this.processSegmentGroup(e,c,a,r)}),kt((r,a)=>r&&a?(r.push(...a),r):null),function Ci(n,e=!1){return(0,qn.e)((t,i)=>{let r=0;t.subscribe((0,Tn.x)(i,a=>{const c=n(a,r++);(c||e)&&i.next(a),!c&&i.complete()}))})}(r=>null!==r),O(null),xn(),(0,tt.U)(r=>{if(null===r)return null;const a=Fy(r);return function Oy(n){n.sort((e,t)=>e.value.outlet===Rt?-1:t.value.outlet===Rt?1:e.value.outlet.localeCompare(t.value.outlet))}(a),a}))}processSegment(e,t,i,r,a){return(0,pn.D)(t).pipe(Ie(c=>{var h;return this.processSegmentAgainstRoute(null!==(h=c._injector)&&void 0!==h?h:e,c,i,r,a)}),ae(c=>!!c),lt(c=>{if(Xn(c))return f0(i,r,a)?it([]):it(null);throw c}))}processSegmentAgainstRoute(e,t,i,r,a){var c,h;if(t.redirectTo||!Ty(t,i,r,a))return it(null);let y;if("**"===t.path){const w=r.length>0?eg(r).parameters:{},x=y0(i)+r.length;y=it({snapshot:new Zs(r,w,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ig(t),li(t),null!==(h=null!==(c=t.component)&&void 0!==c?c:t._loadedComponent)&&void 0!==h?h:null,t,Pd(i),x,Ag(t),x),consumedSegments:[],remainingSegments:[]})}else y=Eg(i,t,r,e).pipe((0,tt.U)(({matched:w,consumedSegments:x,remainingSegments:T,parameters:P})=>{var V,U;if(!w)return null;const Q=y0(i)+x.length;return{snapshot:new Zs(x,P,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ig(t),li(t),null!==(U=null!==(V=t.component)&&void 0!==V?V:t._loadedComponent)&&void 0!==U?U:null,t,Pd(i),Q,Ag(t),Q),consumedSegments:x,remainingSegments:T}}));return y.pipe(Rn(w=>{var x,T;if(null===w)return it(null);const{snapshot:P,consumedSegments:V,remainingSegments:U}=w;e=null!==(x=t._injector)&&void 0!==x?x:e;const Q=null!==(T=t._loadedInjector)&&void 0!==T?T:e,_e=function ky(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:xe,slicedSegments:Ke}=lu(i,V,U,_e.filter(Je=>void 0===Je.redirectTo),this.relativeLinkResolution);if(0===Ke.length&&xe.hasChildren())return this.processChildren(Q,_e,xe).pipe((0,tt.U)(Je=>null===Je?null:[new Ys(P,Je)]));if(0===_e.length&&0===Ke.length)return it([new Ys(P,[])]);const ft=li(t)===a;return this.processSegment(Q,_e,xe,Ke,ft?Rt:a).pipe((0,tt.U)(Je=>null===Je?null:[new Ys(P,Je)]))}))}}function jx(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Fy(n){const e=[],t=new Set;for(const i of n){if(!jx(i)){e.push(i);continue}const r=e.find(a=>i.value.routeConfig===a.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=Fy(i.children);e.push(new Ys(i.value,r))}return e.filter(i=>!t.has(i))}function Pd(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function y0(n){var e,t;let i=n,r=null!==(e=i._segmentIndexShift)&&void 0!==e?e:0;for(;i._sourceSegment;)i=i._sourceSegment,r+=null!==(t=i._segmentIndexShift)&&void 0!==t?t:0;return r-1}function Ig(n){return n.data||{}}function Ag(n){return n.resolve||{}}function Sg(n){return"string"==typeof n.title||null===n.title}function Ny(n){return Rn(e=>{const t=n(e);return t?(0,pn.D)(t).pipe((0,tt.U)(()=>e)):it(e)})}let w0=(()=>{class n{buildTitle(t){var i;let r,a=t.root;for(;void 0!==a;)r=null!==(i=this.getResolvedTitleForRoute(a))&&void 0!==i?i:r,a=a.children.find(c=>c.outlet===Rt);return r}getResolvedTitleForRoute(t){return t.data[pr]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(C0)},providedIn:"root"}),n})(),C0=(()=>{class n extends w0{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Gs))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class $x{}class E0 extends class zx{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Ef=new u.OlP("",{providedIn:"root",factory:()=>({})}),Vy=new u.OlP("ROUTES");let By=(()=>{class n{constructor(t,i){this.injector=t,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return it(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=po(t.loadComponent()).pipe((0,Fe.b)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),zs(()=>{this.componentLoaders.delete(t)})),r=new is(i,()=>new Pt.x).pipe(ta());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return it({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const a=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,tt.U)(h=>{this.onLoadEndListener&&this.onLoadEndListener(i);let y,w,x=!1;Array.isArray(h)?w=h:(y=h.create(t).injector,w=Jp(y.get(Vy,[],u.XFs.Self|u.XFs.Optional)));return{routes:w.map(pf),injector:y}}),zs(()=>{this.childrenLoaders.delete(i)})),c=new is(a,()=>new Pt.x).pipe(ta());return this.childrenLoaders.set(i,c),c}loadModuleFactoryOrRoutes(t){return po(t()).pipe((0,I.z)(i=>i instanceof u.YKP||Array.isArray(i)?it(i):(0,pn.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.zs3),u.LFG(u.Sil))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class D0{}class x0{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function I0(n){throw n}function A0(n,e,t){return e.parse("/")}const qx={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},nk={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function S0(){var n,e;const t=(0,u.f3M)(Xh),i=(0,u.f3M)(Md),r=(0,u.f3M)(Ve),a=(0,u.f3M)(u.zs3),c=(0,u.f3M)(u.Sil),h=null!==(n=(0,u.f3M)(Vy,{optional:!0}))&&void 0!==n?n:[],y=null!==(e=(0,u.f3M)(Ef,{optional:!0}))&&void 0!==e?e:{},w=(0,u.f3M)(C0),x=(0,u.f3M)(w0,{optional:!0}),T=(0,u.f3M)(D0,{optional:!0}),P=(0,u.f3M)($x,{optional:!0}),V=new Yi(null,t,i,r,a,c,Jp(h));return T&&(V.urlHandlingStrategy=T),P&&(V.routeReuseStrategy=P),V.titleStrategy=null!=x?x:w,function Tg(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(y,V),V}let Yi=(()=>{class n{constructor(t,i,r,a,c,h,y){this.rootComponentType=t,this.urlSerializer=i,this.rootContexts=r,this.location=a,this.config=y,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Pt.x,this.errorHandler=I0,this.malformedUriErrorHandler=A0,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>it(void 0),this.urlHandlingStrategy=new x0,this.routeReuseStrategy=new E0,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=c.get(By),this.configLoader.onLoadEndListener=P=>this.triggerEvent(new lf(P)),this.configLoader.onLoadStartListener=P=>this.triggerEvent(new hg(P)),this.ngModule=c.get(u.h0i),this.console=c.get(u.c2e);const T=c.get(u.R0b);this.isNgZoneEnabled=T instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(y),this.currentUrlTree=function ng(){return new ia(new Ht([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Dd(this.currentUrlTree,this.rootComponentType),this.transitions=new bn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const i=this.events;return t.pipe(D(r=>0!==r.id),(0,tt.U)(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),Rn(r=>{let a=!1,c=!1;return it(r).pipe((0,Fe.b)(h=>{this.currentNavigation={id:h.id,initialUrl:h.rawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Rn(h=>{const y=this.browserUrlTree.toString(),w=!this.navigated||h.extractedUrl.toString()!==y||y!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||w)&&this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return Uy(h.source)&&(this.browserUrlTree=h.extractedUrl),it(h).pipe(Rn(T=>{const P=this.transitions.getValue();return i.next(new rf(T.id,this.serializeUrl(T.extractedUrl),T.source,T.restoredState)),P!==this.transitions.getValue()?ns.E:Promise.resolve(T)}),function Ux(n,e,t,i){return Rn(r=>function ll(n,e,t,i,r){return new Bx(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe((0,tt.U)(a=>Object.assign(Object.assign({},r),{urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Fe.b)(T=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:T.urlAfterRedirects}),r.urlAfterRedirects=T.urlAfterRedirects}),function v0(n,e,t,i,r,a){return(0,I.z)(c=>function JO(n,e,t,i,r,a,c="emptyOnly",h="legacy"){return new la(n,e,t,i,r,c,h,a).recognize().pipe(Rn(y=>null===y?function m0(n){return new Ln.y(e=>e.error(n))}(new XO):it(y)))}(n,e,t,c.urlAfterRedirects,i.serialize(c.urlAfterRedirects),i,r,a).pipe((0,tt.U)(h=>Object.assign(Object.assign({},c),{targetSnapshot:h}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Fe.b)(T=>{if(r.targetSnapshot=T.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!T.extras.skipLocationChange){const V=this.urlHandlingStrategy.merge(T.urlAfterRedirects,T.rawUrl);this.setBrowserUrl(V,T)}this.browserUrlTree=T.urlAfterRedirects}const P=new sf(T.id,this.serializeUrl(T.extractedUrl),this.serializeUrl(T.urlAfterRedirects),T.targetSnapshot);i.next(P)}));if(w&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:P,extractedUrl:V,source:U,restoredState:Q,extras:_e}=h,xe=new rf(P,this.serializeUrl(V),U,Q);i.next(xe);const Ke=Dd(V,this.rootComponentType).snapshot;return it(r=Object.assign(Object.assign({},h),{targetSnapshot:Ke,urlAfterRedirects:V,extras:Object.assign(Object.assign({},_e),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=h.rawUrl,h.resolve(null),ns.E}),(0,Fe.b)(h=>{const y=new n0(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(y)}),(0,tt.U)(h=>r=Object.assign(Object.assign({},h),{guards:u0(h.targetSnapshot,h.currentSnapshot,this.rootContexts)})),function _f(n,e){return(0,I.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:a,canDeactivateChecks:c}}=t;return 0===c.length&&0===a.length?it(Object.assign(Object.assign({},t),{guardsResult:!0})):function _g(n,e,t,i){return(0,pn.D)(n).pipe((0,I.z)(r=>function wg(n,e,t,i,r){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?it(a.map(h=>{var y;const w=null!==(y=ac(e))&&void 0!==y?y:r,x=lc(h,w);return po(function Me(n){return n&&S(n.canDeactivate)}(x)?x.canDeactivate(n,e,t,i):w.runInContext(()=>x(n,e,t,i))).pipe(ae())})).pipe(wo()):it(!0)}(r.component,r.route,t,e,i)),ae(r=>!0!==r,!0))}(c,i,r,n).pipe((0,I.z)(h=>h&&function R(n){return"boolean"==typeof n}(h)?function Od(n,e,t,i){return(0,pn.D)(e).pipe(Ie(r=>xs(function vg(n,e){return null!==n&&e&&e(new wd(n)),it(!0)}(r.route.parent,i),function vf(n,e){return null!==n&&e&&e(new fg(n)),it(!0)}(r.route,i),function kd(n,e,t){const i=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(c=>function c0(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>Nr(()=>it(c.guards.map(y=>{var w;const x=null!==(w=ac(c.node))&&void 0!==w?w:t,T=lc(y,x);return po(function Ne(n){return n&&S(n.canActivateChild)}(T)?T.canActivateChild(i,n):x.runInContext(()=>T(i,n))).pipe(ae())})).pipe(wo())));return it(a).pipe(wo())}(n,r.path,t),function bg(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return it(!0);const r=i.map(a=>Nr(()=>{var c;const h=null!==(c=ac(e))&&void 0!==c?c:t,y=lc(a,h);return po(function se(n){return n&&S(n.canActivate)}(y)?y.canActivate(e,n):h.runInContext(()=>y(e,n))).pipe(ae())}));return it(r).pipe(wo())}(n,r.route,t))),ae(r=>!0!==r,!0))}(i,a,n,e):it(h)),(0,tt.U)(h=>Object.assign(Object.assign({},t),{guardsResult:h})))})}(this.ngModule.injector,h=>this.triggerEvent(h)),(0,Fe.b)(h=>{if(r.guardsResult=h.guardsResult,ra(h.guardsResult))throw su(0,h.guardsResult);const y=new r0(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.triggerEvent(y)}),D(h=>!!h.guardsResult||(this.restoreHistory(h),this.cancelNavigationTransition(h,"",3),!1)),Ny(h=>{if(h.guards.canActivateChecks.length)return it(h).pipe((0,Fe.b)(y=>{const w=new rc(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(w)}),Rn(y=>{let w=!1;return it(y).pipe(function ek(n,e){return(0,I.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return it(t);let a=0;return(0,pn.D)(r).pipe(Ie(c=>function Nd(n,e,t,i){const r=n.routeConfig,a=n._resolve;return void 0!==(null==r?void 0:r.title)&&!Sg(r)&&(a[pr]=r.title),function Py(n,e,t,i){const r=function b0(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return it({});const a={};return(0,pn.D)(r).pipe((0,I.z)(c=>function Gx(n,e,t,i){var r;const a=null!==(r=ac(e))&&void 0!==r?r:i,c=lc(n,a);return po(c.resolve?c.resolve(e,t):a.runInContext(()=>c(e,t)))}(n[c],e,t,i).pipe(ae(),(0,Fe.b)(h=>{a[c]=h}))),pt(1),function Is(n){return(0,tt.U)(()=>n)}(a),lt(c=>Xn(c)?ns.E:hr(c)))}(a,n,e,i).pipe((0,tt.U)(c=>(n._resolvedData=c,n.data=Id(n,t).resolve,r&&Sg(r)&&(n.data[pr]=r.title),null)))}(c.route,i,n,e)),(0,Fe.b)(()=>a++),pt(1),(0,I.z)(c=>a===r.length?it(t):ns.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Fe.b)({next:()=>w=!0,complete:()=>{w||(this.restoreHistory(y),this.cancelNavigationTransition(y,"",2))}}))}),(0,Fe.b)(y=>{const w=new af(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(w)}))}),Ny(h=>{const y=w=>{var x;const T=[];(null===(x=w.routeConfig)||void 0===x?void 0:x.loadComponent)&&!w.routeConfig._loadedComponent&&T.push(this.configLoader.loadComponent(w.routeConfig).pipe((0,Fe.b)(P=>{w.component=P}),(0,tt.U)(()=>{})));for(const P of w.children)T.push(...y(P));return T};return Ja(y(h.targetSnapshot.root)).pipe(O(),jt(1))}),Ny(()=>this.afterPreactivation()),(0,tt.U)(h=>{const y=function rl(n,e,t){const i=sl(n,e._root,t?t._root:void 0);return new uf(i,e)}(this.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return r=Object.assign(Object.assign({},h),{targetRouterState:y})}),(0,Fe.b)(h=>{this.currentUrlTree=h.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),this.routerState=h.targetRouterState,"deferred"===this.urlUpdateStrategy&&(h.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,h),this.browserUrlTree=h.urlAfterRedirects)}),((n,e,t)=>(0,tt.U)(i=>(new gf(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,h=>this.triggerEvent(h)),(0,Fe.b)({next(){a=!0},complete(){a=!0}}),zs(()=>{var h;a||c||this.cancelNavigationTransition(r,"",1),(null===(h=this.currentNavigation)||void 0===h?void 0:h.id)===r.id&&(this.currentNavigation=null)}),lt(h=>{var y;if(c=!0,ou(h)){or(h)||(this.navigated=!0,this.restoreHistory(r,!0));const w=new bd(r.id,this.serializeUrl(r.extractedUrl),h.message,h.cancellationCode);if(i.next(w),or(h)){const x=this.urlHandlingStrategy.merge(h.url,this.rawUrlTree),T={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Uy(r.source)};this.scheduleNavigation(x,"imperative",null,T,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{this.restoreHistory(r,!0);const w=new dg(r.id,this.serializeUrl(r.extractedUrl),h,null!==(y=r.targetSnapshot)&&void 0!==y?y:void 0);i.next(w);try{r.resolve(this.errorHandler(h))}catch(x){r.reject(x)}}return ns.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var r;const a={replaceUrl:!0},c=null!==(r=t.state)&&void 0!==r&&r.navigationId?t.state:null;if(c){const y=Object.assign({},c);delete y.navigationId,delete y.\u0275routerPageId,0!==Object.keys(y).length&&(a.state=y)}const h=this.parseUrl(t.url);this.scheduleNavigation(h,i,c,a)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(pf),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:a,fragment:c,queryParamsHandling:h,preserveFragment:y}=i,w=r||this.routerState.root,x=y?this.currentUrlTree.fragment:c;let T=null;switch(h){case"merge":T=Object.assign(Object.assign({},this.currentUrlTree.queryParams),a);break;case"preserve":T=this.currentUrlTree.queryParams;break;default:T=a||null}return null!==T&&(T=this.removeEmptyProps(T)),t0(w,this.currentUrlTree,t,T,null!=x?x:null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=ra(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,i)}navigate(t,i={skipLocationChange:!1}){return function M0(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new u.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?Object.assign({},qx):!1===i?Object.assign({},nk):i,ra(t))return fy(this.currentUrlTree,t,r);const a=this.parseUrl(t);return fy(this.currentUrlTree,a,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const a=t[r];return null!=a&&(i[r]=a),i},{})}processNavigations(){this.navigations.subscribe(t=>{var i;this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new _o(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,null===(i=this.titleStrategy)||void 0===i||i.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,i,r,a,c){var h,y;if(this.disposed)return Promise.resolve(!1);let w,x,T;c?(w=c.resolve,x=c.reject,T=c.promise):T=new Promise((U,Q)=>{w=U,x=Q});const P=++this.navigationId;let V;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),V=r&&r.\u0275routerPageId?r.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?null!==(h=this.browserPageId)&&void 0!==h?h:0:(null!==(y=this.browserPageId)&&void 0!==y?y:0)+1):V=0,this.setTransition({id:P,targetPageId:V,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:a,resolve:w,reject:x,promise:T,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),T.catch(U=>Promise.reject(U))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),a=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",a):this.location.go(r,"",a)}restoreHistory(t,i=!1){var r,a;if("computed"===this.canceledNavigationResolution){const c=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===c?this.currentUrlTree===(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)&&0===c&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(c)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,i,r){const a=new bd(t.id,this.serializeUrl(t.extractedUrl),i,r);this.triggerEvent(a),t.resolve(!1)}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:function(){return S0()},providedIn:"root"}),n})();function Uy(n){return"imperative"!==n}class jy{}let Hy=(()=>{class n{constructor(t,i,r,a,c){this.router=t,this.injector=r,this.preloadingStrategy=a,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(D(t=>t instanceof _o),Ie(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){var r,a,c;const h=[];for(const y of i){y.providers&&!y._injector&&(y._injector=(0,u.MMx)(y.providers,t,`Route: ${y.path}`));const w=null!==(r=y._injector)&&void 0!==r?r:t,x=null!==(a=y._loadedInjector)&&void 0!==a?a:w;y.loadChildren&&!y._loadedRoutes&&void 0===y.canLoad||y.loadComponent&&!y._loadedComponent?h.push(this.preloadConfig(w,y)):(y.children||y._loadedRoutes)&&h.push(this.processRoutes(x,null!==(c=y.children)&&void 0!==c?c:y._loadedRoutes))}return(0,pn.D)(h).pipe((0,Kl.J)())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):it(null);const a=r.pipe((0,I.z)(c=>{var h;return null===c?it(void 0):(i._loadedRoutes=c.routes,i._loadedInjector=c.injector,this.processRoutes(null!==(h=c.injector)&&void 0!==h?h:t,c.routes))}));if(i.loadComponent&&!i._loadedComponent){const c=this.loader.loadComponent(i);return(0,pn.D)([a,c]).pipe((0,Kl.J)())}return a})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Yi),u.LFG(u.Sil),u.LFG(u.lqb),u.LFG(jy),u.LFG(By))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const uc=new u.OlP("");let R0=(()=>{class n{constructor(t,i,r={}){this.router=t,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof rf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof _o&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ru&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.router.triggerEvent(new ru(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function cc(n,e){return{\u0275kind:n,\u0275providers:e}}function If(n){return[{provide:Vy,multi:!0,useValue:n}]}function Zx(){const n=(0,u.f3M)(u.zs3);return e=>{var t,i;const r=n.get(u.z2F);if(e!==r.components[0])return;const a=n.get(Yi),c=n.get(Gy);1===n.get($y)&&a.initialNavigation(),null===(t=n.get(Ks,null,u.XFs.Optional))||void 0===t||t.setUpPreloading(),null===(i=n.get(uc,null,u.XFs.Optional))||void 0===i||i.init(),a.resetRootComponentType(r.componentTypes[0]),c.next(),c.complete()}}const Gy=new u.OlP("",{factory:()=>new Pt.x}),$y=new u.OlP("",{providedIn:"root",factory:()=>1});const Ks=new u.OlP("");function Xx(n){return cc(0,[{provide:Ks,useExisting:Hy},{provide:jy,useExisting:n}])}const F0=new u.OlP("ROUTER_FORROOT_GUARD"),eI=[Ve,{provide:Xh,useClass:md},{provide:Yi,useFactory:S0},Md,{provide:il,useFactory:function O0(n){return n.routerState.root},deps:[Yi]},By];function P0(){return new u.PXZ("Router",Yi)}let N0=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[eI,[],If(t),{provide:F0,useFactory:L0,deps:[[Yi,new u.FiY,new u.tp0]]},{provide:Ef,useValue:i||{}},null!=i&&i.useHash?{provide:ve,useClass:mt}:{provide:ve,useClass:st},{provide:uc,useFactory:()=>{const n=(0,u.f3M)(Yi),e=(0,u.f3M)(Vh),t=(0,u.f3M)(Ef);return t.scrollOffset&&e.setOffset(t.scrollOffset),new R0(n,e,t)}},null!=i&&i.preloadingStrategy?Xx(i.preloadingStrategy).\u0275providers:[],{provide:u.PXZ,multi:!0,useFactory:P0},null!=i&&i.initialNavigation?V0(i):[],[{provide:zy,useFactory:Zx},{provide:u.tb,multi:!0,useExisting:zy}]]}}static forChild(t){return{ngModule:n,providers:[If(t)]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(F0,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[al]}),n})();function L0(n){return"guarded"}function V0(n){return["disabled"===n.initialNavigation?cc(3,[{provide:u.ip1,multi:!0,useFactory:()=>{const e=(0,u.f3M)(Yi);return()=>{e.setUpLocationChangeListener()}}},{provide:$y,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?cc(2,[{provide:$y,useValue:0},{provide:u.ip1,multi:!0,deps:[u.zs3],useFactory:e=>{const t=e.get($,Promise.resolve());let i=!1;return()=>t.then(()=>new Promise(a=>{const c=e.get(Yi),h=e.get(Gy);(function r(a){e.get(Yi).events.pipe(D(h=>h instanceof _o||h instanceof bd||h instanceof dg),(0,tt.U)(h=>h instanceof _o||h instanceof bd&&(0===h.code||1===h.code)&&null),D(h=>null!==h),jt(1)).subscribe(()=>{a()})})(()=>{a(!0),i=!0}),c.afterPreactivation=()=>(a(!0),i||h.closed?it(void 0):h),c.initialNavigation()}))}}]).\u0275providers:[]]}const zy=new u.OlP(""),B0=new u.OlP("cdk-dir-doc",{providedIn:"root",factory:function rI(){return(0,u.f3M)(ne)}}),U0=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Ld=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new u.vpe,t){const r=t.documentElement?t.documentElement.dir:null;this.value=function sI(n){const e=(null==n?void 0:n.toLowerCase())||"";return"auto"===e&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?U0.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(B0,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),dc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();var hc=F(6451);function uu(n){for(let e in n){let t=n[e]||"";switch(e){case"display":n.display="flex"===t?["-webkit-flex","flex"]:"inline-flex"===t?["-webkit-inline-flex","inline-flex"]:t;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":n["-webkit-"+e]=t;break;case"flex-direction":t=t||"row",n["-webkit-flex-direction"]=t,n["flex-direction"]=t;break;case"order":n.order=n["-webkit-"+e]=isNaN(+t)?"0":t}}return n}const qy="inline",Vd=["row","column","row-reverse","column-reverse"];function Pg(n){let[e,t,i]=j0(n);return function ak(n,e=null,t=!1){return{display:t?"inline-flex":"flex","box-sizing":"border-box","flex-direction":n,"flex-wrap":e||null}}(e,t,i)}function j0(n){var e;n=null!==(e=null==n?void 0:n.toLowerCase())&&void 0!==e?e:"";let[t,i,r]=n.split(" ");return Vd.find(a=>a===t)||(t=Vd[0]),i===qy&&(i=r!==qy?r:"",r=qy),[t,ok(i),!!r]}function Ng(n){let[e]=j0(n);return e.indexOf("row")>-1}function ok(n){if(n)switch(n.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":n="wrap-reverse";break;case"no":case"none":case"nowrap":n="nowrap";break;default:n="wrap"}return n}function ul(n,...e){if(null==n)throw TypeError("Cannot convert undefined or null to object");for(let t of e)if(null!=t)for(let i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n}const lk={provide:u.tb,useFactory:function H0(n,e){return()=>{if(gs(e)){const t=Array.from(n.querySelectorAll(`[class*=${G0}]`)),i=/\bflex-layout-.+?\b/g;t.forEach(r=>{r.classList.contains(`${G0}ssr`)&&r.parentNode?r.parentNode.removeChild(r):r.className.replace(i,"")})}}},deps:[ne,u.Lbi],multi:!0},G0="flex-layout-";let cu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[lk]}),n})();class fc{constructor(e=!1,t="all",i="",r="",a=0){this.matches=e,this.mediaQuery=t,this.mqAlias=i,this.suffix=r,this.priority=a,this.property=""}clone(){return new fc(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}let $0=(()=>{class n{constructor(){this.stylesheet=new Map}addStyleToElement(t,i,r){const a=this.stylesheet.get(t);a?a.set(i,r):this.stylesheet.set(t,new Map([[i,r]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(t,i){const r=this.stylesheet.get(t);let a="";if(r){const c=r.get(i);("number"==typeof c||"string"==typeof c)&&(a=c+"")}return a}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Bd={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[],multiplier:void 0,defaultUnit:"px",detectLayoutDisplay:!1},Co=new u.OlP("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>Bd}),pc=new u.OlP("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),Wy=new u.OlP("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function z0(n,e){return n=n?n.clone():new fc,e&&(n.mqAlias=e.alias,n.mediaQuery=e.mediaQuery,n.suffix=e.suffix,n.priority=e.priority),n}class ui{constructor(){this.shouldCache=!0}sideEffect(e,t,i){}}let Bn=(()=>{class n{constructor(t,i,r,a){this._serverStylesheet=t,this._serverModuleLoaded=i,this._platformId=r,this.layoutConfig=a}applyStyleToElement(t,i,r=null){let a={};"string"==typeof i&&(a[i]=r,i=a),a=this.layoutConfig.disableVendorPrefixes?i:uu(i),this._applyMultiValueStyleToElement(a,t)}applyStyleToElements(t,i=[]){const r=this.layoutConfig.disableVendorPrefixes?t:uu(t);i.forEach(a=>{this._applyMultiValueStyleToElement(r,a)})}getFlowDirection(t){const i="flex-direction";let r=this.lookupStyle(t,i);return[r||"row",this.lookupInlineStyle(t,i)||Or(this._platformId)&&this._serverModuleLoaded?r:""]}hasWrap(t){return"wrap"===this.lookupStyle(t,"flex-wrap")}lookupAttributeValue(t,i){var r;return null!==(r=t.getAttribute(i))&&void 0!==r?r:""}lookupInlineStyle(t,i){return gs(this._platformId)?t.style.getPropertyValue(i):function oI(n,e){var t;return null!==(t=Yy(n)[e])&&void 0!==t?t:""}(t,i)}lookupStyle(t,i,r=!1){let a="";return t&&((a=this.lookupInlineStyle(t,i))||(gs(this._platformId)?r||(a=getComputedStyle(t).getPropertyValue(i)):this._serverModuleLoaded&&(a=this._serverStylesheet.getStyleForElement(t,i)))),a?a.trim():""}_applyMultiValueStyleToElement(t,i){Object.keys(t).sort().forEach(r=>{const a=t[r],c=Array.isArray(a)?a:[a];c.sort();for(let h of c)h=h?h+"":"",gs(this._platformId)||!this._serverModuleLoaded?gs(this._platformId)?i.style.setProperty(r,h):q0(i,r,h):this._serverStylesheet.addStyleToElement(i,r,h)})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG($0),u.LFG(pc),u.LFG(u.Lbi),u.LFG(Co))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function q0(n,e,t){e=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const i=Yy(n);i[e]=null!=t?t:"",function aI(n,e){let t="";for(const i in e)e[i]&&(t+=`${i}:${e[i]};`);n.setAttribute("style",t)}(n,i)}function Yy(n){const e={},t=n.getAttribute("style");if(t){const i=t.split(/;+/g);for(let r=0;r<i.length;r++){const a=i[r].trim();if(a.length>0){const c=a.indexOf(":");if(-1===c)throw new Error(`Invalid CSS style: ${a}`);e[a.substr(0,c).trim()]=a.substr(c+1).trim()}}}return e}function Ud(n,e){return(e&&e.priority||0)-(n&&n.priority||0)}function Zy(n,e){return(n.priority||0)-(e.priority||0)}let W0=(()=>{class n{constructor(t,i,r){this._zone=t,this._platformId=i,this._document=r,this.source=new bn(new fc(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}get activations(){const t=[];return this.registry.forEach((i,r)=>{i.matches&&t.push(r)}),t}isActive(t){var i;const r=this.registry.get(t);return null!==(i=null==r?void 0:r.matches)&&void 0!==i?i:this.registerQuery(t).some(a=>a.matches)}observe(t,i=!1){if(t&&t.length){const r=this._observable$.pipe(D(c=>!i||t.indexOf(c.mediaQuery)>-1)),a=new Ln.y(c=>{const h=this.registerQuery(t);if(h.length){const y=h.pop();h.forEach(w=>{c.next(w)}),this.source.next(y)}c.complete()});return(0,hc.T)(a,r)}return this._observable$}registerQuery(t){const i=Array.isArray(t)?t:[t],r=[];return function lI(n,e){const t=n.filter(i=>!Lg[i]);if(t.length>0){const i=t.join(", ");try{const r=e.createElement("style");r.setAttribute("type","text/css"),r.styleSheet||r.appendChild(e.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${i} {.fx-query-test{ }}\n`)),e.head.appendChild(r),t.forEach(a=>Lg[a]=r)}catch(r){console.error(r)}}}(i,this._document),i.forEach(a=>{const c=y=>{this._zone.run(()=>this.source.next(new fc(y.matches,a)))};let h=this.registry.get(a);h||(h=this.buildMQL(a),h.addListener(c),this.pendingRemoveListenerFns.push(()=>h.removeListener(c)),this.registry.set(a,h)),h.matches&&r.push(new fc(!0,a))}),r}ngOnDestroy(){let t;for(;t=this.pendingRemoveListenerFns.pop();)t()}buildMQL(t){return function uk(n,e){return e&&window.matchMedia("all").addListener?window.matchMedia(n):{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{},onchange:null,addEventListener(){},removeEventListener(){},dispatchEvent:()=>!1}}(t,gs(this._platformId))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.R0b),u.LFG(u.Lbi),u.LFG(ne))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Lg={},jd=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],Ky="(orientation: portrait) and (max-width: 599.98px)",Qy="(orientation: landscape) and (max-width: 959.98px)",Af="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",Qs="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",Xy="(orientation: portrait) and (min-width: 840px)",Y0="(orientation: landscape) and (min-width: 1280px)",Eo={HANDSET:`${Ky}, ${Qy}`,TABLET:`${Af} , ${Qs}`,WEB:`${Xy}, ${Y0} `,HANDSET_PORTRAIT:`${Ky}`,TABLET_PORTRAIT:`${Af} `,WEB_PORTRAIT:`${Xy}`,HANDSET_LANDSCAPE:`${Qy}`,TABLET_LANDSCAPE:`${Qs}`,WEB_LANDSCAPE:`${Y0}`},cl=[{alias:"handset",priority:2e3,mediaQuery:Eo.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:Eo.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:Eo.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:Eo.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:Eo.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:Eo.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:Eo.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:Eo.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:Eo.WEB_PORTRAIT,overlapping:!0}],Jy=/(\.|-|_)/g;function Z0(n){let e=n.length>0?n.charAt(0):"",t=n.length>1?n.slice(1):"";return e.toUpperCase()+t}const dk=new u.OlP("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const n=(0,u.f3M)(Wy),e=(0,u.f3M)(Co),t=[].concat.apply([],(n||[]).map(r=>Array.isArray(r)?r:[r]));return function K0(n,e=[]){const t={};return n.forEach(i=>{t[i.alias]=i}),e.forEach(i=>{t[i.alias]?ul(t[i.alias],i):t[i.alias]=i}),function ck(n){return n.forEach(e=>{e.suffix||(e.suffix=function e_(n){return n.replace(Jy,"|").split("|").map(Z0).join("")}(e.alias),e.overlapping=!!e.overlapping)}),n}(Object.keys(t).map(i=>t[i]))}((e.disableDefaultBps?[]:jd).concat(e.addOrientationBps?cl:[]),t)}});let Hd=(()=>{class n{constructor(t){this.findByMap=new Map,this.items=[...t].sort(Zy)}findByAlias(t){return t?this.findWithPredicate(t,i=>i.alias===t):null}findByQuery(t){return this.findWithPredicate(t,i=>i.mediaQuery===t)}get overlappings(){return this.items.filter(t=>t.overlapping)}get aliases(){return this.items.map(t=>t.alias)}get suffixes(){return this.items.map(t=>{var i;return null!==(i=null==t?void 0:t.suffix)&&void 0!==i?i:""})}findWithPredicate(t,i){var r;let a=this.findByMap.get(t);return a||(a=null!==(r=this.items.find(i))&&void 0!==r?r:null,this.findByMap.set(t,a)),null!=a?a:null}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(dk))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const dl="print",t_={alias:dl,mediaQuery:dl,priority:1e3};let n_=(()=>{class n{constructor(t,i,r){this.breakpoints=t,this.layoutConfig=i,this._document=r,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.formerActivations=null,this.isPrinting=!1,this.queue=new i_,this.deactivations=[]}withPrintQuery(t){return[...t,dl]}isPrintEvent(t){return t.mediaQuery.startsWith(dl)}get printAlias(){var t;return[...null!==(t=this.layoutConfig.printWithBreakpoints)&&void 0!==t?t:[]]}get printBreakPoints(){return this.printAlias.map(t=>this.breakpoints.findByAlias(t)).filter(t=>null!==t)}getEventBreakpoints({mediaQuery:t}){const i=this.breakpoints.findByQuery(t);return(i?[...this.printBreakPoints,i]:this.printBreakPoints).sort(Ud)}updateEvent(t){var i;let r=this.breakpoints.findByQuery(t.mediaQuery);return this.isPrintEvent(t)&&(r=this.getEventBreakpoints(t)[0],t.mediaQuery=null!==(i=null==r?void 0:r.mediaQuery)&&void 0!==i?i:""),z0(t,r)}registerBeforeAfterPrintHooks(t){if(!this._document.defaultView||this.registeredBeforeAfterPrintHooks)return;this.registeredBeforeAfterPrintHooks=!0;const i=()=>{this.isPrinting||(this.isPrintingBeforeAfterEvent=!0,this.startPrinting(t,this.getEventBreakpoints(new fc(!0,dl))),t.updateStyles())},r=()=>{this.isPrintingBeforeAfterEvent=!1,this.isPrinting&&(this.stopPrinting(t),t.updateStyles())};this._document.defaultView.addEventListener("beforeprint",i),this._document.defaultView.addEventListener("afterprint",r),this.beforePrintEventListeners.push(i),this.afterPrintEventListeners.push(r)}interceptEvents(t){return i=>{this.isPrintEvent(i)?i.matches&&!this.isPrinting?(this.startPrinting(t,this.getEventBreakpoints(i)),t.updateStyles()):!i.matches&&this.isPrinting&&!this.isPrintingBeforeAfterEvent&&(this.stopPrinting(t),t.updateStyles()):this.collectActivations(t,i)}}blockPropagation(){return t=>!(this.isPrinting||this.isPrintEvent(t))}startPrinting(t,i){this.isPrinting=!0,this.formerActivations=t.activatedBreakpoints,t.activatedBreakpoints=this.queue.addPrintBreakpoints(i)}stopPrinting(t){t.activatedBreakpoints=this.deactivations,this.deactivations=[],this.formerActivations=null,this.queue.clear(),this.isPrinting=!1}collectActivations(t,i){if(!this.isPrinting||this.isPrintingBeforeAfterEvent){if(!this.isPrintingBeforeAfterEvent)return void(this.deactivations=[]);if(!i.matches){const r=this.breakpoints.findByQuery(i.mediaQuery);if(r){const a=this.formerActivations&&this.formerActivations.includes(r),c=!this.formerActivations&&t.activatedBreakpoints.includes(r);(a||c)&&(this.deactivations.push(r),this.deactivations.sort(Ud))}}}}ngOnDestroy(){this._document.defaultView&&(this.beforePrintEventListeners.forEach(t=>this._document.defaultView.removeEventListener("beforeprint",t)),this.afterPrintEventListeners.forEach(t=>this._document.defaultView.removeEventListener("afterprint",t)))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Hd),u.LFG(Co),u.LFG(ne))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class i_{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(e){return e.push(t_),e.sort(Ud),e.forEach(t=>this.addBreakpoint(t)),this.printBreakpoints}addBreakpoint(e){e&&void 0===this.printBreakpoints.find(i=>i.mediaQuery===e.mediaQuery)&&(this.printBreakpoints=function hk(n){var e;return null!==(e=null==n?void 0:n.mediaQuery.startsWith(dl))&&void 0!==e&&e}(e)?[e,...this.printBreakpoints]:[...this.printBreakpoints,e])}clear(){this.printBreakpoints=[]}}let Wn=(()=>{class n{constructor(t,i,r){this.matchMedia=t,this.breakpoints=i,this.hook=r,this._useFallbacks=!0,this._activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new Pt.x,this.observeActivations()}get activatedAlias(){var t,i;return null!==(i=null===(t=this.activatedBreakpoints[0])||void 0===t?void 0:t.alias)&&void 0!==i?i:""}set activatedBreakpoints(t){this._activatedBreakpoints=[...t]}get activatedBreakpoints(){return[...this._activatedBreakpoints]}set useFallbacks(t){this._useFallbacks=t}onMediaChange(t){const i=this.findByQuery(t.mediaQuery);if(i){t=z0(t,i);const r=this.activatedBreakpoints.indexOf(i);t.matches&&-1===r?(this._activatedBreakpoints.push(i),this._activatedBreakpoints.sort(Ud),this.updateStyles()):!t.matches&&-1!==r&&(this._activatedBreakpoints.splice(r,1),this._activatedBreakpoints.sort(Ud),this.updateStyles())}}init(t,i,r,a,c=[]){Q0(this.updateMap,t,i,r),Q0(this.clearMap,t,i,a),this.buildElementKeyMap(t,i),this.watchExtraTriggers(t,i,c)}getValue(t,i,r){const a=this.elementMap.get(t);if(a){const c=void 0!==r?a.get(r):this.getActivatedValues(a,i);if(c)return c.get(i)}}hasValue(t,i){const r=this.elementMap.get(t);if(r){const a=this.getActivatedValues(r,i);if(a)return void 0!==a.get(i)||!1}return!1}setValue(t,i,r,a){var c;let h=this.elementMap.get(t);if(h){const w=(null!==(c=h.get(a))&&void 0!==c?c:new Map).set(i,r);h.set(a,w),this.elementMap.set(t,h)}else h=(new Map).set(a,(new Map).set(i,r)),this.elementMap.set(t,h);const y=this.getValue(t,i);void 0!==y&&this.updateElement(t,i,y)}trackValue(t,i){return this.subject.asObservable().pipe(D(r=>r.element===t&&r.key===i))}updateStyles(){this.elementMap.forEach((t,i)=>{const r=new Set(this.elementKeyMap.get(i));let a=this.getActivatedValues(t);a&&a.forEach((c,h)=>{this.updateElement(i,h,c),r.delete(h)}),r.forEach(c=>{if(a=this.getActivatedValues(t,c),a){const h=a.get(c);this.updateElement(i,c,h)}else this.clearElement(i,c)})})}clearElement(t,i){const r=this.clearMap.get(t);if(r){const a=r.get(i);a&&(a(),this.subject.next({element:t,key:i,value:""}))}}updateElement(t,i,r){const a=this.updateMap.get(t);if(a){const c=a.get(i);c&&(c(r),this.subject.next({element:t,key:i,value:r}))}}releaseElement(t){const i=this.watcherMap.get(t);i&&(i.forEach(a=>a.unsubscribe()),this.watcherMap.delete(t));const r=this.elementMap.get(t);r&&(r.forEach((a,c)=>r.delete(c)),this.elementMap.delete(t))}triggerUpdate(t,i){const r=this.elementMap.get(t);if(r){const a=this.getActivatedValues(r,i);a&&(i?this.updateElement(t,i,a.get(i)):a.forEach((c,h)=>this.updateElement(t,h,c)))}}buildElementKeyMap(t,i){let r=this.elementKeyMap.get(t);r||(r=new Set,this.elementKeyMap.set(t,r)),r.add(i)}watchExtraTriggers(t,i,r){if(r&&r.length){let a=this.watcherMap.get(t);if(a||(a=new Map,this.watcherMap.set(t,a)),!a.get(i)){const h=(0,hc.T)(...r).subscribe(()=>{const y=this.getValue(t,i);this.updateElement(t,i,y)});a.set(i,h)}}}findByQuery(t){return this.breakpoints.findByQuery(t)}getActivatedValues(t,i){for(let a=0;a<this.activatedBreakpoints.length;a++){const h=t.get(this.activatedBreakpoints[a].alias);if(h&&(void 0===i||h.has(i)&&null!=h.get(i)))return h}if(!this._useFallbacks)return;const r=t.get("");return void 0===i||r&&r.has(i)?r:void 0}observeActivations(){const t=this.breakpoints.items.map(i=>i.mediaQuery);this.hook.registerBeforeAfterPrintHooks(this),this.matchMedia.observe(this.hook.withPrintQuery(t)).pipe((0,Fe.b)(this.hook.interceptEvents(this)),D(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(W0),u.LFG(Hd),u.LFG(n_))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Q0(n,e,t,i){var r;if(void 0!==i){const a=null!==(r=n.get(e))&&void 0!==r?r:new Map;a.set(t,i),n.set(e,a)}}let Jn=(()=>{class n{constructor(t,i,r,a){this.elementRef=t,this.styleBuilder=i,this.styler=r,this.marshal=a,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new Pt.x,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(t){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,t,this.marshal.activatedAlias)}ngOnChanges(t){Object.keys(t).forEach(i=>{if(-1!==this.inputs.indexOf(i)){const r=i.split(".").slice(1).join(".");this.setValue(t[i].currentValue,r)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(t=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),t)}addStyles(t,i){const r=this.styleBuilder,a=r.shouldCache;let c=this.styleCache.get(t);(!c||!a)&&(c=r.buildStyles(t,i),a&&this.styleCache.set(t,c)),this.mru=Object.assign({},c),this.applyStyleToElement(c),r.sideEffect(t,c,i)}clearStyles(){Object.keys(this.mru).forEach(t=>{this.mru[t]=""}),this.applyStyleToElement(this.mru),this.mru={},this.currentValue=void 0}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(t,i=!1){if(t){const[r,a]=this.styler.getFlowDirection(t);if(!a&&i){const c=Pg(r);this.styler.applyStyleToElements(c,[t])}return r.trim()}return"row"}hasWrap(t){return this.styler.hasWrap(t)}applyStyleToElement(t,i,r=this.nativeElement){this.styler.applyStyleToElement(r,t,i)}setValue(t,i){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,t,i)}updateWithValue(t){this.currentValue!==t&&(this.addStyles(t),this.currentValue=t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(ui),u.Y36(Bn),u.Y36(Wn))},n.\u0275dir=u.lG2({type:n,features:[u.TTD]}),n})();function Vg(n,e="1",t="1"){let i=[e,t,n],r=n.indexOf("calc");if(r>0){i[2]=hI(n.substring(r).trim());let a=n.substr(0,r).trim().split(" ");2==a.length&&(i[0]=a[0],i[1]=a[1])}else if(0==r)i[2]=hI(n.trim());else{let a=n.split(" ");i=3===a.length?a:[e,t,n]}return i}function hI(n){return n.replace(/[\s]/g,"").replace(/[\/\*\+\-]/g," $& ")}function r_(n,e){if(void 0===e)return n;const t=i=>{const r=+i.slice(0,-"x".length);return n.endsWith("x")&&!isNaN(r)?`${r*e.value}${e.unit}`:n};return n.includes(" ")?n.split(" ").map(t).join(" "):t(n)}var gk=F(5032);function Do(n){return(0,qn.e)((e,t)=>{(0,Pr.Xf)(n).subscribe((0,Tn.x)(t,()=>t.complete(),gk.Z)),!t.closed&&e.subscribe(t)})}let mk=(()=>{class n extends ui{buildStyles(t,{display:i}){const r=Pg(t);return Object.assign(Object.assign({},r),{display:"none"===i?i:r.display})}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=u.n5z(n)))(i||n)}}(),n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const yk=["fxLayout","fxLayout.xs","fxLayout.sm","fxLayout.md","fxLayout.lg","fxLayout.xl","fxLayout.lt-sm","fxLayout.lt-md","fxLayout.lt-lg","fxLayout.lt-xl","fxLayout.gt-xs","fxLayout.gt-sm","fxLayout.gt-md","fxLayout.gt-lg"];let _k=(()=>{class n extends Jn{constructor(t,i,r,a,c){super(t,r,i,a),this._config=c,this.DIRECTIVE_KEY="layout",this.init()}updateWithValue(t){var i;const a=this._config.detectLayoutDisplay?this.styler.lookupStyle(this.nativeElement,"display"):"";this.styleCache=null!==(i=hl.get(a))&&void 0!==i?i:new Map,hl.set(a,this.styleCache),this.currentValue!==t&&(this.addStyles(t,{display:a}),this.currentValue=t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(Bn),u.Y36(mk),u.Y36(Wn),u.Y36(Co))},n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),n})(),gc=(()=>{class n extends _k{constructor(){super(...arguments),this.inputs=yk}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=u.n5z(n)))(i||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["","fxLayout",""],["","fxLayout.xs",""],["","fxLayout.sm",""],["","fxLayout.md",""],["","fxLayout.lg",""],["","fxLayout.xl",""],["","fxLayout.lt-sm",""],["","fxLayout.lt-md",""],["","fxLayout.lt-lg",""],["","fxLayout.lt-xl",""],["","fxLayout.gt-xs",""],["","fxLayout.gt-sm",""],["","fxLayout.gt-md",""],["","fxLayout.gt-lg",""]],inputs:{fxLayout:"fxLayout","fxLayout.xs":"fxLayout.xs","fxLayout.sm":"fxLayout.sm","fxLayout.md":"fxLayout.md","fxLayout.lg":"fxLayout.lg","fxLayout.xl":"fxLayout.xl","fxLayout.lt-sm":"fxLayout.lt-sm","fxLayout.lt-md":"fxLayout.lt-md","fxLayout.lt-lg":"fxLayout.lt-lg","fxLayout.lt-xl":"fxLayout.lt-xl","fxLayout.gt-xs":"fxLayout.gt-xs","fxLayout.gt-sm":"fxLayout.gt-sm","fxLayout.gt-md":"fxLayout.gt-md","fxLayout.gt-lg":"fxLayout.gt-lg"},features:[u.qOj]}),n})();const hl=new Map,Bg={"margin-left":null,"margin-right":null,"margin-top":null,"margin-bottom":null};let pI=(()=>{class n extends ui{constructor(t,i){super(),this._styler=t,this._config=i}buildStyles(t,i){return t.endsWith(Ug)?function yI(n,e){const[t,i]=n.split(" "),a=w=>`-${w}`;let c="0px",h=a(null!=i?i:t),y="0px";return"rtl"===e?y=a(t):c=a(t),{margin:`0px ${c} ${h} ${y}`}}(t=r_(t=t.slice(0,t.indexOf(Ug)),this._config.multiplier),i.directionality):{}}sideEffect(t,i,r){const a=r.items;if(t.endsWith(Ug)){const c=function iw(n,e){const[t,i]=n.split(" ");let a="0px",h="0px";return"rtl"===e?h=t:a=t,{padding:`0px ${a} ${null!=i?i:t} ${h}`}}(t=r_(t=t.slice(0,t.indexOf(Ug)),this._config.multiplier),r.directionality);this._styler.applyStyleToElements(c,r.items)}else{t=r_(t,this._config.multiplier),t=this.addFallbackUnit(t);const c=a.pop(),h=function jg(n,e){const t=rw(e.directionality,e.layout),i=Object.assign({},Bg);return i[t]=n,i}(t,r);this._styler.applyStyleToElements(h,a),this._styler.applyStyleToElements(Bg,[c])}}addFallbackUnit(t){return isNaN(+t)?t:`${t}${this._config.defaultUnit}`}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Bn),u.LFG(Co))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const J0=["fxLayoutGap","fxLayoutGap.xs","fxLayoutGap.sm","fxLayoutGap.md","fxLayoutGap.lg","fxLayoutGap.xl","fxLayoutGap.lt-sm","fxLayoutGap.lt-md","fxLayoutGap.lt-lg","fxLayoutGap.lt-xl","fxLayoutGap.gt-xs","fxLayoutGap.gt-sm","fxLayoutGap.gt-md","fxLayoutGap.gt-lg"];let tw=(()=>{class n extends Jn{constructor(t,i,r,a,c,h){super(t,c,a,h),this.zone=i,this.directionality=r,this.styleUtils=a,this.layout="row",this.DIRECTIVE_KEY="layout-gap",this.observerSubject=new Pt.x;const y=[this.directionality.change,this.observerSubject.asObservable()];this.init(y),this.marshal.trackValue(this.nativeElement,"layout").pipe(Do(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}get childrenNodes(){const t=this.nativeElement.children,i=[];for(let r=t.length;r--;)i[r]=t[r];return i}ngAfterContentInit(){this.buildChildObservable(),this.triggerUpdate()}ngOnDestroy(){super.ngOnDestroy(),this.observer&&this.observer.disconnect()}onLayoutChange(t){const r=t.value.split(" ");this.layout=r[0],Vd.find(a=>a===this.layout)||(this.layout="row"),this.triggerUpdate()}updateWithValue(t){const i=this.childrenNodes.filter(r=>1===r.nodeType&&this.willDisplay(r)).sort((r,a)=>{const c=+this.styler.lookupStyle(r,"order"),h=+this.styler.lookupStyle(a,"order");return isNaN(c)||isNaN(h)||c===h?0:c>h?1:-1});if(i.length>0){const r=this.directionality.value,a=this.layout;"row"===a&&"rtl"===r?this.styleCache=gI:"row"===a&&"rtl"!==r?this.styleCache=nw:"column"===a&&"rtl"===r?this.styleCache=hu:"column"===a&&"rtl"!==r&&(this.styleCache=mI),this.addStyles(t,{directionality:r,items:i,layout:a})}}clearStyles(){const t=Object.keys(this.mru).length>0,i=t?"padding":rw(this.directionality.value,this.layout);t&&super.clearStyles(),this.styleUtils.applyStyleToElements({[i]:""},this.childrenNodes)}willDisplay(t){const i=this.marshal.getValue(t,"show-hide");return!0===i||void 0===i&&"none"!==this.styleUtils.lookupStyle(t,"display")}buildChildObservable(){this.zone.runOutsideAngular(()=>{"undefined"!=typeof MutationObserver&&(this.observer=new MutationObserver(t=>{t.some(r=>r.addedNodes&&r.addedNodes.length>0||r.removedNodes&&r.removedNodes.length>0)&&this.observerSubject.next()}),this.observer.observe(this.nativeElement,{childList:!0}))})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.R0b),u.Y36(Ld),u.Y36(Bn),u.Y36(pI),u.Y36(Wn))},n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),n})(),du=(()=>{class n extends tw{constructor(){super(...arguments),this.inputs=J0}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=u.n5z(n)))(i||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["","fxLayoutGap",""],["","fxLayoutGap.xs",""],["","fxLayoutGap.sm",""],["","fxLayoutGap.md",""],["","fxLayoutGap.lg",""],["","fxLayoutGap.xl",""],["","fxLayoutGap.lt-sm",""],["","fxLayoutGap.lt-md",""],["","fxLayoutGap.lt-lg",""],["","fxLayoutGap.lt-xl",""],["","fxLayoutGap.gt-xs",""],["","fxLayoutGap.gt-sm",""],["","fxLayoutGap.gt-md",""],["","fxLayoutGap.gt-lg",""]],inputs:{fxLayoutGap:"fxLayoutGap","fxLayoutGap.xs":"fxLayoutGap.xs","fxLayoutGap.sm":"fxLayoutGap.sm","fxLayoutGap.md":"fxLayoutGap.md","fxLayoutGap.lg":"fxLayoutGap.lg","fxLayoutGap.xl":"fxLayoutGap.xl","fxLayoutGap.lt-sm":"fxLayoutGap.lt-sm","fxLayoutGap.lt-md":"fxLayoutGap.lt-md","fxLayoutGap.lt-lg":"fxLayoutGap.lt-lg","fxLayoutGap.lt-xl":"fxLayoutGap.lt-xl","fxLayoutGap.gt-xs":"fxLayoutGap.gt-xs","fxLayoutGap.gt-sm":"fxLayoutGap.gt-sm","fxLayoutGap.gt-md":"fxLayoutGap.gt-md","fxLayoutGap.gt-lg":"fxLayoutGap.gt-lg"},features:[u.qOj]}),n})();const gI=new Map,hu=new Map,nw=new Map,mI=new Map,Ug=" grid";function rw(n,e){switch(e){case"column":return"margin-bottom";case"column-reverse":return"margin-top";case"row":default:return"rtl"===n?"margin-left":"margin-right";case"row-reverse":return"rtl"===n?"margin-right":"margin-left"}}let Gd=(()=>{class n extends ui{constructor(t){super(),this.layoutConfig=t}buildStyles(t,i){let[r,a,...c]=t.split(" "),h=c.join(" ");const y=i.direction.indexOf("column")>-1?"column":"row",w=Ng(y)?"max-width":"max-height",x=Ng(y)?"min-width":"min-height",T=String(h).indexOf("calc")>-1,P=T||"auto"===h,V=String(h).indexOf("%")>-1&&!T,U=String(h).indexOf("px")>-1||String(h).indexOf("rem")>-1||String(h).indexOf("em")>-1||String(h).indexOf("vw")>-1||String(h).indexOf("vh")>-1;let Q=T||U;r="0"==r?0:r,a="0"==a?0:a;const _e=!r&&!a;let xe={};const Ke={"max-width":null,"max-height":null,"min-width":null,"min-height":null};switch(h||""){case"":const ft=!1!==this.layoutConfig.useColumnBasisZero;h="row"===y?"0%":ft?"0.000000001px":"auto";break;case"initial":case"nogrow":r=0,h="auto";break;case"grow":h="100%";break;case"noshrink":a=0,h="auto";break;case"auto":break;case"none":r=0,a=0,h="auto";break;default:!Q&&!V&&!isNaN(h)&&(h+="%"),"0%"===h&&(Q=!0),"0px"===h&&(h="0%"),xe=ul(Ke,T?{"flex-grow":r,"flex-shrink":a,"flex-basis":Q?h:"100%"}:{flex:`${r} ${a} ${Q?h:"100%"}`})}return xe.flex||xe["flex-grow"]||(xe=ul(Ke,T?{"flex-grow":r,"flex-shrink":a,"flex-basis":h}:{flex:`${r} ${a} ${h}`})),"0%"!==h&&"0px"!==h&&"0.000000001px"!==h&&"auto"!==h&&(xe[x]=_e||Q&&r?h:null,xe[w]=_e||!P&&a?h:null),xe[x]||xe[w]?i.hasWrap&&(xe[T?"flex-basis":"flex"]=xe[w]?T?xe[w]:`${r} ${a} ${xe[w]}`:T?xe[x]:`${r} ${a} ${xe[x]}`):xe=ul(Ke,T?{"flex-grow":r,"flex-shrink":a,"flex-basis":h}:{flex:`${r} ${a} ${h}`}),ul(xe,{"box-sizing":"border-box"})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Co))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const s_=["fxFlex","fxFlex.xs","fxFlex.sm","fxFlex.md","fxFlex.lg","fxFlex.xl","fxFlex.lt-sm","fxFlex.lt-md","fxFlex.lt-lg","fxFlex.lt-xl","fxFlex.gt-xs","fxFlex.gt-sm","fxFlex.gt-md","fxFlex.gt-lg"];let o_=(()=>{class n extends Jn{constructor(t,i,r,a,c){super(t,a,i,c),this.layoutConfig=r,this.marshal=c,this.DIRECTIVE_KEY="flex",this.direction=void 0,this.wrap=void 0,this.flexGrow="1",this.flexShrink="1",this.init()}get shrink(){return this.flexShrink}set shrink(t){this.flexShrink=t||"1",this.triggerReflow()}get grow(){return this.flexGrow}set grow(t){this.flexGrow=t||"1",this.triggerReflow()}ngOnInit(){this.parentElement&&(this.marshal.trackValue(this.parentElement,"layout").pipe(Do(this.destroySubject)).subscribe(this.onLayoutChange.bind(this)),this.marshal.trackValue(this.nativeElement,"layout-align").pipe(Do(this.destroySubject)).subscribe(this.triggerReflow.bind(this)))}onLayoutChange(t){const r=t.value.split(" ");this.direction=r[0],this.wrap=void 0!==r[1]&&"wrap"===r[1],this.triggerUpdate()}updateWithValue(t){void 0===this.direction&&(this.direction=this.getFlexFlowDirection(this.parentElement,!1!==this.layoutConfig.addFlexToParent)),void 0===this.wrap&&(this.wrap=this.hasWrap(this.parentElement));const r=this.direction,a=r.startsWith("row"),c=this.wrap;a&&c?this.styleCache=a_:a&&!c?this.styleCache=sw:!a&&c?this.styleCache=l_:!a&&!c&&(this.styleCache=ow);const y=Vg(String(t).replace(";",""),this.flexGrow,this.flexShrink);this.addStyles(y.join(" "),{direction:r,hasWrap:c})}triggerReflow(){const t=this.activatedValue;if(void 0!==t){const i=Vg(t+"",this.flexGrow,this.flexShrink);this.marshal.updateElement(this.nativeElement,this.DIRECTIVE_KEY,i.join(" "))}}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(Bn),u.Y36(Co),u.Y36(Gd),u.Y36(Wn))},n.\u0275dir=u.lG2({type:n,inputs:{shrink:["fxShrink","shrink"],grow:["fxGrow","grow"]},features:[u.qOj]}),n})(),fl=(()=>{class n extends o_{constructor(){super(...arguments),this.inputs=s_}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=u.n5z(n)))(i||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["","fxFlex",""],["","fxFlex.xs",""],["","fxFlex.sm",""],["","fxFlex.md",""],["","fxFlex.lg",""],["","fxFlex.xl",""],["","fxFlex.lt-sm",""],["","fxFlex.lt-md",""],["","fxFlex.lt-lg",""],["","fxFlex.lt-xl",""],["","fxFlex.gt-xs",""],["","fxFlex.gt-sm",""],["","fxFlex.gt-md",""],["","fxFlex.gt-lg",""]],inputs:{fxFlex:"fxFlex","fxFlex.xs":"fxFlex.xs","fxFlex.sm":"fxFlex.sm","fxFlex.md":"fxFlex.md","fxFlex.lg":"fxFlex.lg","fxFlex.xl":"fxFlex.xl","fxFlex.lt-sm":"fxFlex.lt-sm","fxFlex.lt-md":"fxFlex.lt-md","fxFlex.lt-lg":"fxFlex.lt-lg","fxFlex.lt-xl":"fxFlex.lt-xl","fxFlex.gt-xs":"fxFlex.gt-xs","fxFlex.gt-sm":"fxFlex.gt-sm","fxFlex.gt-md":"fxFlex.gt-md","fxFlex.gt-lg":"fxFlex.gt-lg"},features:[u.qOj]}),n})();const sw=new Map,ow=new Map,a_=new Map,l_=new Map;let aw=(()=>{class n extends ui{buildStyles(t){return{order:t&&parseInt(t,10)||""}}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=u.n5z(n)))(i||n)}}(),n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const u_=["fxFlexOrder","fxFlexOrder.xs","fxFlexOrder.sm","fxFlexOrder.md","fxFlexOrder.lg","fxFlexOrder.xl","fxFlexOrder.lt-sm","fxFlexOrder.lt-md","fxFlexOrder.lt-lg","fxFlexOrder.lt-xl","fxFlexOrder.gt-xs","fxFlexOrder.gt-sm","fxFlexOrder.gt-md","fxFlexOrder.gt-lg"];let bk=(()=>{class n extends Jn{constructor(t,i,r,a){super(t,r,i,a),this.DIRECTIVE_KEY="flex-order",this.styleCache=_I,this.init()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(Bn),u.Y36(aw),u.Y36(Wn))},n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),n})();const _I=new Map;let c_=(()=>{class n extends bk{constructor(){super(...arguments),this.inputs=u_}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=u.n5z(n)))(i||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["","fxFlexOrder",""],["","fxFlexOrder.xs",""],["","fxFlexOrder.sm",""],["","fxFlexOrder.md",""],["","fxFlexOrder.lg",""],["","fxFlexOrder.xl",""],["","fxFlexOrder.lt-sm",""],["","fxFlexOrder.lt-md",""],["","fxFlexOrder.lt-lg",""],["","fxFlexOrder.lt-xl",""],["","fxFlexOrder.gt-xs",""],["","fxFlexOrder.gt-sm",""],["","fxFlexOrder.gt-md",""],["","fxFlexOrder.gt-lg",""]],inputs:{fxFlexOrder:"fxFlexOrder","fxFlexOrder.xs":"fxFlexOrder.xs","fxFlexOrder.sm":"fxFlexOrder.sm","fxFlexOrder.md":"fxFlexOrder.md","fxFlexOrder.lg":"fxFlexOrder.lg","fxFlexOrder.xl":"fxFlexOrder.xl","fxFlexOrder.lt-sm":"fxFlexOrder.lt-sm","fxFlexOrder.lt-md":"fxFlexOrder.lt-md","fxFlexOrder.lt-lg":"fxFlexOrder.lt-lg","fxFlexOrder.lt-xl":"fxFlexOrder.lt-xl","fxFlexOrder.gt-xs":"fxFlexOrder.gt-xs","fxFlexOrder.gt-sm":"fxFlexOrder.gt-sm","fxFlexOrder.gt-md":"fxFlexOrder.gt-md","fxFlexOrder.gt-lg":"fxFlexOrder.gt-lg"},features:[u.qOj]}),n})(),fw=(()=>{class n extends ui{buildStyles(t,i){const r={},[a,c]=t.split(" ");switch(a){case"center":r["justify-content"]="center";break;case"space-around":r["justify-content"]="space-around";break;case"space-between":r["justify-content"]="space-between";break;case"space-evenly":r["justify-content"]="space-evenly";break;case"end":case"flex-end":r["justify-content"]="flex-end";break;default:r["justify-content"]="flex-start"}switch(c){case"start":case"flex-start":r["align-items"]=r["align-content"]="flex-start";break;case"center":r["align-items"]=r["align-content"]="center";break;case"end":case"flex-end":r["align-items"]=r["align-content"]="flex-end";break;case"space-between":r["align-content"]="space-between",r["align-items"]="stretch";break;case"space-around":r["align-content"]="space-around",r["align-items"]="stretch";break;case"baseline":r["align-content"]="stretch",r["align-items"]="baseline";break;default:r["align-items"]=r["align-content"]="stretch"}return ul(r,{display:i.inline?"inline-flex":"flex","flex-direction":i.layout,"box-sizing":"border-box","max-width":"stretch"===c?Ng(i.layout)?null:"100%":null,"max-height":"stretch"===c&&Ng(i.layout)?"100%":null})}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=u.n5z(n)))(i||n)}}(),n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const pw=["fxLayoutAlign","fxLayoutAlign.xs","fxLayoutAlign.sm","fxLayoutAlign.md","fxLayoutAlign.lg","fxLayoutAlign.xl","fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg"];let ca=(()=>{class n extends Jn{constructor(t,i,r,a){super(t,r,i,a),this.DIRECTIVE_KEY="layout-align",this.layout="row",this.inline=!1,this.init(),this.marshal.trackValue(this.nativeElement,"layout").pipe(Do(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}updateWithValue(t){const i=this.layout||"row",r=this.inline;"row"===i&&r?this.styleCache=RI:"row"!==i||r?"row-reverse"===i&&r?this.styleCache=kI:"row-reverse"!==i||r?"column"===i&&r?this.styleCache=OI:"column"!==i||r?"column-reverse"===i&&r?this.styleCache=h_:"column-reverse"===i&&!r&&(this.styleCache=gw):this.styleCache=TI:this.styleCache=Dk:this.styleCache=MI,this.addStyles(t,{layout:i,inline:r})}onLayoutChange(t){const i=t.value.split(" ");this.layout=i[0],this.inline=t.value.includes("inline"),Vd.find(r=>r===this.layout)||(this.layout="row"),this.triggerUpdate()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(Bn),u.Y36(fw),u.Y36(Wn))},n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),n})(),pl=(()=>{class n extends ca{constructor(){super(...arguments),this.inputs=pw}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=u.n5z(n)))(i||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["","fxLayoutAlign",""],["","fxLayoutAlign.xs",""],["","fxLayoutAlign.sm",""],["","fxLayoutAlign.md",""],["","fxLayoutAlign.lg",""],["","fxLayoutAlign.xl",""],["","fxLayoutAlign.lt-sm",""],["","fxLayoutAlign.lt-md",""],["","fxLayoutAlign.lt-lg",""],["","fxLayoutAlign.lt-xl",""],["","fxLayoutAlign.gt-xs",""],["","fxLayoutAlign.gt-sm",""],["","fxLayoutAlign.gt-md",""],["","fxLayoutAlign.gt-lg",""]],inputs:{fxLayoutAlign:"fxLayoutAlign","fxLayoutAlign.xs":"fxLayoutAlign.xs","fxLayoutAlign.sm":"fxLayoutAlign.sm","fxLayoutAlign.md":"fxLayoutAlign.md","fxLayoutAlign.lg":"fxLayoutAlign.lg","fxLayoutAlign.xl":"fxLayoutAlign.xl","fxLayoutAlign.lt-sm":"fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md":"fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg":"fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl":"fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs":"fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm":"fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md":"fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg":"fxLayoutAlign.gt-lg"},features:[u.qOj]}),n})();const MI=new Map,TI=new Map,Dk=new Map,gw=new Map,RI=new Map,OI=new Map,kI=new Map,h_=new Map;let $d,mw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[cu,dc]]}),n})(),Hg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-introduction"]],decls:10,vars:0,consts:[["id","introduction","fxLayout","row","fxLayoutGap","150px","fxLayoutGap.lt-md","50px"],["id","intro-image"],["alt","niconet-laveur de vitres","src","assets/pictures/introduction.jpg"]],template:function(t,i){1&t&&(u.TgZ(0,"section",0)(1,"div")(2,"h1"),u._uU(3,"Niconet vitres"),u.qZA(),u.TgZ(4,"h2"),u._uU(5,"Le lavage de vitres en toute efficacit\xe9"),u.qZA(),u.TgZ(6,"p"),u._uU(7," Je vous propose mes services en tant que laveur de vitres pour nettoyer vos bardages, panneaux solaire, volets roulants, palissades mais encore vos fenetres inaccessibles ou m\xeame v\xe9randa. "),u.qZA()(),u.TgZ(8,"div",1),u._UZ(9,"img",2),u.qZA()())},dependencies:[gc,du],styles:["#introduction[_ngcontent-%COMP%]{font-size:20px;background-image:url(225649.d7fbe3df037ccf8f.jpg);font-weight:700;line-height:40px}img[_ngcontent-%COMP%]{width:500px;height:500px;border-radius:250px}h1[_ngcontent-%COMP%]{margin-bottom:5px;text-transform:uppercase}h2[_ngcontent-%COMP%]{color:#000;font-style:italic;font-weight:400!important}p[_ngcontent-%COMP%]{text-align:justify;text-justify:auto}@media only screen and (max-width: 481px){#intro-image[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{display:none}}@media only screen and (min-width: 769px){#intro-image[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:250px;height:250px}}@media only screen and (max-width: 768px){p[_ngcontent-%COMP%]{width:100%}#intro-image[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{display:none}}@media only screen and (min-width: 1024px){#intro-image[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:250px;height:250px}}@media only screen and (min-width: 1224px){section[_ngcontent-%COMP%]{height:400px}#intro-image[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:350px;height:350px}}@media only screen and (min-width: 1824px){#introduction[_ngcontent-%COMP%]{height:600px}#intro-image[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:400px;height:400px}}"]}),n})();try{$d="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){$d=!1}let Mf,os=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?gs(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!$d)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.Lbi))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const f_=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function p_(){if(Mf)return Mf;if("object"!=typeof document||!document)return Mf=new Set(f_),Mf;let n=document.createElement("input");return Mf=new Set(f_.filter(e=>(n.setAttribute("type",e),n.type===e))),Mf}let zd,da,g_;function mc(n){return function _w(){if(null==zd&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>zd=!0}))}finally{zd=zd||!1}return zd}()?n:!!n.capture}function $g(){if(null==da){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return da=!1,da;if("scrollBehavior"in document.documentElement.style)da=!0;else{const n=Element.prototype.scrollTo;da=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return da}function y_(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function yc(n){return n.composedPath?n.composedPath()[0]:n.target}function _c(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}function Fw(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function Pw(n){return D((e,t)=>n<=t)}function Nw(n,e=ea.y){return n=null!=n?n:vA,(0,qn.e)((t,i)=>{let r,a=!0;t.subscribe((0,Tn.x)(i,c=>{const h=e(c);(a||!n(r,h))&&(a=!1,r=h,i.next(c))}))})}function vA(n,e){return n===e}function Ki(n){return null!=n&&"false"!=`${n}`}function jf(n){return Array.isArray(n)?n:[n]}function Di(n){return null==n?"":"string"==typeof n?n:`${n}px`}function pa(n){return n instanceof u.SBq?n.nativeElement:n}var vc=F(4986);function Lw(n,e=vc.z){return(0,qn.e)((t,i)=>{let r=null,a=null,c=null;const h=()=>{if(r){r.unsubscribe(),r=null;const w=a;a=null,i.next(w)}};function y(){const w=c+n,x=e.now();if(x<w)return r=this.schedule(void 0,w-x),void i.add(r);h()}t.subscribe((0,Tn.x)(i,w=>{a=w,c=e.now(),r||(r=e.schedule(y,n),i.add(r))},()=>{h(),i.complete()},void 0,()=>{a=r=null}))})}let D_=(()=>{class n{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Vw=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,i)=>this._cleanupObserver(i))}observe(t){const i=pa(t);return new Ln.y(r=>{const c=this._observeElement(i).subscribe(r);return()=>{c.unsubscribe(),this._unobserveElement(i)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const i=new Pt.x,r=this._mutationObserverFactory.create(a=>i.next(a));r&&r.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:r,stream:i,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:i,stream:r}=this._observedElements.get(t);i&&i.disconnect(),r.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(D_))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),x_=(()=>{class n{constructor(t,i,r){this._contentObserver=t,this._elementRef=i,this._ngZone=r,this.event=new u.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=Ki(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=function Uf(n,e=0){return function bA(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(Lw(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Vw),u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),Zg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[D_]}),n})();const I_=new Set;let bc,Bw=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):jw}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function Uw(n){if(!I_.has(n))try{bc||(bc=document.createElement("style"),bc.setAttribute("type","text/css"),document.head.appendChild(bc)),bc.sheet&&(bc.sheet.insertRule(`@media ${n} {body{ }}`,0),I_.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(os))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function jw(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let Hw=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new Pt.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return A_(jf(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let a=Ja(A_(jf(t)).map(c=>this._registerQuery(c).observable));return a=xs(a.pipe(jt(1)),a.pipe(Pw(1),Lw(0))),a.pipe((0,tt.U)(c=>{const h={matches:!1,breakpoints:{}};return c.forEach(({matches:y,query:w})=>{h.matches=h.matches||y,h.breakpoints[w]=y}),h}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),a={observable:new Ln.y(c=>{const h=y=>this._zone.run(()=>c.next(y));return i.addListener(h),()=>{i.removeListener(h)}}).pipe(fr(i),(0,tt.U)(({matches:c})=>({query:t,matches:c})),Do(this._destroySubject)),mql:i};return this._queries.set(t,a),a}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Bw),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function A_(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}let Kg=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function zw(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function xA(n){try{return n.frameElement}catch(e){return null}}(function R_(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===M_(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),a=M_(t);return t.hasAttribute("contenteditable")?-1!==a:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function Qw(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==a:"video"===r?-1!==a&&(null!==a||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function T_(n){return!function Ww(n){return function Zw(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function qw(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function Yw(n){return function Kw(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||S_(n))}(t)&&!this.isDisabled(t)&&((null==i?void 0:i.ignoreVisibility)||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(os))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function S_(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function M_(n){if(!S_(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class wc{constructor(e,t,i,r,a=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,a||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return null==i||i.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=0;i<t.length;i++){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=t.length-1;i>=0;i--){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(jt(1)).subscribe(e)}}let O_=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new wc(t,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Kg),u.LFG(u.R0b),u.LFG(ne))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function k_(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function AA(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const xt=new u.OlP("cdk-input-modality-detector-options"),SA={ignoreKeys:[18,17,224,91,16]},Yd=mc({passive:!0,capture:!0});let Zd=(()=>{class n{constructor(t,i,r,a){this._platform=t,this._mostRecentTarget=null,this._modality=new bn(null),this._lastTouchMs=0,this._onKeydown=c=>{var h,y;null!==(y=null===(h=this._options)||void 0===h?void 0:h.ignoreKeys)&&void 0!==y&&y.some(w=>w===c.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=yc(c))},this._onMousedown=c=>{Date.now()-this._lastTouchMs<650||(this._modality.next(k_(c)?"keyboard":"mouse"),this._mostRecentTarget=yc(c))},this._onTouchstart=c=>{AA(c)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=yc(c))},this._options=Object.assign(Object.assign({},SA),a),this.modalityDetected=this._modality.pipe(Pw(1)),this.modalityChanged=this.modalityDetected.pipe(Nw()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Yd),r.addEventListener("mousedown",this._onMousedown,Yd),r.addEventListener("touchstart",this._onTouchstart,Yd)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Yd),document.removeEventListener("mousedown",this._onMousedown,Yd),document.removeEventListener("touchstart",this._onTouchstart,Yd))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(os),u.LFG(u.R0b),u.LFG(ne),u.LFG(xt,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const eC=new u.OlP("cdk-focus-monitor-default-options"),Gf=mc({passive:!0,capture:!0});let Xg=(()=>{class n{constructor(t,i,r,a,c){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Pt.x,this._rootNodeFocusAndBlurListener=h=>{for(let w=yc(h);w;w=w.parentElement)"focus"===h.type?this._onFocus(h,w):this._onBlur(h,w)},this._document=a,this._detectionMode=(null==c?void 0:c.detectionMode)||0}monitor(t,i=!1){const r=pa(t);if(!this._platform.isBrowser||1!==r.nodeType)return it(null);const a=function vw(n){if(function m_(){if(null==g_){const n="undefined"!=typeof document?document.head:null;g_=!(!n||!n.createShadowRoot&&!n.attachShadow)}return g_}()){const e=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),c=this._elementInfo.get(r);if(c)return i&&(c.checkChildren=!0),c.subject;const h={checkChildren:i,subject:new Pt.x,rootNode:a};return this._elementInfo.set(r,h),this._registerGlobalListeners(h),h.subject}stopMonitoring(t){const i=pa(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const a=pa(t);a===this._getDocument().activeElement?this._getClosestElementsInfo(a).forEach(([h,y])=>this._originChanged(h,i,y)):(this._setOrigin(i),"function"==typeof a.focus&&a.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!(null==t||!t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),a=yc(t);!r||!r.checkChildren&&i!==a||this._originChanged(i,this._getFocusOrigin(a),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Gf),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Gf)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Do(this._stopInputModalityDetector)).subscribe(a=>{this._setOrigin(a,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Gf),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Gf),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,a)=>{(a===t||r.checkChildren&&a.contains(t))&&i.push([a,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const a=t.labels;if(a)for(let c=0;c<a.length;c++)if(a[c].contains(i))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.R0b),u.LFG(os),u.LFG(Zd),u.LFG(ne,8),u.LFG(eC,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const P_="cdk-high-contrast-black-on-white",N_="cdk-high-contrast-white-on-black",Jg="cdk-high-contrast-active";let tC=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=(0,u.f3M)(Hw).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,a=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),a){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(Jg,P_,N_),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(Jg,P_):2===i&&t.add(Jg,N_)}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(os),u.LFG(ne))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),TA=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(tC))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Zg]}),n})();const kA=new u.OlP("mat-sanity-checks",{providedIn:"root",factory:function nC(){return!0}});let yi=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!_c()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(tC),u.LFG(kA,8),u.LFG(ne))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[dc,dc]}),n})();function FA(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=Ki(e)}}}function zf(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function iC(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Ki(e)}}}function NA(n){return class extends n{constructor(...e){super(...e),this.errorState=!1}updateErrorState(){const e=this.errorState,a=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);a!==e&&(this.errorState=a,this.stateChanges.next())}}}let Kd=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class jA{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const V_={enterDuration:225,exitDuration:150},B_=mc({passive:!0}),Qd=["mousedown","touchstart"],rC=["mouseup","mouseleave","touchend","touchcancel"];class sC{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=pa(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a=Object.assign(Object.assign({},V_),i.animation);i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const c=i.radius||function GA(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),h=e-r.left,y=t-r.top,w=a.enterDuration,x=document.createElement("div");x.classList.add("mat-ripple-element"),x.style.left=h-c+"px",x.style.top=y-c+"px",x.style.height=2*c+"px",x.style.width=2*c+"px",null!=i.color&&(x.style.backgroundColor=i.color),x.style.transitionDuration=`${w}ms`,this._containerElement.appendChild(x);const T=window.getComputedStyle(x),V=T.transitionDuration,U="none"===T.transitionProperty||"0s"===V||"0s, 0s"===V,Q=new jA(this,x,i,U);x.style.transform="scale3d(1, 1, 1)",Q.state=0,i.persistent||(this._mostRecentTransientRipple=Q);let _e=null;return!U&&(w||a.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const xe=()=>this._finishRippleTransition(Q),Ke=()=>this._destroyRipple(Q);x.addEventListener("transitionend",xe),x.addEventListener("transitioncancel",Ke),_e={onTransitionEnd:xe,onTransitionCancel:Ke}}),this._activeRipples.set(Q,_e),(U||!w)&&this._finishRippleTransition(Q),Q}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i=Object.assign(Object.assign({},V_),e.config.animation);t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=pa(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(Qd))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(rC),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){var t;const i=null!==(t=this._activeRipples.get(e))&&void 0!==t?t:null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==i&&(e.element.removeEventListener("transitionend",i.onTransitionEnd),e.element.removeEventListener("transitioncancel",i.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=k_(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!AA(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,B_)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(Qd.forEach(e=>{this._triggerElement.removeEventListener(e,this,B_)}),this._pointerUpEventsRegistered&&rC.forEach(e=>{this._triggerElement.removeEventListener(e,this,B_)}))}}const oC=new u.OlP("mat-ripple-global-options");let aC=(()=>{class n{constructor(t,i,r,a,c){this._elementRef=t,this._animationMode=c,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=a||{},this._rippleRenderer=new sC(this,i,t,r)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,Object.assign(Object.assign({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.R0b),u.Y36(os),u.Y36(oC,8),u.Y36(u.QbO,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&u.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),U_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[yi,yi]}),n})();const WA=["*",[["mat-card-footer"]]],YA=["*","mat-card-footer"];let cC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),n})(),QA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),n})(),dC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-card-image"]}),n})(),gC=(()=>{class n{constructor(t){this._animationMode=t}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.QbO,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,i){2&t&&u.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)},exportAs:["matCard"],ngContentSelectors:YA,decls:2,vars:0,template:function(t,i){1&t&&(u.F$t(WA),u.Hsn(0),u.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}.mat-card._mat-animation-noopable{transition:none !important;animation:none !important}.mat-card>.mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card>.mat-divider-horizontal{left:auto;right:0}.mat-card>.mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card>.mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],encapsulation:2,changeDetection:0}),n})(),yC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[yi,yi]}),n})(),Cc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-my-services"]],decls:43,vars:0,consts:[["id","services","fxLayout","column","fxLayoutAlign","space-around center","fxLayoutGap","30px"],["fxLayout","row wrap","fxLayoutGap.xs","30px","fxLayoutGap.sm","30px","fxLayoutGap","20px"],["fxFlex","18%","fxFlex.md","40%","fxFlex.sm","100%","fxFlex.xs","100%",1,"service-card-1"],["mat-card-image","","src","../../../assets/pictures/laveur_vitre_toit_apres.jpg","alt","Laveur de vitre - bardages"],["fxFlex","18%","fxFlex.md","40%","fxFlex.sm","100%","fxFlex.xs","100%",1,"service-card-2"],["mat-card-image","","src","../../../assets/pictures/laveur_vitres_panneaux_solaire.jpg","alt","Laveur de vitre - panneaux solaire"],["fxFlex","18%","fxFlex.md","40%","fxFlex.sm","100%","fxFlex.xs","100%",1,"service-card-3"],["mat-card-image","","src","../../../assets/pictures/laveur-vitre-palissade-avant.jpg","alt","Laveur de vitre - palissades"],["fxFlex","18%","fxFlex.md","40%","fxFlex.sm","100%","fxFlex.xs","100%",1,"service-card-4"],["mat-card-image","","src","../../../assets/pictures/laveur_vitre_volet_apres.jpg","alt","Laveur de vitre - volet roulant"],["fxFlex","18%","fxFlex.md","40%","fxFlex.sm","100%","fxFlex.xs","100%",1,"service-card-5"],["mat-card-image","","src","../../../assets/pictures/laveur-vitre-veranda-apres.jpg","alt","Laveur vitre veranda"]],template:function(t,i){1&t&&(u.TgZ(0,"section",0)(1,"div",1)(2,"mat-card",2),u._UZ(3,"img",3),u.TgZ(4,"mat-card-content")(5,"mat-card-title"),u._uU(6,"Bardages"),u.qZA(),u.TgZ(7,"p"),u._uU(8," Tout type de bardage "),u.qZA()()(),u.TgZ(9,"mat-card",4),u._UZ(10,"img",5),u.TgZ(11,"mat-card-content")(12,"mat-card-title"),u._uU(13,"Panneaux solaires"),u.qZA(),u.TgZ(14,"p"),u._uU(15," Tout type de panneaux solaire. Je nettoie les panneaux solaires avec une perche. "),u.qZA()()(),u.TgZ(16,"mat-card",6),u._UZ(17,"img",7),u.TgZ(18,"mat-card-content")(19,"mat-card-title"),u._uU(20,"Palissades"),u.qZA(),u.TgZ(21,"p"),u._uU(22," Texte et photos a fournir "),u.qZA()()(),u.TgZ(23,"mat-card",8),u._UZ(24,"img",9),u.TgZ(25,"mat-card-content")(26,"mat-card-title"),u._uU(27,"Volets"),u.qZA(),u.TgZ(28,"p"),u._uU(29," Roulants, en aluminium ou en PVC "),u.qZA()()(),u.TgZ(30,"mat-card",10),u._UZ(31,"img",11),u.TgZ(32,"mat-card-content")(33,"mat-card-title"),u._uU(34,"V\xe9randas"),u.qZA(),u.TgZ(35,"p"),u._uU(36," V\xe9randa compl\xe8te, pergola et verri\xe8res "),u.qZA()()()(),u.TgZ(37,"div")(38,"p"),u._uU(39,"J'ai en ma possession une machine hydro power qui me permet de r\xe9aliser ces services jusqu'\xe0 12,8 m\xe8tres de hauteur, tout en \xe9tant \xe9cologique. Et ceci grace au syst\xe8me de filtration qui enl\xe8ve le calcaire et les min\xe9raux de l'eau. "),u.qZA(),u.TgZ(40,"p"),u._uU(41," Pour le lavage de vos vitres, mes services sont de 30 euros de l'heure. A chaque utilisation de la machine le filtre vous coutera 60 euros (produit sujet aux variations de prix) en plus du taux horaire. "),u.qZA(),u._UZ(42,"p"),u.qZA()())},dependencies:[gc,du,pl,fl,gC,cC,QA,dC],styles:["#services[_ngcontent-%COMP%]{background-color:#fff}.service-card-1[_ngcontent-%COMP%], .service-card-3[_ngcontent-%COMP%], .service-card-5[_ngcontent-%COMP%]{background-color:#bcddfc;margin-bottom:20px}.service-card-2[_ngcontent-%COMP%], .service-card-4[_ngcontent-%COMP%]{background-color:#3f51b5;color:#fff;margin-bottom:20px}p[_ngcontent-%COMP%]{font-size:16px;line-height:35px;text-align:justify!important}"]}),n})(),j_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-my-work"]],decls:34,vars:0,consts:[["id","work","fxLayout","column","fxLayoutAlign","space-between center","fxLayoutGap","50px"],["fxLayout","row wrap","fxLayoutAlign","space-evenly stretch"],["fxFlex","40","fxFlex.md","40%","fxFlex.sm","100%","fxFlex.xs","100%",1,"work-card"],["mat-card-image","","src","assets/pictures/laveur_vitre_toit_avant.jpg","alt","laveur vitre toiture"],["mat-card-image","","src","assets/pictures/laveur_vitre_toit_apres.jpg","alt","laveur vitre toiture"],["mat-card-image","","src","assets/pictures/laveur_vitre_volet_avant.jpg","alt","laveur vitre volet"],["mat-card-image","","src","assets/pictures/laveur_vitre_volet_apres.jpg","alt","laveur vitre volet"],["mat-card-image","","src","assets/pictures/laveur-vitre-palissade-avant.jpg","alt","laveur vitre palissade"],["fxFlex","30","fxFlex.md","40%","fxFlex.sm","100%","fxFlex.xs","100%",1,"work-card"],["mat-card-image","","src","assets/pictures/laveur-vitre-palissade-apres.jpg","alt","laveur vitre palissade"]],template:function(t,i){1&t&&(u.TgZ(0,"section",0)(1,"h2"),u._uU(2,"MON TRAVAIL"),u.qZA(),u.TgZ(3,"div",1)(4,"mat-card",2),u._UZ(5,"img",3),u.TgZ(6,"mat-card-content")(7,"h3"),u._uU(8,"AVANT"),u.qZA()()(),u.TgZ(9,"mat-card",2),u._UZ(10,"img",4),u.TgZ(11,"mat-card-content")(12,"h3"),u._uU(13,"APRES"),u.qZA()()(),u.TgZ(14,"mat-card",2),u._UZ(15,"img",5),u.TgZ(16,"mat-card-content")(17,"h3"),u._uU(18,"AVANT"),u.qZA()()(),u.TgZ(19,"mat-card",2),u._UZ(20,"img",6),u.TgZ(21,"mat-card-content")(22,"h3"),u._uU(23,"APRES"),u.qZA()()(),u.TgZ(24,"mat-card",2),u._UZ(25,"img",7),u.TgZ(26,"mat-card-content")(27,"h3"),u._uU(28,"AVANT"),u.qZA()()(),u.TgZ(29,"mat-card",8),u._UZ(30,"img",9),u.TgZ(31,"mat-card-content")(32,"h3"),u._uU(33,"APRES"),u.qZA()()()()())},dependencies:[gc,du,pl,fl,gC,cC,dC],styles:["#work[_ngcontent-%COMP%]{background-color:#bcddfc}h3[_ngcontent-%COMP%]{font-weight:700}h2[_ngcontent-%COMP%]{font-size:25px}.mat-card[_ngcontent-%COMP%]{margin-bottom:20px;margin-right:20px}"]}),n})(),_C=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-about"]],decls:8,vars:0,consts:[["id","about","fxLayout","row","fxLayout.md","column","fxLayout.xs","column","fxLayout.sm","column","fxLayoutAlign","space-between center","fxLayoutGap","30px"],["fxFlex","60%"]],template:function(t,i){1&t&&(u.TgZ(0,"section",0)(1,"h2",1),u._uU(2,"QUI EST NICONET VITRES?"),u.qZA(),u.TgZ(3,"div")(4,"p"),u._uU(5," Grace \xe0 mon statut d'auto-entrepreneur, je ne suis pas assujeti \xe0 la tva. Vous pouvez \xe9galement b\xe9n\xe9ficier de 50% de r\xe9duction d'impots. N'h\xe9sitez pas \xe0 me contacter pour tout devis gratuit ou renseignement. Vous pouvez \xe9galement me laisser une \xe9valuation. "),u.qZA(),u.TgZ(6,"p"),u._uU(7,"P\xe9rim\xe8tre d'intervention: Rouen + 1h"),u.qZA()()())},dependencies:[gc,du,pl,fl],styles:["#about[_ngcontent-%COMP%]{background-color:#fff}p[_ngcontent-%COMP%]{font-size:20px;line-height:30px;text-align:justify!important}"]}),n})();function eS(...n){const e=(0,Es.jO)(n),{args:t,keys:i}=Zh(n),r=new Ln.y(a=>{const{length:c}=t;if(!c)return void a.complete();const h=new Array(c);let y=c,w=c;for(let x=0;x<c;x++){let T=!1;(0,Pr.Xf)(t[x]).subscribe((0,Tn.x)(a,P=>{T||(T=!0,w--),h[x]=P},()=>y--,void 0,()=>{(!y||!T)&&(w||a.next(i?Xa(i,h):h),a.complete())}))}});return e?r.pipe(Zl(e)):r}let H_=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n}),n})(),_l=(()=>{class n extends H_{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=u.n5z(n)))(i||n)}}(),n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),n})();const ga=new u.OlP("NgValueAccessor"),bC={provide:ga,useExisting:(0,u.Gpc)(()=>Xd),multi:!0},wC=new u.OlP("CompositionEventMode");let Xd=(()=>{class n extends H_{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function $_(){const n=L()?L().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(wC,8))},n.\u0275dir=u.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&u.NdJ("input",function(a){return i._handleInput(a.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(a){return i._compositionEnd(a.target.value)})},features:[u._Bn([bC]),u.qOj]}),n})();function vl(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function EC(n){return null!=n&&"number"==typeof n.length}const _r=new u.OlP("NgValidators"),fu=new u.OlP("NgAsyncValidators"),tS=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class bl{static min(e){return function nS(n){return e=>{if(vl(e.value)||vl(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function z_(n){return e=>{if(vl(e.value)||vl(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return DC(e)}static requiredTrue(e){return function xC(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function iS(n){return vl(n.value)||tS.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function rS(n){return e=>vl(e.value)||!EC(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function IC(n){return e=>EC(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function AC(n){if(!n)return nm;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(vl(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return RC(e)}static composeAsync(e){return OC(e)}}function DC(n){return vl(n.value)?{required:!0}:null}function nm(n){return null}function q_(n){return null!=n}function SC(n){return(0,u.QGY)(n)?(0,pn.D)(n):n}function MC(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function W_(n,e){return e.map(t=>t(n))}function TC(n){return n.map(e=>function sS(n){return!n.validate}(e)?e:t=>e.validate(t))}function RC(n){if(!n)return null;const e=n.filter(q_);return 0==e.length?null:function(t){return MC(W_(t,e))}}function Y_(n){return null!=n?RC(TC(n)):null}function OC(n){if(!n)return null;const e=n.filter(q_);return 0==e.length?null:function(t){return eS(W_(t,e).map(SC)).pipe((0,tt.U)(MC))}}function Ec(n){return null!=n?OC(TC(n)):null}function Z_(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function K_(n){return n._rawValidators}function Q_(n){return n._rawAsyncValidators}function im(n){return n?Array.isArray(n)?n:[n]:[]}function Wf(n,e){return Array.isArray(n)?n.includes(e):n===e}function kC(n,e){const t=im(e);return im(n).forEach(r=>{Wf(t,r)||t.push(r)}),t}function FC(n,e){return im(e).filter(t=>!Wf(n,t))}class oS{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Y_(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Ec(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class wl extends oS{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Br extends oS{get formDirective(){return null}get path(){return null}}class PC{constructor(e){this._cd=e}get isTouched(){var e,t;return!(null===(t=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===t||!t.touched)}get isUntouched(){var e,t;return!(null===(t=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===t||!t.untouched)}get isPristine(){var e,t;return!(null===(t=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===t||!t.pristine)}get isDirty(){var e,t;return!(null===(t=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===t||!t.dirty)}get isValid(){var e,t;return!(null===(t=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===t||!t.valid)}get isInvalid(){var e,t;return!(null===(t=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===t||!t.invalid)}get isPending(){var e,t;return!(null===(t=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===t||!t.pending)}get isSubmitted(){var e;return!(null===(e=this._cd)||void 0===e||!e.submitted)}}let Dc=(()=>{class n extends PC{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(wl,2))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&u.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[u.qOj]}),n})(),X_=(()=>{class n extends PC{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Br,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&u.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[u.qOj]}),n})();const rm="VALID",Jd="INVALID",pu="PENDING",eh="DISABLED";function Qf(n){return(om(n)?n.validators:n)||null}function sm(n){return Array.isArray(n)?Y_(n):n||null}function rv(n,e){return(om(e)?e.asyncValidators:n)||null}function VC(n){return Array.isArray(n)?Ec(n):n||null}function om(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function BC(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new u.vHH(1e3,"");if(!i[t])throw new u.vHH(1001,"")}function sv(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new u.vHH(1002,"")})}class th{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=sm(this._rawValidators),this._composedAsyncValidatorFn=VC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===rm}get invalid(){return this.status===Jd}get pending(){return this.status==pu}get disabled(){return this.status===eh}get enabled(){return this.status!==eh}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=sm(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=VC(e)}addValidators(e){this.setValidators(kC(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(kC(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(FC(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(FC(e,this._rawAsyncValidators))}hasValidator(e){return Wf(this._rawValidators,e)}hasAsyncValidator(e){return Wf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=pu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=eh,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=rm,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===rm||this.status===pu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?eh:rm}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=pu,this._hasOwnPendingAsyncValidator=!0;const t=SC(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?eh:this.errors?Jd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(pu)?pu:this._anyControlsHaveStatus(Jd)?Jd:rm}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){om(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class nh extends th{constructor(e,t,i){super(Qf(t),rv(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){sv(this,0,e),Object.keys(e).forEach(i=>{BC(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,a)=>{i=t(i,r,a)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class ov extends nh{}function ih(n,e){var t,i;lr(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&(null===(i=(t=e.valueAccessor).setDisabledState)||void 0===i||i.call(t,!0)),function hS(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&pS(n,e)})}(n,e),function eP(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function fS(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&pS(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function dS(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function am(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),Cl(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Jf(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function lr(n,e){const t=K_(n);null!==e.validator?n.setValidators(Z_(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=Q_(n);null!==e.asyncValidator?n.setAsyncValidators(Z_(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();Jf(e._rawValidators,r),Jf(e._rawAsyncValidators,r)}function Cl(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=K_(n);if(Array.isArray(r)&&r.length>0){const a=r.filter(c=>c!==e.validator);a.length!==r.length&&(t=!0,n.setValidators(a))}}if(null!==e.asyncValidator){const r=Q_(n);if(Array.isArray(r)&&r.length>0){const a=r.filter(c=>c!==e.asyncValidator);a.length!==r.length&&(t=!0,n.setAsyncValidators(a))}}}const i=()=>{};return Jf(e._rawValidators,i),Jf(e._rawAsyncValidators,i),t}function pS(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function av(n,e){lr(n,e)}function jC(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}const HC={provide:Br,useExisting:(0,u.Gpc)(()=>rh)},gu=(()=>Promise.resolve())();let rh=(()=>{class n extends Br{constructor(t,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new u.vpe,this.form=new nh({},Y_(t),Ec(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){gu.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),ih(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){gu.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){gu.then(()=>{const i=this._findContainer(t.path),r=new nh({});av(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){gu.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){gu.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){var i;return this.submitted=!0,jC(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===(null===(i=null==t?void 0:t.target)||void 0===i?void 0:i.method)}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(_r,10),u.Y36(fu,10))},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&u.NdJ("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([HC]),u.qOj]}),n})();function _S(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function cv(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const El=class extends th{constructor(e=null,t,i){super(Qf(t),rv(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),om(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=cv(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){_S(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){_S(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){cv(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},dv=El;let fv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),YC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const dm=new u.OlP("NgModelWithFormControlWarning"),XC={provide:wl,useExisting:(0,u.Gpc)(()=>hm)};let hm=(()=>{class n extends wl{constructor(t,i,r,a){super(),this._ngModelWarningConfig=a,this.update=new u.vpe,this._ngModelWarningSent=!1,this._setValidators(t),this._setAsyncValidators(i),this.valueAccessor=function lv(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(a=>{a.constructor===Xd?t=a:function mS(n){return Object.getPrototypeOf(n.constructor)===_l}(a)?i=a:r=a}),r||i||t||null}(0,r)}set isDisabled(t){}ngOnChanges(t){if(this._isControlChanged(t)){const i=t.form.previousValue;i&&am(i,this,!1),ih(this.form,this),this.form.updateValueAndValidity({emitEvent:!1})}(function cm(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)})(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&am(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(u.Y36(_r,10),u.Y36(fu,10),u.Y36(ga,10),u.Y36(dm,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[u._Bn([XC]),u.qOj,u.TTD]}),n})();const CS={provide:Br,useExisting:(0,u.Gpc)(()=>ep)};let ep=(()=>{class n extends Br{constructor(t,i){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new u.vpe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Cl(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return ih(i,t),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){am(t.control||null,t,!1),function uv(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){var i;return this.submitted=!0,jC(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===(null===(i=null==t?void 0:t.target)||void 0===i?void 0:i.method)}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(am(i||null,t),(n=>n instanceof El)(r)&&(ih(r,t),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);av(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function UC(n,e){return Cl(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){lr(this.form,this),this._oldForm&&Cl(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(_r,10),u.Y36(fu,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&u.NdJ("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([CS]),u.qOj,u.TTD]}),n})(),oh=(()=>{class n{constructor(){this._validator=nm}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):nm,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,features:[u.TTD]}),n})();const SS={provide:_r,useExisting:(0,u.Gpc)(()=>gm),multi:!0};let gm=(()=>{class n extends oh{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=u.D6c,this.createValidator=t=>DC}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=u.n5z(n)))(i||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,i){2&t&&u.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[u._Bn([SS]),u.qOj]}),n})(),PS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[YC]}),n})(),dE=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:dm,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[PS]}),n})();class mm extends th{constructor(e,t,i){super(Qf(t),rv(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){sv(this,0,e),e.forEach((i,r)=>{BC(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){var t;return null!==(t=this.at(e))&&void 0!==t?t:null}}function ym(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let vv=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,i=null){const r=this._reduceControls(t);let a={};return ym(i)?a=i:null!==i&&(a.validators=i.validator,a.asyncValidators=i.asyncValidator),new nh(r,a)}record(t,i=null){const r=this._reduceControls(t);return new ov(r,i)}control(t,i,r){let a={};return this.useNonNullable?(ym(i)?a=i:(a.validators=i,a.asyncValidators=r),new El(t,Object.assign(Object.assign({},a),{nonNullable:!0}))):new El(t,i,r)}array(t,i,r){const a=t.map(c=>this._createControl(c));return new mm(a,i,r)}_reduceControls(t){const i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){return t instanceof El||t instanceof th?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:dE}),n})();class bv{}class hE{}class Ao{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),a=r.toLowerCase(),c=t.slice(i+1).trim();this.maybeSetNormalizedName(r,a),this.headers.has(a)?this.headers.get(a).push(c):this.headers.set(a,[c])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Ao?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Ao;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Ao?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const a=e.value;if(a){let c=this.headers.get(t);if(!c)return;c=c.filter(h=>-1===a.indexOf(h)),0===c.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,c)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class ip{encodeKey(e){return _a(e)}encodeValue(e){return _a(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const fE=/%(\d[a-f0-9])/gi,wv={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function _a(n){return encodeURIComponent(n).replace(fE,(e,t)=>{var i;return null!==(i=wv[t])&&void 0!==i?i:e})}function _m(n){return`${n}`}class xc{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new ip,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function ya(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const a=r.indexOf("="),[c,h]=-1==a?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,a)),e.decodeValue(r.slice(a+1))],y=t.get(c)||[];y.push(h),t.set(c,y)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(_m):[_m(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(a=>{t.push({param:i,value:a,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new xc({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(_m(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(_m(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class VS{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function pE(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function Cv(n){return"undefined"!=typeof Blob&&n instanceof Blob}function US(n){return"undefined"!=typeof FormData&&n instanceof FormData}class rp{constructor(e,t,i,r){let a;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function BS(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,a=r):a=i,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new Ao),this.context||(this.context=new VS),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=t;else{const h=t.indexOf("?");this.urlWithParams=t+(-1===h?"?":h<t.length-1?"&":"")+c}}else this.params=new xc,this.urlWithParams=t}serializeBody(){return null===this.body?null:pE(this.body)||Cv(this.body)||US(this.body)||function gE(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof xc?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||US(this.body)?null:Cv(this.body)?this.body.type||null:pE(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof xc?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const i=e.method||this.method,r=e.url||this.url,a=e.responseType||this.responseType,c=void 0!==e.body?e.body:this.body,h=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,y=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let w=e.headers||this.headers,x=e.params||this.params;const T=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(w=Object.keys(e.setHeaders).reduce((P,V)=>P.set(V,e.setHeaders[V]),w)),e.setParams&&(x=Object.keys(e.setParams).reduce((P,V)=>P.set(V,e.setParams[V]),x)),new rp(i,r,c,{params:x,headers:w,context:T,reportProgress:y,responseType:a,withCredentials:h})}}var _i=(()=>((_i=_i||{})[_i.Sent=0]="Sent",_i[_i.UploadProgress=1]="UploadProgress",_i[_i.ResponseHeader=2]="ResponseHeader",_i[_i.DownloadProgress=3]="DownloadProgress",_i[_i.Response=4]="Response",_i[_i.User=5]="User",_i))();class mE{constructor(e,t=200,i="OK"){this.headers=e.headers||new Ao,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class sp extends mE{constructor(e={}){super(e),this.type=_i.ResponseHeader}clone(e={}){return new sp({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class op extends mE{constructor(e={}){super(e),this.type=_i.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new op({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Ev extends mE{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function vm(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let ap=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let a;if(t instanceof rp)a=t;else{let y,w;y=r.headers instanceof Ao?r.headers:new Ao(r.headers),r.params&&(w=r.params instanceof xc?r.params:new xc({fromObject:r.params})),a=new rp(t,i,void 0!==r.body?r.body:null,{headers:y,context:r.context,params:w,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const c=it(a).pipe(Ie(y=>this.handler.handle(y)));if(t instanceof rp||"events"===r.observe)return c;const h=c.pipe(D(y=>y instanceof op));switch(r.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return h.pipe((0,tt.U)(y=>{if(null!==y.body&&!(y.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return y.body}));case"blob":return h.pipe((0,tt.U)(y=>{if(null!==y.body&&!(y.body instanceof Blob))throw new Error("Response is not a Blob.");return y.body}));case"text":return h.pipe((0,tt.U)(y=>{if(null!==y.body&&"string"!=typeof y.body)throw new Error("Response is not a string.");return y.body}));default:return h.pipe((0,tt.U)(y=>y.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new xc).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,vm(r,i))}post(t,i,r={}){return this.request("POST",t,vm(r,i))}put(t,i,r={}){return this.request("PUT",t,vm(r,i))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(bv))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Dv{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const lp=new u.OlP("HTTP_INTERCEPTORS");let bm=(()=>{class n{intercept(t,i){return i.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const zS=/^\)\]\}',?\n/;let yE=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ln.y(i=>{const r=this.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach((V,U)=>r.setRequestHeader(V,U.join(","))),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const V=t.detectContentTypeHeader();null!==V&&r.setRequestHeader("Content-Type",V)}if(t.responseType){const V=t.responseType.toLowerCase();r.responseType="json"!==V?V:"text"}const a=t.serializeBody();let c=null;const h=()=>{if(null!==c)return c;const V=r.statusText||"OK",U=new Ao(r.getAllResponseHeaders()),Q=function qS(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||t.url;return c=new sp({headers:U,status:r.status,statusText:V,url:Q}),c},y=()=>{let{headers:V,status:U,statusText:Q,url:_e}=h(),xe=null;204!==U&&(xe=void 0===r.response?r.responseText:r.response),0===U&&(U=xe?200:0);let Ke=U>=200&&U<300;if("json"===t.responseType&&"string"==typeof xe){const ft=xe;xe=xe.replace(zS,"");try{xe=""!==xe?JSON.parse(xe):null}catch(Je){xe=ft,Ke&&(Ke=!1,xe={error:Je,text:xe})}}Ke?(i.next(new op({body:xe,headers:V,status:U,statusText:Q,url:_e||void 0})),i.complete()):i.error(new Ev({error:xe,headers:V,status:U,statusText:Q,url:_e||void 0}))},w=V=>{const{url:U}=h(),Q=new Ev({error:V,status:r.status||0,statusText:r.statusText||"Unknown Error",url:U||void 0});i.error(Q)};let x=!1;const T=V=>{x||(i.next(h()),x=!0);let U={type:_i.DownloadProgress,loaded:V.loaded};V.lengthComputable&&(U.total=V.total),"text"===t.responseType&&!!r.responseText&&(U.partialText=r.responseText),i.next(U)},P=V=>{let U={type:_i.UploadProgress,loaded:V.loaded};V.lengthComputable&&(U.total=V.total),i.next(U)};return r.addEventListener("load",y),r.addEventListener("error",w),r.addEventListener("timeout",w),r.addEventListener("abort",w),t.reportProgress&&(r.addEventListener("progress",T),null!==a&&r.upload&&r.upload.addEventListener("progress",P)),r.send(a),i.next({type:_i.Sent}),()=>{r.removeEventListener("error",w),r.removeEventListener("abort",w),r.removeEventListener("load",y),r.removeEventListener("timeout",w),t.reportProgress&&(r.removeEventListener("progress",T),null!==a&&r.upload&&r.upload.removeEventListener("progress",P)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ra))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const _E=new u.OlP("XSRF_COOKIE_NAME"),vE=new u.OlP("XSRF_HEADER_NAME");class WS{}let _P=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Da(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ne),u.LFG(u.Lbi),u.LFG(_E))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),bE=(()=>{class n{constructor(t,i){this.tokenService=t,this.headerName=i}intercept(t,i){const r=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(t);const a=this.tokenService.getToken();return null!==a&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,a)})),i.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(WS),u.LFG(vE))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),YS=(()=>{class n{constructor(t,i){this.backend=t,this.injector=i,this.chain=null}handle(t){if(null===this.chain){const i=this.injector.get(lp,[]);this.chain=i.reduceRight((r,a)=>new Dv(r,a),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(hE),u.LFG(u.zs3))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),ZS=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:bE,useClass:bm}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:_E,useValue:t.cookieName}:[],t.headerName?{provide:vE,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[bE,{provide:lp,useExisting:bE,multi:!0},{provide:WS,useClass:_P},{provide:_E,useValue:"XSRF-TOKEN"},{provide:vE,useValue:"X-XSRF-TOKEN"}]}),n})(),wE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[ap,{provide:bv,useClass:YS},yE,{provide:hE,useExisting:yE}],imports:[ZS.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})(),Iv=(()=>{class n{constructor(t){this.http=t,this.sendMails=(i,r)=>{const a=new Ao({"Content-Type":"application/json"});return this.http.post("https://formspree.io/f/xpznalyy",{email:i,_replyto:"nicorept76@gmail.com",message:r},{headers:a})}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ap))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Av=["mat-button",""],QS=["*"],wm=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],bP=zf(FA(iC(class{constructor(n){this._elementRef=n}})));let EE=(()=>{class n extends bP{constructor(t,i,r){super(t),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const a of wm)this._hasHostAttributes(a)&&this._getHostElement().classList.add(a);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,i){t?this._focusMonitor.focusVia(this._getHostElement(),t,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(Xg),u.Y36(u.QbO,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,i){if(1&t&&u.Gf(aC,5),2&t){let r;u.iGM(r=u.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,i){2&t&&(u.uIk("disabled",i.disabled||null),u.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[u.qOj],attrs:Av,ngContentSelectors:QS,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,i){1&t&&(u.F$t(),u.TgZ(0,"span",0),u.Hsn(1),u.qZA(),u._UZ(2,"span",1)(3,"span",2)),2&t&&(u.xp6(2),u.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),u.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},dependencies:[aC],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),wP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[U_,yi,yi]}),n})();var DE=F(1144);const XS=["addListener","removeListener"],JS=["addEventListener","removeEventListener"],eM=["on","off"];function Cm(n,e,t,i){if((0,Fi.m)(t)&&(i=t,t=void 0),i)return Cm(n,e,t).pipe(Zl(i));const[r,a]=function tM(n){return(0,Fi.m)(n.addEventListener)&&(0,Fi.m)(n.removeEventListener)}(n)?JS.map(c=>h=>n[c](e,h,t)):function xE(n){return(0,Fi.m)(n.addListener)&&(0,Fi.m)(n.removeListener)}(n)?XS.map(Mv(n,e)):function IE(n){return(0,Fi.m)(n.on)&&(0,Fi.m)(n.off)}(n)?eM.map(Mv(n,e)):[];if(!r&&(0,DE.z)(n))return(0,I.z)(c=>Cm(c,e,t))((0,Pr.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new Ln.y(c=>{const h=(...y)=>c.next(1<y.length?y:y[0]);return r(h),()=>a(h)})}function Mv(n,e){return t=>i=>n[t](e,i)}class AE{}const So="*";function Tv(n,e){return{type:7,name:n,definitions:e,options:{}}}function Ic(n,e=null){return{type:4,styles:e,timings:n}}function Em(n,e=null){return{type:3,steps:n,options:e}}function ME(n,e=null){return{type:2,steps:n,options:e}}function Os(n){return{type:6,styles:n,offset:null}}function Dm(n,e,t){return{type:0,name:n,styles:e,options:t}}function lh(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function TE(n=null){return{type:9,options:n}}function nM(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function iM(n){Promise.resolve().then(n)}class xm{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){iM(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class RE{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const a=this.players.length;0==a?iM(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++t==a&&this._onFinish()}),c.onDestroy(()=>{++i==a&&this._onDestroy()}),c.onStart(()=>{++r==a&&this._onStart()})}),this.totalTime=this.players.reduce((c,h)=>Math.max(c,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const EP=["connectionContainer"],DP=["inputContainer"],xP=["label"];function IP(n,e){1&n&&(u.ynx(0),u.TgZ(1,"div",14),u._UZ(2,"div",15)(3,"div",16)(4,"div",17),u.qZA(),u.TgZ(5,"div",18),u._UZ(6,"div",15)(7,"div",16)(8,"div",17),u.qZA(),u.BQk())}function AP(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",19),u.NdJ("cdkObserveContent",function(){u.CHM(t);const r=u.oxw();return u.KtG(r.updateOutlineGap())}),u.Hsn(1,1),u.qZA()}if(2&n){const t=u.oxw();u.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)}}function s(n,e){if(1&n&&(u.ynx(0),u.Hsn(1,2),u.TgZ(2,"span"),u._uU(3),u.qZA(),u.BQk()),2&n){const t=u.oxw(2);u.xp6(3),u.Oqu(t._control.placeholder)}}function o(n,e){1&n&&u.Hsn(0,3,["*ngSwitchCase","true"])}function l(n,e){1&n&&(u.TgZ(0,"span",23),u._uU(1," *"),u.qZA())}function d(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"label",20,21),u.NdJ("cdkObserveContent",function(){u.CHM(t);const r=u.oxw();return u.KtG(r.updateOutlineGap())}),u.YNc(2,s,4,1,"ng-container",12),u.YNc(3,o,1,0,"ng-content",12),u.YNc(4,l,2,0,"span",22),u.qZA()}if(2&n){const t=u.oxw();u.ekj("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),u.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),u.uIk("for",t._control.id)("aria-owns",t._control.id),u.xp6(2),u.Q6J("ngSwitchCase",!1),u.xp6(1),u.Q6J("ngSwitchCase",!0),u.xp6(1),u.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function f(n,e){1&n&&(u.TgZ(0,"div",24),u.Hsn(1,4),u.qZA())}function m(n,e){if(1&n&&(u.TgZ(0,"div",25),u._UZ(1,"span",26),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.ekj("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function v(n,e){if(1&n&&(u.TgZ(0,"div"),u.Hsn(1,5),u.qZA()),2&n){const t=u.oxw();u.Q6J("@transitionMessages",t._subscriptAnimationState)}}function C(n,e){if(1&n&&(u.TgZ(0,"div",30),u._uU(1),u.qZA()),2&n){const t=u.oxw(2);u.Q6J("id",t._hintLabelId),u.xp6(1),u.Oqu(t.hintLabel)}}function E(n,e){if(1&n&&(u.TgZ(0,"div",27),u.YNc(1,C,2,2,"div",28),u.Hsn(2,6),u._UZ(3,"div",29),u.Hsn(4,7),u.qZA()),2&n){const t=u.oxw();u.Q6J("@transitionMessages",t._subscriptAnimationState),u.xp6(1),u.Q6J("ngIf",t.hintLabel)}}const M=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],k=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],Y=new u.OlP("MatError"),we={transitionMessages:Tv("transitionMessages",[Dm("enter",Os({opacity:1,transform:"translateY(0%)"})),lh("void => enter",[Os({opacity:0,transform:"translateY(-5px)"}),Ic("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let je=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n}),n})();const St=new u.OlP("MatHint");let In=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["mat-label"]]}),n})(),Ac=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const Rv=new u.OlP("MatPrefix"),Ov=new u.OlP("MatSuffix");let Im=0;const Fv=zf(class{constructor(n){this._elementRef=n}},"primary"),Pv=new u.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),SP=new u.OlP("MatFormField");let MP=(()=>{class n extends Fv{constructor(t,i,r,a,c,h,y){super(t),this._changeDetectorRef=i,this._dir=r,this._defaults=a,this._platform=c,this._ngZone=h,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Pt.x,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+Im++,this._labelId="mat-form-field-label-"+Im++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==y,this.appearance=(null==a?void 0:a.appearance)||"legacy",a&&(this._hideRequiredMarker=Boolean(a.hideRequiredMarker),a.color&&(this.color=this.defaultColor=a.color))}get appearance(){return this._appearance}set appearance(t){var i;const r=this._appearance;this._appearance=t||(null===(i=this._defaults)||void 0===i?void 0:i.appearance)||"legacy","outline"===this._appearance&&r!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Ki(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(fr(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Do(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Do(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,hc.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(fr(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(fr(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Do(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const i=this._control?this._control.ngControl:null;return i&&i[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Cm(this._label.nativeElement,"transitionend").pipe(jt(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(a=>"start"===a.align):null,r=this._hintChildren?this._hintChildren.find(a=>"end"===a.align):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",a=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!t||!t.children.length||!t.textContent.trim()){const x=i.querySelectorAll(`${r}, ${a}`);for(let T=0;T<x.length;T++)x[T].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let c=0,h=0;const y=i.querySelectorAll(r),w=i.querySelectorAll(a);if(this._label&&this._label.nativeElement.children.length){const x=i.getBoundingClientRect();if(0===x.width&&0===x.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const T=this._getStartEnd(x),P=t.children,V=this._getStartEnd(P[0].getBoundingClientRect());let U=0;for(let Q=0;Q<P.length;Q++)U+=P[Q].offsetWidth;c=Math.abs(V-T)-5,h=U>0?.75*U+10:0}for(let x=0;x<y.length;x++)y[x].style.width=`${c}px`;for(let x=0;x<w.length;x++)w[x].style.width=`${h}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.sBO),u.Y36(Ld,8),u.Y36(Pv,8),u.Y36(os),u.Y36(u.R0b),u.Y36(u.QbO,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,i,r){if(1&t&&(u.Suo(r,je,5),u.Suo(r,je,7),u.Suo(r,In,5),u.Suo(r,In,7),u.Suo(r,Ac,5),u.Suo(r,Y,5),u.Suo(r,St,5),u.Suo(r,Rv,5),u.Suo(r,Ov,5)),2&t){let a;u.iGM(a=u.CRH())&&(i._controlNonStatic=a.first),u.iGM(a=u.CRH())&&(i._controlStatic=a.first),u.iGM(a=u.CRH())&&(i._labelChildNonStatic=a.first),u.iGM(a=u.CRH())&&(i._labelChildStatic=a.first),u.iGM(a=u.CRH())&&(i._placeholderChild=a.first),u.iGM(a=u.CRH())&&(i._errorChildren=a),u.iGM(a=u.CRH())&&(i._hintChildren=a),u.iGM(a=u.CRH())&&(i._prefixChildren=a),u.iGM(a=u.CRH())&&(i._suffixChildren=a)}},viewQuery:function(t,i){if(1&t&&(u.Gf(EP,7),u.Gf(DP,5),u.Gf(xP,5)),2&t){let r;u.iGM(r=u.CRH())&&(i._connectionContainerRef=r.first),u.iGM(r=u.CRH())&&(i._inputContainerRef=r.first),u.iGM(r=u.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,i){2&t&&u.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[u._Bn([{provide:SP,useExisting:n}]),u.qOj],ngContentSelectors:k,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,i){1&t&&(u.F$t(M),u.TgZ(0,"div",0)(1,"div",1,2),u.NdJ("click",function(a){return i._control.onContainerClick&&i._control.onContainerClick(a)}),u.YNc(3,IP,9,0,"ng-container",3),u.YNc(4,AP,2,1,"div",4),u.TgZ(5,"div",5,6),u.Hsn(7),u.TgZ(8,"span",7),u.YNc(9,d,5,16,"label",8),u.qZA()(),u.YNc(10,f,2,0,"div",9),u.qZA(),u.YNc(11,m,2,4,"div",10),u.TgZ(12,"div",11),u.YNc(13,v,2,1,"div",12),u.YNc(14,E,5,2,"div",13),u.qZA()()),2&t&&(u.xp6(3),u.Q6J("ngIf","outline"==i.appearance),u.xp6(1),u.Q6J("ngIf",i._prefixChildren.length),u.xp6(5),u.Q6J("ngIf",i._hasFloatingLabel()),u.xp6(1),u.Q6J("ngIf",i._suffixChildren.length),u.xp6(1),u.Q6J("ngIf","outline"!=i.appearance),u.xp6(1),u.Q6J("ngSwitch",i._getDisplayedMessages()),u.xp6(1),u.Q6J("ngSwitchCase","error"),u.xp6(1),u.Q6J("ngSwitchCase","hint"))},dependencies:[Lc,xa,Ia,x_],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[we.transitionMessages]},changeDetection:0}),n})(),rM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Kr,yi,Zg,yi]}),n})();const TP=mc({passive:!0});let tj=(()=>{class n{constructor(t,i){this._platform=t,this._ngZone=i,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return ns.E;const i=pa(t),r=this._monitoredElements.get(i);if(r)return r.subject;const a=new Pt.x,c="cdk-text-field-autofilled",h=y=>{"cdk-text-field-autofill-start"!==y.animationName||i.classList.contains(c)?"cdk-text-field-autofill-end"===y.animationName&&i.classList.contains(c)&&(i.classList.remove(c),this._ngZone.run(()=>a.next({target:y.target,isAutofilled:!1}))):(i.classList.add(c),this._ngZone.run(()=>a.next({target:y.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",h,TP),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:a,unlisten:()=>{i.removeEventListener("animationstart",h,TP)}}),a}stopMonitoring(t){const i=pa(t),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(os),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),RP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const nj=new u.OlP("MAT_INPUT_VALUE_ACCESSOR"),ij=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let rj=0;const sj=NA(class{constructor(n,e,t,i){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=i,this.stateChanges=new Pt.x}});let OP=(()=>{class n extends sj{constructor(t,i,r,a,c,h,y,w,x,T){super(h,a,c,r),this._elementRef=t,this._platform=i,this._autofillMonitor=w,this._formField=T,this._uid="mat-input-"+rj++,this.focused=!1,this.stateChanges=new Pt.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(U=>p_().has(U)),this._iOSKeyupListener=U=>{const Q=U.target;!Q.value&&0===Q.selectionStart&&0===Q.selectionEnd&&(Q.setSelectionRange(1,1),Q.setSelectionRange(0,0))};const P=this._elementRef.nativeElement,V=P.nodeName.toLowerCase();this._inputValueAccessor=y||P,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&x.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===V,this._isTextarea="textarea"===V,this._isInFormField=!!T,this._isNativeSelect&&(this.controlType=P.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=Ki(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){var t,i,r,a;return null!==(a=null!==(t=this._required)&&void 0!==t?t:null===(r=null===(i=this.ngControl)||void 0===i?void 0:i.control)||void 0===r?void 0:r.hasValidator(bl.required))&&void 0!==a&&a}set required(t){this._required=Ki(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&p_().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=Ki(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var t;const i=this._formField,r=!i||"legacy"!==i.appearance||null!==(t=i._hasLabel)&&void 0!==t&&t.call(i)?this.placeholder:null;if(r!==this._previousPlaceholder){const a=this._elementRef.nativeElement;this._previousPlaceholder=r,r?a.setAttribute("placeholder",r):a.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){ij.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(os),u.Y36(wl,10),u.Y36(rh,8),u.Y36(ep,8),u.Y36(Kd),u.Y36(nj,10),u.Y36(tj),u.Y36(u.R0b),u.Y36(SP,8))},n.\u0275dir=u.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(t,i){1&t&&u.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&t&&(u.Ikx("disabled",i.disabled)("required",i.required),u.uIk("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),u.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[u._Bn([{provide:je,useExisting:n}]),u.qOj,u.TTD]}),n})(),oj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[Kd],imports:[RP,rM,yi,RP,rM]}),n})(),aj=(()=>{class n{constructor(t,i){this.fb=t,this.sendMailService=i,this.userEmail=new El("",[bl.required,bl.email]),this.userTexte=new El("",bl.required),this.messageFeedback=""}ngOnInit(){this.myForm=this.fb.group({userEmail:this.userEmail,userTexte:this.userTexte})}send(){this.sendMailService.sendMails(this.userEmail.getRawValue(),this.userTexte.getRawValue()).subscribe({next:t=>{t.ok&&(this.myForm.reset(),this.userTexte.reset(),this.userEmail.reset(),this.messageFeedback="Votre message a bien \xe9t\xe9 envoy\xe9!")}})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(vv),u.Y36(Iv))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-contact"]],decls:20,vars:5,consts:[["id","contact","fxLayout","row","fxLayout.xs","column","fxLayout.sm","column","fxLayoutAlign","space-between center","fxLayoutAlign.xs","stretch","fxLayoutAlign.sm","stretch","fxLayoutGap.lt-md","30px"],["fxFlex","50","fxFlex.xs","100","fxFlex.sm","100","fxFlex.md","100","fxLayout","column","fxLayoutAlign","center stretch"],["fxFlex","100","id","feedback"],["fxFlex","100","fxLayout","column","fxLayoutAlign","space-between stretch","fxFlexOrder.lt-md","2",3,"formGroup"],["appearance","outline"],["matInput","","placeholder","Entrez votre email","required","",3,"formControl"],["matInput","","rows","5","placeholder","Entrez votre message","required","",3,"formControl"],["mat-flat-button","","color","primary",3,"disabled","click"],["fxFlex.gt-sm","50","fxFlex.lt-sm","100","fxFlexOrder.lt-md","1","fxLayout","column","fxLayoutAlign","center center"]],template:function(t,i){1&t&&(u.TgZ(0,"section",0)(1,"div",1)(2,"div",2),u._uU(3),u.qZA(),u.TgZ(4,"form",3)(5,"mat-form-field",4)(6,"mat-label"),u._uU(7,"Votre email"),u.qZA(),u._UZ(8,"input",5),u.qZA(),u.TgZ(9,"mat-form-field"),u._UZ(10,"textarea",6),u.qZA(),u.TgZ(11,"button",7),u.NdJ("click",function(){return i.send()}),u._uU(12,"Envoyer"),u.qZA()()(),u.TgZ(13,"div",8)(14,"h2"),u._uU(15,"ME CONTACTER"),u.qZA(),u.TgZ(16,"h3"),u._uU(17,"Nicolas Osmont"),u.qZA(),u.TgZ(18,"h3"),u._uU(19,"06.17.56.12.84"),u.qZA()()()),2&t&&(u.xp6(3),u.Oqu(i.messageFeedback),u.xp6(1),u.Q6J("formGroup",i.myForm),u.xp6(4),u.Q6J("formControl",i.userEmail),u.xp6(2),u.Q6J("formControl",i.userTexte),u.xp6(1),u.Q6J("disabled",i.myForm.invalid))},dependencies:[gc,du,pl,c_,fl,EE,MP,In,fv,Xd,Dc,X_,gm,hm,ep,OP],styles:["#contact[_ngcontent-%COMP%]{background-color:#bcddfc}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%}input[_ngcontent-%COMP%]{height:40px}#feedback[_ngcontent-%COMP%]{color:#f44336}@media only screen and (max-width: 481px){section[_ngcontent-%COMP%]{padding:45px 15px}}@media only screen and (max-width: 768px){form[_ngcontent-%COMP%]{width:100%}}@media only screen and (min-width: 769px){form[_ngcontent-%COMP%]{width:100%}}@media only screen and (min-width: 1024px){form[_ngcontent-%COMP%]{width:100%}}"]}),n})();const lj=[{path:"about",component:_C},{path:"services",component:Cc},{path:"work",component:j_},{path:"",component:(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-single-page"]],decls:5,vars:0,template:function(t,i){1&t&&u._UZ(0,"app-introduction")(1,"app-my-services")(2,"app-my-work")(3,"app-about")(4,"app-contact")},dependencies:[Hg,Cc,j_,_C,aj]}),n})()}];let uj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[N0.forRoot(lj),N0]}),n})(),gj=(()=>{class n extends Jn{constructor(t,i,r,a,c,h,y){super(t,null,i,r),this.ngClassInstance=y,this.DIRECTIVE_KEY="ngClass",this.ngClassInstance||(this.ngClassInstance=new Mr(a,c,t,h)),this.init(),this.setValue("","")}set klass(t){this.ngClassInstance.klass=t,this.setValue(t,"")}updateWithValue(t){this.ngClassInstance.ngClass=t,this.ngClassInstance.ngDoCheck()}ngDoCheck(){this.ngClassInstance.ngDoCheck()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(Bn),u.Y36(Wn),u.Y36(u.ZZ4),u.Y36(u.aQg),u.Y36(u.Qsj),u.Y36(Mr,10))},n.\u0275dir=u.lG2({type:n,inputs:{klass:["class","klass"]},features:[u.qOj]}),n})();const mj=["ngClass","ngClass.xs","ngClass.sm","ngClass.md","ngClass.lg","ngClass.xl","ngClass.lt-sm","ngClass.lt-md","ngClass.lt-lg","ngClass.lt-xl","ngClass.gt-xs","ngClass.gt-sm","ngClass.gt-md","ngClass.gt-lg"];let kP=(()=>{class n extends gj{constructor(){super(...arguments),this.inputs=mj}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=u.n5z(n)))(i||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["","ngClass",""],["","ngClass.xs",""],["","ngClass.sm",""],["","ngClass.md",""],["","ngClass.lg",""],["","ngClass.xl",""],["","ngClass.lt-sm",""],["","ngClass.lt-md",""],["","ngClass.lt-lg",""],["","ngClass.lt-xl",""],["","ngClass.gt-xs",""],["","ngClass.gt-sm",""],["","ngClass.gt-md",""],["","ngClass.gt-lg",""]],inputs:{ngClass:"ngClass","ngClass.xs":"ngClass.xs","ngClass.sm":"ngClass.sm","ngClass.md":"ngClass.md","ngClass.lg":"ngClass.lg","ngClass.xl":"ngClass.xl","ngClass.lt-sm":"ngClass.lt-sm","ngClass.lt-md":"ngClass.lt-md","ngClass.lt-lg":"ngClass.lt-lg","ngClass.lt-xl":"ngClass.lt-xl","ngClass.gt-xs":"ngClass.gt-xs","ngClass.gt-sm":"ngClass.gt-sm","ngClass.gt-md":"ngClass.gt-md","ngClass.gt-lg":"ngClass.gt-lg"},features:[u.qOj]}),n})(),BP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[cu]]}),n})();var UP=F(3099);const Aj=["*"];let PE;function Nv(n){var e;return(null===(e=function Sj(){if(void 0===PE&&(PE=null,"undefined"!=typeof window)){const n=window;void 0!==n.trustedTypes&&(PE=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return PE}())||void 0===e?void 0:e.createHTML(n))||n}function jP(n){return Error(`Unable to find icon with the name "${n}"`)}function HP(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function GP(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class up{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let NE=(()=>{class n{constructor(t,i,r,a){this._httpClient=t,this._sanitizer=i,this._errorHandler=a,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,a){return this._addSvgIconConfig(t,i,new up(r,null,a))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,a){const c=this._sanitizer.sanitize(u.q3G.HTML,r);if(!c)throw GP(r);const h=Nv(c);return this._addSvgIconConfig(t,i,new up("",h,a))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new up(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const a=this._sanitizer.sanitize(u.q3G.HTML,i);if(!a)throw GP(i);const c=Nv(a);return this._addSvgIconSetConfig(t,new up("",c,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(u.q3G.RESOURCE_URL,t);if(!i)throw HP(t);const r=this._cachedIconsByUrl.get(i);return r?it(LE(r)):this._loadSvgIconFromConfig(new up(t,null)).pipe((0,Fe.b)(a=>this._cachedIconsByUrl.set(i,a)),(0,tt.U)(a=>LE(a)))}getNamedSvgIcon(t,i=""){const r=$P(i,t);let a=this._svgIconConfigs.get(r);if(a)return this._getSvgFromConfig(a);if(a=this._getIconConfigFromResolvers(i,t),a)return this._svgIconConfigs.set(r,a),this._getSvgFromConfig(a);const c=this._iconSetConfigs.get(i);return c?this._getSvgFromIconSetConfigs(t,c):hr(jP(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?it(LE(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,tt.U)(i=>LE(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?it(r):eS(i.filter(c=>!c.svgText).map(c=>this._loadSvgIconSetFromConfig(c).pipe(lt(h=>{const w=`Loading icon set URL: ${this._sanitizer.sanitize(u.q3G.RESOURCE_URL,c.url)} failed: ${h.message}`;return this._errorHandler.handleError(new Error(w)),it(null)})))).pipe((0,tt.U)(()=>{const c=this._extractIconWithNameFromAnySet(t,i);if(!c)throw jP(t);return c}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const a=i[r];if(a.svgText&&a.svgText.toString().indexOf(t)>-1){const c=this._svgElementFromConfig(a),h=this._extractSvgIconFromSet(c,t,a.options);if(h)return h}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,Fe.b)(i=>t.svgText=i),(0,tt.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?it(null):this._fetchIcon(t).pipe((0,Fe.b)(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const a=t.querySelector(`[id="${i}"]`);if(!a)return null;const c=a.cloneNode(!0);if(c.removeAttribute("id"),"svg"===c.nodeName.toLowerCase())return this._setSvgAttributes(c,r);if("symbol"===c.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(c),r);const h=this._svgElementFromString(Nv("<svg></svg>"));return h.appendChild(c),this._setSvgAttributes(h,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString(Nv("<svg></svg>")),r=t.attributes;for(let a=0;a<r.length;a++){const{name:c,value:h}=r[a];"id"!==c&&i.setAttribute(c,h)}for(let a=0;a<t.childNodes.length;a++)t.childNodes[a].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[a].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){var i;const{url:r,options:a}=t,c=null!==(i=null==a?void 0:a.withCredentials)&&void 0!==i&&i;if(!this._httpClient)throw function Mj(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const h=this._sanitizer.sanitize(u.q3G.RESOURCE_URL,r);if(!h)throw HP(r);const y=this._inProgressUrlFetches.get(h);if(y)return y;const w=this._httpClient.get(h,{responseType:"text",withCredentials:c}).pipe((0,tt.U)(x=>Nv(x)),zs(()=>this._inProgressUrlFetches.delete(h)),(0,UP.B)());return this._inProgressUrlFetches.set(h,w),w}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set($P(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const a=this._resolvers[r](i,t);if(a)return Rj(a)?new up(a.url,null,a.options):new up(a,null)}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ap,8),u.LFG(Cs),u.LFG(ne,8),u.LFG(u.qLn))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function LE(n){return n.cloneNode(!0)}function $P(n,e){return n+":"+e}function Rj(n){return!(!n.url||!n.options)}const Oj=zf(class{constructor(n){this._elementRef=n}}),kj=new u.OlP("MAT_ICON_DEFAULT_OPTIONS"),Fj=new u.OlP("mat-icon-location",{providedIn:"root",factory:function Pj(){const n=(0,u.f3M)(ne),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),zP=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Nj=zP.map(n=>`[${n}]`).join(", "),Lj=/^url\(['"]?#(.*?)['"]?\)$/;let Vj=(()=>{class n extends Oj{constructor(t,i,r,a,c,h){super(t),this._iconRegistry=i,this._location=a,this._errorHandler=c,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Pi.w0.EMPTY,h&&(h.color&&(this.color=this.defaultColor=h.color),h.fontSet&&(this.fontSet=h.fontSet)),r||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=Ki(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>t.classList.remove(r)),i.forEach(r=>t.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,a)=>{r.forEach(c=>{a.setAttribute(c.name,`url('${t}#${c.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(Nj),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let a=0;a<i.length;a++)zP.forEach(c=>{const h=i[a],y=h.getAttribute(c),w=y?y.match(Lj):null;if(w){let x=r.get(h);x||(x=[],r.set(h,x)),x.push({name:c,value:w[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(jt(1)).subscribe(a=>this._setSvgElement(a),a=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${a.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(NE),u.$8M("aria-hidden"),u.Y36(Fj),u.Y36(u.qLn),u.Y36(kj,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(t,i){2&t&&(u.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),u.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[u.qOj],ngContentSelectors:Aj,decls:1,vars:0,template:function(t,i){1&t&&(u.F$t(),u.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),Bj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[yi,yi]}),n})();class oM{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class aM extends oM{constructor(e,t,i,r){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r}}class qP extends oM{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class Uj extends oM{constructor(e){super(),this.element=e instanceof u.SBq?e.nativeElement:e}}class lM{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof aM?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof qP?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof Uj?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class jj extends lM{constructor(e,t,i,r,a){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=c=>{const h=c.element,y=this._document.createComment("dom-portal");h.parentNode.insertBefore(y,h),this.outletElement.appendChild(h),this._attachedPortal=c,super.setDisposeFn(()=>{y.parentNode&&y.parentNode.replaceChild(h,y)})},this._document=a}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||u.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let uM=(()=>{class n extends lM{constructor(t,i,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new u.vpe,this.attachDomPortal=a=>{const c=a.element,h=this._document.createComment("dom-portal");a.setAttachedHost(this),c.parentNode.insertBefore(h,c),this._getRootNode().appendChild(c),this._attachedPortal=a,super.setDisposeFn(()=>{h.parentNode&&h.parentNode.replaceChild(c,h)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const i=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,a=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),c=i.createComponent(a,i.length,t.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(c.hostView.rootNodes[0]),super.setDisposeFn(()=>c.destroy()),this._attachedPortal=t,this._attachedRef=c,this.attached.emit(c),c}attachTemplatePortal(t){t.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u._Vd),u.Y36(u.s_b),u.Y36(ne))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[u.qOj]}),n})(),VE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();var WP=F(4408);const Lv={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=Lv;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(a=>{t=void 0,n(a)});return new Pi.w0(()=>null==t?void 0:t(r))},requestAnimationFrame(...n){const{delegate:e}=Lv;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Lv;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var YP=F(7565);new class Gj extends YP.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class Hj extends WP.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=Lv.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:a}=e;null!=t&&(null===(r=a[a.length-1])||void 0===r?void 0:r.id)!==t&&(Lv.cancelAnimationFrame(t),e._scheduled=void 0)}});let cM,zj=1;const BE={};function ZP(n){return n in BE&&(delete BE[n],!0)}const qj={setImmediate(n){const e=zj++;return BE[e]=!0,cM||(cM=Promise.resolve()),cM.then(()=>ZP(e)&&n()),e},clearImmediate(n){ZP(n)}},{setImmediate:Wj,clearImmediate:Yj}=qj,UE={setImmediate(...n){const{delegate:e}=UE;return((null==e?void 0:e.setImmediate)||Wj)(...n)},clearImmediate(n){const{delegate:e}=UE;return((null==e?void 0:e.clearImmediate)||Yj)(n)},delegate:void 0};new class Kj extends YP.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class Zj extends WP.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=UE.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:a}=e;null!=t&&(null===(r=a[a.length-1])||void 0===r?void 0:r.id)!==t&&(UE.clearImmediate(t),e._scheduled=void 0)}});var Jj=F(3532);function KP(n,e=vc.z){return function Xj(n){return(0,qn.e)((e,t)=>{let i=!1,r=null,a=null,c=!1;const h=()=>{if(null==a||a.unsubscribe(),a=null,i){i=!1;const w=r;r=null,t.next(w)}c&&t.complete()},y=()=>{a=null,c&&t.complete()};e.subscribe((0,Tn.x)(t,w=>{i=!0,r=w,a||(0,Pr.Xf)(n(w)).subscribe(a=(0,Tn.x)(t,h,y))},()=>{c=!0,(!i||!a||a.closed)&&t.complete()}))})}(()=>function tH(n=0,e,t=vc.P){let i=-1;return null!=e&&((0,Jj.K)(e)?t=e:i=e),new Ln.y(r=>{let a=function eH(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;a<0&&(a=0);let c=0;return t.schedule(function(){r.closed||(r.next(c++),0<=i?this.schedule(void 0,i):r.complete())},a)})}(n,e))}let iH=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new Pt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Ln.y(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(KP(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):it()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(D(a=>!a||r.indexOf(a)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,a)=>{this._scrollableContainsElement(a,t)&&i.push(a)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=pa(i),a=t.getElementRef().nativeElement;do{if(r==a)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Cm(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.R0b),u.LFG(os),u.LFG(ne,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),QP=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new Pt.x,this._changeListener=a=>{this._change.next(a)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,a=r.getBoundingClientRect();return{top:-a.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-a.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(KP(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(os),u.LFG(u.R0b),u.LFG(ne,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),dM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),XP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[dc,dM,dc,dM]}),n})();const JP=$g();class sH{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Di(-this._previousScrollPosition.left),e.style.top=Di(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,a=i.scrollBehavior||"",c=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),JP&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),JP&&(i.scrollBehavior=a,r.scrollBehavior=c)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class oH{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class eN{enable(){}disable(){}attach(){}}function hM(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function tN(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class aH{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();hM(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let lH=(()=>{class n{constructor(t,i,r,a){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new eN,this.close=c=>new oH(this._scrollDispatcher,this._ngZone,this._viewportRuler,c),this.block=()=>new sH(this._viewportRuler,this._document),this.reposition=c=>new aH(this._scrollDispatcher,this._viewportRuler,this._ngZone,c),this._document=a}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(iH),u.LFG(QP),u.LFG(u.R0b),u.LFG(ne))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class nN{constructor(e){if(this.scrollStrategy=new eN,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class uH{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}class Vv{constructor(e,t,i,r,a,c,h,y,w,x=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=a,this._keyboardDispatcher=c,this._document=h,this._location=y,this._outsideClickDispatcher=w,this._animationsDisabled=x,this._backdropElement=null,this._backdropClick=new Pt.x,this._attachments=new Pt.x,this._detachments=new Pt.x,this._locationChanges=Pi.w0.EMPTY,this._backdropClickHandler=T=>this._backdropClick.next(T),this._backdropTransitionendHandler=T=>{this._disposeBackdrop(T.target)},this._keydownEvents=new Pt.x,this._outsidePointerEvents=new Pt.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(jt(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof(null==t?void 0:t.onDestroy)&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){var e;const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(e=this._host)||void 0===e||e.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Di(this._config.width),e.height=Di(this._config.height),e.minWidth=Di(this._config.minWidth),e.minHeight=Di(this._config.minHeight),e.maxWidth=Di(this._config.maxWidth),e.maxHeight=Di(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),this._animationsDisabled||"undefined"==typeof requestAnimationFrame?this._backdropElement.classList.add(e):this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})})}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=jf(t||[]).filter(a=>!!a);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Do((0,hc.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let jE=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){var t;null===(t=this._containerElement)||void 0===t||t.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||_c()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let a=0;a<r.length;a++)r[a].remove()}const i=this._document.createElement("div");i.classList.add(t),_c()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ne),u.LFG(os))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const iN="cdk-overlay-connected-position-bounding-box",cH=/([A-Za-z%]+)$/;class dH{constructor(e,t,i,r,a){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=a,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Pt.x,this._resizeSubscription=Pi.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(iN),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,a=[];let c;for(let h of this._preferredPositions){let y=this._getOriginPoint(e,r,h),w=this._getOverlayPoint(y,t,h),x=this._getOverlayFit(w,t,i,h);if(x.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,y);this._canFitWithFlexibleDimensions(x,w,i)?a.push({position:h,origin:y,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(y,h)}):(!c||c.overlayFit.visibleArea<x.visibleArea)&&(c={overlayFit:x,overlayPoint:w,originPoint:y,position:h,overlayRect:t})}if(a.length){let h=null,y=-1;for(const w of a){const x=w.boundingBoxRect.width*w.boundingBoxRect.height*(w.position.weight||1);x>y&&(y=x,h=w)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(c.position,c.originPoint);this._applyPosition(c.position,c.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&cp(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(iN),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,a;if("center"==i.originX)r=e.left+e.width/2;else{const c=this._isRtl()?e.right:e.left,h=this._isRtl()?e.left:e.right;r="start"==i.originX?c:h}return t.left<0&&(r-=t.left),a="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(a-=t.top),{x:r,y:a}}_getOverlayPoint(e,t,i){let r,a;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,a="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+a}}_getOverlayFit(e,t,i,r){const a=sN(t);let{x:c,y:h}=e,y=this._getOffset(r,"x"),w=this._getOffset(r,"y");y&&(c+=y),w&&(h+=w);let P=0-h,V=h+a.height-i.height,U=this._subtractOverflows(a.width,0-c,c+a.width-i.width),Q=this._subtractOverflows(a.height,P,V),_e=U*Q;return{visibleArea:_e,isCompletelyWithinViewport:a.width*a.height===_e,fitsInViewportVertically:Q===a.height,fitsInViewportHorizontally:U==a.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,a=i.right-t.x,c=rN(this._overlayRef.getConfig().minHeight),h=rN(this._overlayRef.getConfig().minWidth),w=e.fitsInViewportHorizontally||null!=h&&h<=a;return(e.fitsInViewportVertically||null!=c&&c<=r)&&w}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=sN(t),a=this._viewportRect,c=Math.max(e.x+r.width-a.width,0),h=Math.max(e.y+r.height-a.height,0),y=Math.max(a.top-i.top-e.y,0),w=Math.max(a.left-i.left-e.x,0);let x=0,T=0;return x=r.width<=a.width?w||-c:e.x<this._viewportMargin?a.left-i.left-e.x:0,T=r.height<=a.height?y||-h:e.y<this._viewportMargin?a.top-i.top-e.y:0,this._previousPushAmount={x,y:T},{x:e.x+x,y:e.y+T}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new uH(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let a=0;a<t.length;a++)t[a].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let a,c,h,x,T,P;if("top"===t.overlayY)c=e.y,a=i.height-c+this._viewportMargin;else if("bottom"===t.overlayY)h=i.height-e.y+2*this._viewportMargin,a=i.height-h+this._viewportMargin;else{const V=Math.min(i.bottom-e.y+i.top,e.y),U=this._lastBoundingBoxSize.height;a=2*V,c=e.y-V,a>U&&!this._isInitialRender&&!this._growAfterOpen&&(c=e.y-U/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)P=i.width-e.x+this._viewportMargin,x=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)T=e.x,x=i.right-e.x;else{const V=Math.min(i.right-e.x+i.left,e.x),U=this._lastBoundingBoxSize.width;x=2*V,T=e.x-V,x>U&&!this._isInitialRender&&!this._growAfterOpen&&(T=e.x-U/2)}return{top:c,left:T,bottom:h,right:P,width:x,height:a}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const a=this._overlayRef.getConfig().maxHeight,c=this._overlayRef.getConfig().maxWidth;r.height=Di(i.height),r.top=Di(i.top),r.bottom=Di(i.bottom),r.width=Di(i.width),r.left=Di(i.left),r.right=Di(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",a&&(r.maxHeight=Di(a)),c&&(r.maxWidth=Di(c))}this._lastBoundingBoxSize=i,cp(this._boundingBox.style,r)}_resetBoundingBoxStyles(){cp(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){cp(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),a=this._hasFlexibleDimensions,c=this._overlayRef.getConfig();if(r){const x=this._viewportRuler.getViewportScrollPosition();cp(i,this._getExactOverlayY(t,e,x)),cp(i,this._getExactOverlayX(t,e,x))}else i.position="static";let h="",y=this._getOffset(t,"x"),w=this._getOffset(t,"y");y&&(h+=`translateX(${y}px) `),w&&(h+=`translateY(${w}px)`),i.transform=h.trim(),c.maxHeight&&(r?i.maxHeight=Di(c.maxHeight):a&&(i.maxHeight="")),c.maxWidth&&(r?i.maxWidth=Di(c.maxWidth):a&&(i.maxWidth="")),cp(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(a.y+this._overlayRect.height)+"px":r.top=Di(a.y),r}_getExactOverlayX(e,t,i){let c,r={left:"",right:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,i)),c=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===c?r.right=this._document.documentElement.clientWidth-(a.x+this._overlayRect.width)+"px":r.left=Di(a.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:tN(e,i),isOriginOutsideView:hM(e,i),isOverlayClipped:tN(t,i),isOverlayOutsideView:hM(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&jf(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof u.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function cp(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function rN(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(cH);return t&&"px"!==t?null:parseFloat(e)}return n||null}function sN(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const oN="cdk-global-overlay-wrapper";class hH{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(oN),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:a,maxWidth:c,maxHeight:h}=i,y=!("100%"!==r&&"100vw"!==r||c&&"100%"!==c&&"100vw"!==c),w=!("100%"!==a&&"100vh"!==a||h&&"100%"!==h&&"100vh"!==h),x=this._xPosition,T=this._xOffset,P="rtl"===this._overlayRef.getConfig().direction;let V="",U="",Q="";y?Q="flex-start":"center"===x?(Q="center",P?U=T:V=T):P?"left"===x||"end"===x?(Q="flex-end",V=T):("right"===x||"start"===x)&&(Q="flex-start",U=T):"left"===x||"start"===x?(Q="flex-start",V=T):("right"===x||"end"===x)&&(Q="flex-end",U=T),e.position=this._cssPosition,e.marginLeft=y?"0":V,e.marginTop=w?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=y?"0":U,t.justifyContent=Q,t.alignItems=w?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(oN),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let fH=(()=>{class n{constructor(t,i,r,a){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=a}global(){return new hH}flexibleConnectedTo(t){return new dH(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(QP),u.LFG(ne),u.LFG(os),u.LFG(jE))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),aN=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ne))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pH=(()=>{class n extends aN{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const a=this._attachedOverlays;for(let c=a.length-1;c>-1;c--)if(a[c]._keydownEvents.observers.length>0){const h=a[c]._keydownEvents;this._ngZone?this._ngZone.run(()=>h.next(r)):h.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ne),u.LFG(u.R0b,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gH=(()=>{class n extends aN{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=a=>{this._pointerDownEventTarget=yc(a)},this._clickListener=a=>{const c=yc(a),h="click"===a.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:c;this._pointerDownEventTarget=null;const y=this._attachedOverlays.slice();for(let w=y.length-1;w>-1;w--){const x=y[w];if(x._outsidePointerEvents.observers.length<1||!x.hasAttached())continue;if(x.overlayElement.contains(c)||x.overlayElement.contains(h))break;const T=x._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>T.next(a)):T.next(a)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ne),u.LFG(os),u.LFG(u.R0b,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mH=0,dp=(()=>{class n{constructor(t,i,r,a,c,h,y,w,x,T,P,V){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=a,this._keyboardDispatcher=c,this._injector=h,this._ngZone=y,this._document=w,this._directionality=x,this._location=T,this._outsideClickDispatcher=P,this._animationsModuleType=V}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),a=this._createPortalOutlet(r),c=new nN(t);return c.direction=c.direction||this._directionality.value,new Vv(a,i,r,c,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+mH++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(u.z2F)),new jj(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(lH),u.LFG(jE),u.LFG(u._Vd),u.LFG(fH),u.LFG(pH),u.LFG(u.zs3),u.LFG(u.R0b),u.LFG(ne),u.LFG(Ld),u.LFG(Ve),u.LFG(gH),u.LFG(u.QbO,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const vH={provide:new u.OlP("cdk-connected-overlay-scroll-strategy"),deps:[dp],useFactory:function _H(n){return()=>n.scrollStrategies.reposition()}};let fM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[dp,vH],imports:[dc,VE,XP,XP]}),n})();function bH(n,e){}class HE{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let lN=(()=>{class n extends lM{constructor(t,i,r,a,c,h,y,w){super(),this._elementRef=t,this._focusTrapFactory=i,this._config=a,this._interactivityChecker=c,this._ngZone=h,this._overlayRef=y,this._focusMonitor=w,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=x=>{this._portalOutlet.hasAttached();const T=this._portalOutlet.attachDomPortal(x);return this._contentAttached(),T},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=r}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),i}attachTemplatePortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._config.restoreFocus;let i=null;if("string"==typeof t?i=this._document.querySelector(t):"boolean"==typeof t?i=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(i=t),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=y_(),a=this._elementRef.nativeElement;(!r||r===this._document.body||r===a||a.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,i=y_();return t===i||t.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=y_())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(O_),u.Y36(ne,8),u.Y36(HE),u.Y36(Kg),u.Y36(u.R0b),u.Y36(Vv),u.Y36(Xg))},n.\u0275cmp=u.Xpm({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(t,i){if(1&t&&u.Gf(uM,7),2&t){let r;u.iGM(r=u.CRH())&&(i._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(t,i){2&t&&u.uIk("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[u.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,i){1&t&&u.YNc(0,bH,0,0,"ng-template",0)},dependencies:[uM],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class pM{constructor(e,t){this.overlayRef=e,this.config=t,this.closed=new Pt.x,this.disableClose=t.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!Fw(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(e,t){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=(null==t?void 0:t.focusOrigin)||"program",this.overlayRef.dispose(),i.next(e),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",t=""){return this.overlayRef.updateSize({width:e,height:t}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}}const uN=new u.OlP("DialogScrollStrategy"),wH=new u.OlP("DialogData"),CH=new u.OlP("DefaultDialogConfig"),DH={provide:uN,deps:[dp],useFactory:function EH(n){return()=>n.scrollStrategies.block()}};let xH=0,cN=(()=>{class n{constructor(t,i,r,a,c,h){this._overlay=t,this._injector=i,this._defaultOptions=r,this._parentDialog=a,this._overlayContainer=c,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Pt.x,this._afterOpenedAtThisLevel=new Pt.x,this._ariaHiddenElements=new Map,this.afterAllClosed=Nr(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(fr(void 0))),this._scrollStrategy=h}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}open(t,i){const r=this._defaultOptions||new HE;(i=Object.assign(Object.assign({},r),i)).id=i.id||"cdk-dialog-"+xH++,i.id&&this.getDialogById(i.id);const a=this._getOverlayConfig(i),c=this._overlay.create(a),h=new pM(c,i),y=this._attachContainer(c,h,i);return h.containerInstance=y,this._attachDialogContent(t,h,y,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(h),h.closed.subscribe(()=>this._removeOpenDialog(h,!0)),this.afterOpened.next(h),h}closeAll(){gM(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){gM(this._openDialogsAtThisLevel,t=>{!1===t.config.closeOnDestroy&&this._removeOpenDialog(t,!1)}),gM(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){const i=new nN({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(i.backdropClass=t.backdropClass),i}_attachContainer(t,i,r){var a;const c=r.injector||(null===(a=r.viewContainerRef)||void 0===a?void 0:a.injector),h=[{provide:HE,useValue:r},{provide:pM,useValue:i},{provide:Vv,useValue:t}];let y;r.container?"function"==typeof r.container?y=r.container:(y=r.container.type,h.push(...r.container.providers(r))):y=lN;const w=new aM(y,r.viewContainerRef,u.zs3.create({parent:c||this._injector,providers:h}),r.componentFactoryResolver);return t.attach(w).instance}_attachDialogContent(t,i,r,a){if(t instanceof u.Rgc){const c=this._createInjector(a,i,r,void 0);let h={$implicit:a.data,dialogRef:i};a.templateContext&&(h=Object.assign(Object.assign({},h),"function"==typeof a.templateContext?a.templateContext():a.templateContext)),r.attachTemplatePortal(new qP(t,null,h,c))}else{const c=this._createInjector(a,i,r,this._injector),h=r.attachComponentPortal(new aM(t,a.viewContainerRef,c,a.componentFactoryResolver));i.componentInstance=h.instance}}_createInjector(t,i,r,a){var c;const h=t.injector||(null===(c=t.viewContainerRef)||void 0===c?void 0:c.injector),y=[{provide:wH,useValue:t.data},{provide:pM,useValue:i}];return t.providers&&("function"==typeof t.providers?y.push(...t.providers(i,t,r)):y.push(...t.providers)),t.direction&&(!h||!h.get(Ld,null,u.XFs.Optional))&&y.push({provide:Ld,useValue:{value:t.direction,change:it()}}),u.zs3.create({parent:h||a,providers:y})}_removeOpenDialog(t,i){const r=this.openDialogs.indexOf(t);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((a,c)=>{a?c.setAttribute("aria-hidden",a):c.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const i=t.parentElement.children;for(let r=i.length-1;r>-1;r--){const a=i[r];a!==t&&"SCRIPT"!==a.nodeName&&"STYLE"!==a.nodeName&&!a.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(a,a.getAttribute("aria-hidden")),a.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(dp),u.LFG(u.zs3),u.LFG(CH,8),u.LFG(n,12),u.LFG(jE),u.LFG(uN))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function gM(n,e){let t=n.length;for(;t--;)e(n[t])}let IH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[cN,DH],imports:[fM,VE,TA,VE]}),n})();function AH(n,e){}const Sm={params:{enterAnimationDuration:"150ms",exitAnimationDuration:"75ms"}},SH={dialogContainer:Tv("dialogContainer",[Dm("void, exit",Os({opacity:0,transform:"scale(0.7)"})),Dm("enter",Os({transform:"none"})),lh("* => enter",Em([Ic("{{enterAnimationDuration}} cubic-bezier(0, 0, 0.2, 1)",Os({transform:"none",opacity:1})),nM("@*",TE(),{optional:!0})]),Sm),lh("* => void, * => exit",Em([Ic("{{exitAnimationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)",Os({opacity:0})),nM("@*",TE(),{optional:!0})]),Sm)])};class GE{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0,this.enterAnimationDuration=Sm.params.enterAnimationDuration,this.exitAnimationDuration=Sm.params.exitAnimationDuration}}let MH=(()=>{class n extends lN{constructor(t,i,r,a,c,h,y,w){super(t,i,r,a,c,h,y,w),this._animationStateChanged=new u.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(O_),u.Y36(ne,8),u.Y36(GE),u.Y36(Kg),u.Y36(u.R0b),u.Y36(Vv),u.Y36(Xg))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],features:[u.qOj],decls:0,vars:0,template:function(t,i){},encapsulation:2}),n})(),TH=(()=>{class n extends MH{constructor(t,i,r,a,c,h,y,w,x){super(t,i,r,a,c,h,y,x),this._changeDetectorRef=w,this._state="enter"}_onAnimationDone({toState:t,totalTime:i}){"enter"===t?this._openAnimationDone(i):"exit"===t&&this._animationStateChanged.next({state:"closed",totalTime:i})}_onAnimationStart({toState:t,totalTime:i}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===t||"void"===t)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_getAnimationState(){return{value:this._state,params:{enterAnimationDuration:this._config.enterAnimationDuration||Sm.params.enterAnimationDuration,exitAnimationDuration:this._config.exitAnimationDuration||Sm.params.exitAnimationDuration}}}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(O_),u.Y36(ne,8),u.Y36(GE),u.Y36(Kg),u.Y36(u.R0b),u.Y36(Vv),u.Y36(u.sBO),u.Y36(Xg))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-dialog-container"],hostVars:7,hostBindings:function(t,i){1&t&&u.WFA("@dialogContainer.start",function(a){return i._onAnimationStart(a)})("@dialogContainer.done",function(a){return i._onAnimationDone(a)}),2&t&&(u.Ikx("id",i._config.id),u.uIk("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),u.d8E("@dialogContainer",i._getAnimationState()))},features:[u.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,i){1&t&&u.YNc(0,AH,0,0,"ng-template",0)},dependencies:[uM],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions.mat-dialog-actions-align-center,.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions.mat-dialog-actions-align-end,.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,data:{animation:[SH.dialogContainer]}}),n})();class mM{constructor(e,t,i){this._ref=e,this._containerInstance=i,this._afterOpened=new Pt.x,this._beforeClosed=new Pt.x,this._state=0,this.disableClose=t.disableClose,this.id=e.id,i._animationStateChanged.pipe(D(r=>"opened"===r.state),jt(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(D(r=>"closed"===r.state),jt(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,hc.T)(this.backdropClick(),this.keydownEvents().pipe(D(r=>27===r.keyCode&&!this.disableClose&&!Fw(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),dN(this,"keydown"===r.type?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(D(t=>"closing"===t.state),jt(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let t=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",t=""){return this._ref.updateSize(e,t),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function dN(n,e,t){return n._closeInteractionType=e,n.close(t)}const RH=new u.OlP("MatDialogData"),OH=new u.OlP("mat-dialog-default-options"),hN=new u.OlP("mat-dialog-scroll-strategy"),FH={provide:hN,deps:[dp],useFactory:function kH(n){return()=>n.scrollStrategies.block()}};let PH=0,NH=(()=>{class n{constructor(t,i,r,a,c,h,y,w,x,T){this._overlay=t,this._defaultOptions=r,this._parentDialog=a,this._dialogRefConstructor=y,this._dialogContainerType=w,this._dialogDataToken=x,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Pt.x,this._afterOpenedAtThisLevel=new Pt.x,this._idPrefix="mat-dialog-",this.afterAllClosed=Nr(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(fr(void 0))),this._scrollStrategy=h,this._dialog=i.get(cN)}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,i){let r;(i=Object.assign(Object.assign({},this._defaultOptions||new GE),i)).id=i.id||`${this._idPrefix}${PH++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const a=this._dialog.open(t,Object.assign(Object.assign({},i),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:GE,useValue:i},{provide:HE,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(c,h,y)=>(r=new this._dialogRefConstructor(c,i,y),r.updatePosition(null==i?void 0:i.position),[{provide:this._dialogContainerType,useValue:y},{provide:this._dialogDataToken,useValue:h.data},{provide:this._dialogRefConstructor,useValue:r}])}));return r.componentInstance=a.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const c=this.openDialogs.indexOf(r);c>-1&&(this.openDialogs.splice(c,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let i=t.length;for(;i--;)t[i].close()}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),$E=(()=>{class n extends NH{constructor(t,i,r,a,c,h,y,w){super(t,i,a,h,y,c,mM,TH,RH,w)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(dp),u.LFG(u.zs3),u.LFG(Ve,8),u.LFG(OH,8),u.LFG(hN),u.LFG(n,12),u.LFG(jE),u.LFG(u.QbO,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),LH=0,VH=(()=>{class n{constructor(t,i,r){this.dialogRef=t,this._elementRef=i,this._dialog=r,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=fN(this._elementRef,this._dialog.openDialogs))}ngOnChanges(t){const i=t._matDialogClose||t._matDialogCloseResult;i&&(this.dialogResult=i.currentValue)}_onButtonClick(t){dN(this.dialogRef,0===t.screenX&&0===t.screenY?"keyboard":"mouse",this.dialogResult)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(mM,8),u.Y36(u.SBq),u.Y36($E))},n.\u0275dir=u.lG2({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(t,i){1&t&&u.NdJ("click",function(a){return i._onButtonClick(a)}),2&t&&u.uIk("aria-label",i.ariaLabel||null)("type",i.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[u.TTD]}),n})(),BH=(()=>{class n{constructor(t,i,r){this._dialogRef=t,this._elementRef=i,this._dialog=r,this.id="mat-dialog-title-"+LH++}ngOnInit(){this._dialogRef||(this._dialogRef=fN(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const t=this._dialogRef._containerInstance;t&&!t._ariaLabelledBy&&(t._ariaLabelledBy=this.id)})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(mM,8),u.Y36(u.SBq),u.Y36($E))},n.\u0275dir=u.lG2({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(t,i){2&t&&u.Ikx("id",i.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),n})(),UH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),n})(),jH=(()=>{class n{constructor(){this.align="start"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"],hostVars:4,hostBindings:function(t,i){2&t&&u.ekj("mat-dialog-actions-align-center","center"===i.align)("mat-dialog-actions-align-end","end"===i.align)},inputs:{align:"align"}}),n})();function fN(n,e){let t=n.nativeElement.parentElement;for(;t&&!t.classList.contains("mat-dialog-container");)t=t.parentElement;return t?e.find(i=>i.id===t.id):null}let HH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[$E,FH],imports:[IH,fM,VE,yi,yi]}),n})();const Bv=function(n){return{starColor:n}},GH=function(n,e,t,i){return{feedDate:n,stars:e,texte:t,user:i}};let $H=(()=>{class n{constructor(t){this.fb=t}ngOnInit(){this.feedDate=(new Date).toISOString(),this.userEmailControl=new El("",[bl.required,bl.email]),this.starsControl=new dv([bl.required]),this.textEvalControl=new dv("",[bl.required]),this.evaluationFormGroup=this.fb.group({user:this.userEmailControl,stars:this.starsControl,texte:this.textEvalControl})}startSelected(t){this.starsControl.patchValue(t)}isFormValid(){return"VALID"===this.evaluationFormGroup.status}getStarColor(t){return t<=this.starsControl.value}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(vv))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-feedback-dialog"]],decls:34,vars:26,consts:[[3,"formGroup"],["mat-dialog-title",""],["mat-dialog-content","","fxLayout","column","fxLayoutAlign","start stretch"],["appearance","outline"],["matInput","","placeholder","Entrez votre email","required","",3,"formControl"],["fxFlayout","row",1,"stars"],["mat-icon-button","","aria-label","niconet vitres evaluation",3,"ngClass","click"],["fxFlex","5","matInput","",1,"invisible",3,"formControl"],["matInput","","rows","4","required","",3,"formControl"],["mat-dialog-actions",""],["mat-button","","mat-dialog-close",""],["mat-button","","color","primary",3,"mat-dialog-close","disabled"]],template:function(t,i){1&t&&(u.TgZ(0,"div",0)(1,"h1",1),u._uU(2,"Laissez votre \xe9valuation"),u.qZA(),u.TgZ(3,"div",2)(4,"mat-form-field",3)(5,"mat-label"),u._uU(6,"Votre email"),u.qZA(),u._UZ(7,"input",4),u.qZA(),u.TgZ(8,"div",5)(9,"button",6),u.NdJ("click",function(){return i.startSelected(1)}),u.TgZ(10,"mat-icon"),u._uU(11,"star"),u.qZA()(),u.TgZ(12,"button",6),u.NdJ("click",function(){return i.startSelected(2)}),u.TgZ(13,"mat-icon"),u._uU(14,"star"),u.qZA()(),u.TgZ(15,"button",6),u.NdJ("click",function(){return i.startSelected(3)}),u.TgZ(16,"mat-icon"),u._uU(17,"star"),u.qZA()(),u.TgZ(18,"button",6),u.NdJ("click",function(){return i.startSelected(4)}),u.TgZ(19,"mat-icon"),u._uU(20,"star"),u.qZA()(),u.TgZ(21,"button",6),u.NdJ("click",function(){return i.startSelected(5)}),u.TgZ(22,"mat-icon"),u._uU(23,"star"),u.qZA()(),u._UZ(24,"input",7),u.qZA(),u.TgZ(25,"mat-form-field",3)(26,"mat-label"),u._uU(27,"Entrez votre texte ici"),u.qZA(),u._UZ(28,"textarea",8),u.qZA()(),u.TgZ(29,"div",9)(30,"button",10),u._uU(31,"Annuler"),u.qZA(),u.TgZ(32,"button",11),u._uU(33,"Valider"),u.qZA()()()),2&t&&(u.Q6J("formGroup",i.evaluationFormGroup),u.xp6(7),u.Q6J("formControl",i.userEmailControl),u.xp6(2),u.Q6J("ngClass",u.VKq(11,Bv,i.getStarColor(1))),u.xp6(3),u.Q6J("ngClass",u.VKq(13,Bv,i.getStarColor(2))),u.xp6(3),u.Q6J("ngClass",u.VKq(15,Bv,i.getStarColor(3))),u.xp6(3),u.Q6J("ngClass",u.VKq(17,Bv,i.getStarColor(4))),u.xp6(3),u.Q6J("ngClass",u.VKq(19,Bv,i.getStarColor(5))),u.xp6(3),u.Q6J("formControl",i.starsControl),u.xp6(4),u.Q6J("formControl",i.textEvalControl),u.xp6(4),u.Q6J("mat-dialog-close",u.l5B(21,GH,i.feedDate,i.starsControl.value,i.textEvalControl.value,i.userEmailControl.value))("disabled",!i.isFormValid()))},dependencies:[Mr,gc,pl,fl,kP,EE,MP,In,Xd,Dc,X_,gm,hm,ep,Vj,OP,VH,BH,UH,jH],styles:["h1[_ngcontent-%COMP%]{color:#323232;font-size:14px;margin-bottom:5px}.invisible[_ngcontent-%COMP%]{visibility:hidden}.stars[_ngcontent-%COMP%]{margin-left:-10px}.mat-form-field-wrapper[_ngcontent-%COMP%]{padding-bottom:0!important}.starColor[_ngcontent-%COMP%]{color:#dedb3a}"]}),n})();var as=F(5813);function yM(){return(0,qn.e)((n,e)=>{let t,i=!1;n.subscribe((0,Tn.x)(e,r=>{const a=t;t=r,i&&e.next([a,r]),i=!0}))})}var yt,Dl=F(2011),zH=(F(6786),F(3942)),Ee=F(5861),hp=F(9681),zE=F(4859),uh=F(1877),gn=F(2090),qH="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Sc={},_M=_M||{},Vt=qH||self;function qE(){}function WE(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Uv(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var vM="closure_uid_"+(1e9*Math.random()>>>0),YH=0;function ZH(n,e,t){return n.call.apply(n.bind,arguments)}function KH(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function ls(n,e,t){return(ls=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ZH:KH).apply(null,arguments)}function YE(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Ur(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(i,r,a){for(var c=Array(arguments.length-2),h=2;h<arguments.length;h++)c[h-2]=arguments[h];return e.prototype[r].apply(i,c)}}function ch(){this.s=this.s,this.o=this.o}var XH={};ch.prototype.s=!1,ch.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function WH(n){return Object.prototype.hasOwnProperty.call(n,vM)&&n[vM]||(n[vM]=++YH)}(this);delete XH[n]}},ch.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const pN=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function bM(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function gN(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(WE(i)){const r=n.length||0,a=i.length||0;n.length=r+a;for(let c=0;c<a;c++)n[r+c]=i[c]}else n.push(i)}}function us(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}us.prototype.h=function(){this.defaultPrevented=!0};var JH=function(){if(!Vt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Vt.addEventListener("test",qE,e),Vt.removeEventListener("test",qE,e)}catch(t){}return n}();function ZE(n){return/^[\s\xa0]*$/.test(n)}var mN=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function wM(n,e){return n<e?-1:n>e?1:0}function KE(){var n=Vt.navigator;return n&&(n=n.userAgent)?n:""}function mu(n){return-1!=KE().indexOf(n)}function CM(n){return CM[" "](n),n}CM[" "]=qE;var QE,n,tG=mu("Opera"),Mm=mu("Trident")||mu("MSIE"),yN=mu("Edge"),EM=yN||Mm,_N=mu("Gecko")&&!(-1!=KE().toLowerCase().indexOf("webkit")&&!mu("Edge"))&&!(mu("Trident")||mu("MSIE"))&&!mu("Edge"),nG=-1!=KE().toLowerCase().indexOf("webkit")&&!mu("Edge");function vN(){var n=Vt.document;return n?n.documentMode:void 0}e:{var DM="",xM=(n=KE(),_N?/rv:([^\);]+)(\)|;)/.exec(n):yN?/Edge\/([\d\.]+)/.exec(n):Mm?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):nG?/WebKit\/(\S+)/.exec(n):tG?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(xM&&(DM=xM?xM[1]:""),Mm){var IM=vN();if(null!=IM&&IM>parseFloat(DM)){QE=String(IM);break e}}QE=DM}var iG={};var sG=Vt.document&&Mm&&(vN()||parseInt(QE,10))||void 0;function jv(n,e){if(us.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(_N){e:{try{CM(e.nodeName);var r=!0;break e}catch(a){}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:oG[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&jv.X.h.call(this)}}Ur(jv,us);var oG={2:"touch",3:"pen",4:"mouse"};jv.prototype.h=function(){jv.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Hv="closure_listenable_"+(1e6*Math.random()|0),aG=0;function lG(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.ha=r,this.key=++aG,this.ba=this.ea=!1}function XE(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function SM(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function wN(n){const e={};for(const t in n)e[t]=n[t];return e}const CN="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function EN(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let a=0;a<CN.length;a++)t=CN[a],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function JE(n){this.src=n,this.g={},this.h=0}function MM(n,e){var t=e.type;if(t in n.g){var a,i=n.g[t],r=pN(i,e);(a=0<=r)&&Array.prototype.splice.call(i,r,1),a&&(XE(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function TM(n,e,t,i){for(var r=0;r<n.length;++r){var a=n[r];if(!a.ba&&a.listener==e&&a.capture==!!t&&a.ha==i)return r}return-1}JE.prototype.add=function(n,e,t,i,r){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var c=TM(n,e,i,r);return-1<c?(e=n[c],t||(e.ea=!1)):((e=new lG(e,this.src,a,!!i,r)).ea=t,n.push(e)),e};var RM="closure_lm_"+(1e6*Math.random()|0),OM={};function DN(n,e,t,i,r){if(i&&i.once)return IN(n,e,t,i,r);if(Array.isArray(e)){for(var a=0;a<e.length;a++)DN(n,e[a],t,i,r);return null}return t=NM(t),n&&n[Hv]?n.N(e,t,Uv(i)?!!i.capture:!!i,r):xN(n,e,t,!1,i,r)}function xN(n,e,t,i,r,a){if(!e)throw Error("Invalid event type");var c=Uv(r)?!!r.capture:!!r,h=FM(n);if(h||(n[RM]=h=new JE(n)),(t=h.add(e,t,i,c,a)).proxy)return t;if(i=function uG(){const e=cG;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)JH||(r=c),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(SN(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function IN(n,e,t,i,r){if(Array.isArray(e)){for(var a=0;a<e.length;a++)IN(n,e[a],t,i,r);return null}return t=NM(t),n&&n[Hv]?n.O(e,t,Uv(i)?!!i.capture:!!i,r):xN(n,e,t,!0,i,r)}function AN(n,e,t,i,r){if(Array.isArray(e))for(var a=0;a<e.length;a++)AN(n,e[a],t,i,r);else i=Uv(i)?!!i.capture:!!i,t=NM(t),n&&n[Hv]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=TM(a=n.g[e],t,i,r))&&(XE(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=FM(n))&&(e=n.g[e.toString()],n=-1,e&&(n=TM(e,t,i,r)),(t=-1<n?e[n]:null)&&kM(t))}function kM(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[Hv])MM(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(SN(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=FM(e))?(MM(t,n),0==t.h&&(t.src=null,e[RM]=null)):XE(n)}}}function SN(n){return n in OM?OM[n]:OM[n]="on"+n}function cG(n,e){if(n.ba)n=!0;else{e=new jv(e,this);var t=n.listener,i=n.ha||n.src;n.ea&&kM(n),n=t.call(i,e)}return n}function FM(n){return(n=n[RM])instanceof JE?n:null}var PM="__closure_events_fn_"+(1e9*Math.random()>>>0);function NM(n){return"function"==typeof n?n:(n[PM]||(n[PM]=function(e){return n.handleEvent(e)}),n[PM])}function vr(){ch.call(this),this.i=new JE(this),this.P=this,this.I=null}function jr(n,e){var t,i=n.I;if(i)for(t=[];i;i=i.I)t.push(i);if(n=n.P,i=e.type||e,"string"==typeof e)e=new us(e,n);else if(e instanceof us)e.target=e.target||n;else{var r=e;EN(e=new us(i,n),r)}if(r=!0,t)for(var a=t.length-1;0<=a;a--){var c=e.g=t[a];r=eD(c,i,!0,e)&&r}if(r=eD(c=e.g=n,i,!0,e)&&r,r=eD(c,i,!1,e)&&r,t)for(a=0;a<t.length;a++)r=eD(c=e.g=t[a],i,!1,e)&&r}function eD(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,a=0;a<e.length;++a){var c=e[a];if(c&&!c.ba&&c.capture==t){var h=c.listener,y=c.ha||c.src;c.ea&&MM(n.i,c),r=!1!==h.call(y,i)&&r}}return r&&!i.defaultPrevented}Ur(vr,ch),vr.prototype[Hv]=!0,vr.prototype.removeEventListener=function(n,e,t,i){AN(this,n,e,t,i)},vr.prototype.M=function(){if(vr.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)XE(t[i]);delete n.g[e],n.h--}}this.I=null},vr.prototype.N=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},vr.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var LM=Vt.JSON.stringify;function dG(){var n=RN;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var VM,MN=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new fG,n=>n.reset());class fG{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function pG(n){Vt.setTimeout(()=>{throw n},0)}function TN(n,e){VM||function gG(){var n=Vt.Promise.resolve(void 0);VM=function(){n.then(mG)}}(),BM||(VM(),BM=!0),RN.add(n,e)}var BM=!1,RN=new class hG{constructor(){this.h=this.g=null}add(e,t){const i=MN.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function mG(){for(var n;n=dG();){try{n.h.call(n.g)}catch(t){pG(t)}var e=MN;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}BM=!1}function tD(n,e){vr.call(this),this.h=n||1,this.g=e||Vt,this.j=ls(this.kb,this),this.l=Date.now()}function UM(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function jM(n,e,t){if("function"==typeof n)t&&(n=ls(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ls(n.handleEvent,n)}return 2147483647<Number(e)?-1:Vt.setTimeout(n,e||0)}function ON(n){n.g=jM(()=>{n.g=null,n.i&&(n.i=!1,ON(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Ur(tD,vr),(yt=tD.prototype).ca=!1,yt.R=null,yt.kb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),jr(this,"tick"),this.ca&&(UM(this),this.start()))}},yt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},yt.M=function(){tD.X.M.call(this),UM(this),delete this.g};class yG extends ch{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ON(this)}M(){super.M(),this.g&&(Vt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gv(n){ch.call(this),this.h=n,this.g={}}Ur(Gv,ch);var kN=[];function FN(n,e,t,i){Array.isArray(t)||(t&&(kN[0]=t.toString()),t=kN);for(var r=0;r<t.length;r++){var a=DN(e,t[r],i||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function PN(n){SM(n.g,function(e,t){this.g.hasOwnProperty(t)&&kM(e)},n),n.g={}}function nD(){this.g=!0}function Tm(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function wG(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var a=r[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var c=1;c<r.length;c++)r[c]=""}}}return LM(t)}catch(h){return e}}(n,t)+(i?" "+i:"")})}Gv.prototype.M=function(){Gv.X.M.call(this),PN(this)},Gv.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},nD.prototype.Aa=function(){this.g=!1},nD.prototype.info=function(){};var fp={},NN=null;function iD(){return NN=NN||new vr}function LN(n){us.call(this,fp.Oa,n)}function $v(n){const e=iD();jr(e,new LN(e,n))}function VN(n,e){us.call(this,fp.STAT_EVENT,n),this.stat=e}function ks(n){const e=iD();jr(e,new VN(e,n))}function BN(n,e){us.call(this,fp.Pa,n),this.size=e}function zv(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Vt.setTimeout(function(){n()},e)}fp.Oa="serverreachability",Ur(LN,us),fp.STAT_EVENT="statevent",Ur(VN,us),fp.Pa="timingevent",Ur(BN,us);var rD={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,La:7,TIMEOUT:8,Cb:9},UN={qb:"complete",Mb:"success",Ma:"error",La:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function HM(){}function HN(){}HM.prototype.h=null;var zM,qv={OPEN:"a",pb:"b",Ma:"c",Bb:"d"};function GM(){us.call(this,"d")}function $M(){us.call(this,"c")}function sD(){}function Wv(n,e,t,i){this.l=n,this.j=e,this.m=t,this.U=i||1,this.S=new Gv(this),this.O=CG,this.T=new tD(n=EM?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new GN}function GN(){this.i=null,this.g="",this.h=!1}Ur(GM,us),Ur($M,us),Ur(sD,HM),sD.prototype.g=function(){return new XMLHttpRequest},sD.prototype.i=function(){return{}},zM=new sD;var CG=45e3,qM={},oD={};function WM(n,e,t){n.K=1,n.v=cD(Mc(e)),n.s=t,n.P=!0,$N(n,null)}function $N(n,e){n.F=Date.now(),Yv(n),n.A=Mc(n.v);var t=n.A,i=n.U;Array.isArray(i)||(i=[String(i)]),e1(t.i,"t",i),n.C=0,t=n.l.H,n.h=new GN,n.g=x1(n.l,t?e:null,!n.s),0<n.N&&(n.L=new yG(ls(n.Ka,n,n.g),n.N)),FN(n.S,n.g,"readystatechange",n.hb),e=n.H?wN(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),$v(1),function _G(n,e,t,i,r,a){n.info(function(){if(n.g)if(a)for(var c="",h=a.split("&"),y=0;y<h.length;y++){var w=h[y].split("=");if(1<w.length){var x=w[0];w=w[1];var T=x.split("_");c=2<=T.length&&"type"==T[1]?c+(x+"=")+w+"&":c+(x+"=redacted&")}}else c=null;else c=a;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.U,n.s)}function zN(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function qN(n,e,t){let r,i=!0;for(;!n.I&&n.C<t.length;){if(r=EG(n,t),r==oD){4==e&&(n.o=4,ks(14),i=!1),Tm(n.j,n.m,null,"[Incomplete Response]");break}if(r==qM){n.o=4,ks(15),Tm(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Tm(n.j,n.m,r,null),YM(n,r)}zN(n)&&r!=oD&&r!=qM&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,ks(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),nT(e),e.K=!0,ks(11))):(Tm(n.j,n.m,t,"[Invalid Chunked Response]"),pp(n),Zv(n))}function EG(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?oD:(t=Number(e.substring(t,i)),isNaN(t)?qM:(i+=1)+t>e.length?oD:(e=e.substr(i,t),n.C=i+t,e))}function Yv(n){n.V=Date.now()+n.O,WN(n,n.O)}function WN(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=zv(ls(n.fb,n),e)}function aD(n){n.B&&(Vt.clearTimeout(n.B),n.B=null)}function Zv(n){0==n.l.G||n.I||w1(n.l,n)}function pp(n){aD(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,UM(n.T),PN(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function YM(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||ZM(t.h,n)))if(!n.J&&ZM(t.h,n)&&3==t.G){try{var i=t.Fa.g.parse(e)}catch(w){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;mD(t),pD(t)}tT(t),ks(18)}}else t.Ba=r[1],0<t.Ba-t.T&&37500>r[2]&&t.L&&0==t.A&&!t.v&&(t.v=zv(ls(t.bb,t),6e3));if(1>=r1(t.h)&&t.ja){try{t.ja()}catch(w){}t.ja=void 0}}else mp(t,11)}else if((n.J||t.g==n)&&mD(t),!ZE(e))for(r=t.Fa.g.parse(e),e=0;e<r.length;e++){let w=r[e];if(t.T=w[0],w=w[1],2==t.G)if("c"==w[0]){t.I=w[1],t.ka=w[2];const x=w[3];null!=x&&(t.ma=x,t.j.info("VER="+t.ma));const T=w[4];null!=T&&(t.Ca=T,t.j.info("SVER="+t.Ca));const P=w[5];null!=P&&"number"==typeof P&&0<P&&(t.J=i=1.5*P,t.j.info("backChannelRequestTimeoutMs_="+i)),i=t;const V=n.g;if(V){const U=V.g?V.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(U){var a=i.h;a.g||-1==U.indexOf("spdy")&&-1==U.indexOf("quic")&&-1==U.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(KM(a,a.h),a.h=null))}if(i.D){const Q=V.g?V.g.getResponseHeader("X-HTTP-Session-Id"):null;Q&&(i.za=Q,ci(i.F,i.D,Q))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var c=n;if((i=t).sa=D1(i,i.H?i.ka:null,i.V),c.J){s1(i.h,c);var h=c,y=i.J;y&&h.setTimeout(y),h.B&&(aD(h),Yv(h)),i.g=c}else v1(i);0<t.i.length&&gD(t)}else"stop"!=w[0]&&"close"!=w[0]||mp(t,7);else 3==t.G&&("stop"==w[0]||"close"==w[0]?"stop"==w[0]?mp(t,7):eT(t):"noop"!=w[0]&&t.l&&t.l.wa(w),t.A=0)}$v(4)}catch(w){}}function YN(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(WE(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function xG(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if("undefined"!=typeof Map&&n instanceof Map)return Array.from(n.keys());if(!("undefined"!=typeof Set&&n instanceof Set)){if(WE(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function DG(n){if(n.W&&"function"==typeof n.W)return n.W();if("undefined"!=typeof Map&&n instanceof Map||"undefined"!=typeof Set&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(WE(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,a=0;a<r;a++)e.call(void 0,i[a],t&&t[a],n)}(yt=Wv.prototype).setTimeout=function(n){this.O=n},yt.hb=function(n){n=n.target;const e=this.L;e&&3==Tc(n)?e.l():this.Ka(n)},yt.Ka=function(n){try{if(n==this.g)e:{const x=Tc(this.g);var e=this.g.Ea();const T=this.g.aa();if(!(3>x)&&(3!=x||EM||this.g&&(this.h.h||this.g.fa()||f1(this.g)))){this.I||4!=x||7==e||$v(8==e||0>=T?3:2),aD(this);var t=this.g.aa();this.Y=t;t:if(zN(this)){var i=f1(this.g);n="";var r=i.length,a=4==Tc(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){pp(this),Zv(this);var c="";break t}this.h.i=new Vt.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:a&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.fa();if(this.i=200==t,function vG(n,e,t,i,r,a,c){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+a+" "+c})}(this.j,this.u,this.A,this.m,this.U,x,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var h,y=this.g;if((h=y.g?y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ZE(h)){var w=h;break t}}w=null}if(!(t=w)){this.i=!1,this.o=3,ks(12),pp(this),Zv(this);break e}Tm(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,YM(this,t)}this.P?(qN(this,x,c),EM&&this.i&&3==x&&(FN(this.S,this.T,"tick",this.gb),this.T.start())):(Tm(this.j,this.m,c,null),YM(this,c)),4==x&&pp(this),this.i&&!this.I&&(4==x?w1(this.l,this):(this.i=!1,Yv(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,ks(12)):(this.o=0,ks(13)),pp(this),Zv(this)}}}catch(x){}},yt.gb=function(){if(this.g){var n=Tc(this.g),e=this.g.fa();this.C<e.length&&(aD(this),qN(this,n,e),this.i&&4!=n&&Yv(this))}},yt.cancel=function(){this.I=!0,pp(this)},yt.fb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function bG(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&($v(3),ks(17)),pp(this),this.o=2,Zv(this)):WN(this,this.V-n)};var ZN=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gp(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof gp){this.h=void 0!==e?e:n.h,lD(this,n.j),this.s=n.s,this.g=n.g,uD(this,n.m),this.l=n.l,e=n.i;var t=new Xv;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),KN(this,t),this.o=n.o}else n&&(t=String(n).match(ZN))?(this.h=!!e,lD(this,t[1]||"",!0),this.s=Kv(t[2]||""),this.g=Kv(t[3]||"",!0),uD(this,t[4]),this.l=Kv(t[5]||"",!0),KN(this,t[6]||"",!0),this.o=Kv(t[7]||"")):(this.h=!!e,this.i=new Xv(null,this.h))}function Mc(n){return new gp(n)}function lD(n,e,t){n.j=t?Kv(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function uD(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function KN(n,e,t){e instanceof Xv?(n.i=e,function OG(n,e){e&&!n.j&&(dh(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(XN(this,i),e1(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Qv(e,TG)),n.i=new Xv(e,n.h))}function ci(n,e,t){n.i.set(e,t)}function cD(n){return ci(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Kv(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Qv(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,AG),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function AG(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}gp.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Qv(e,QN,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Qv(e,QN,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Qv(t,"/"==t.charAt(0)?MG:SG,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Qv(t,RG)),n.join("")};var QN=/[#\/\?@]/g,SG=/[#\?:]/g,MG=/[#\?]/g,TG=/[#\?@]/g,RG=/#/g;function Xv(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function dh(n){n.g||(n.g=new Map,n.h=0,n.i&&function IG(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var a=n[t].substring(0,i);r=n[t].substring(i+1)}else a=n[t];e(a,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function XN(n,e){dh(n),e=Rm(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function JN(n,e){return dh(n),e=Rm(n,e),n.g.has(e)}function e1(n,e,t){XN(n,e),0<t.length&&(n.i=null,n.g.set(Rm(n,e),bM(t)),n.h+=t.length)}function Rm(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function t1(n){this.l=n||FG,n=Vt.PerformanceNavigationTiming?0<(n=Vt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Vt.g&&Vt.g.Ga&&Vt.g.Ga()&&Vt.g.Ga().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(yt=Xv.prototype).add=function(n,e){dh(this),this.i=null,n=Rm(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},yt.forEach=function(n,e){dh(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},yt.oa=function(){dh(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let a=0;a<r.length;a++)t.push(e[i])}return t},yt.W=function(n){dh(this);let e=[];if("string"==typeof n)JN(this,n)&&(e=e.concat(this.g.get(Rm(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},yt.set=function(n,e){return dh(this),this.i=null,JN(this,n=Rm(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},yt.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},yt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const a=encodeURIComponent(String(i)),c=this.W(i);for(i=0;i<c.length;i++){var r=a;""!==c[i]&&(r+="="+encodeURIComponent(String(c[i]))),n.push(r)}}return this.i=n.join("&")};var FG=10;function n1(n){return!!n.h||!!n.g&&n.g.size>=n.j}function r1(n){return n.h?1:n.g?n.g.size:0}function ZM(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function KM(n,e){n.g?n.g.add(e):n.h=e}function s1(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function o1(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return bM(n.i)}function QM(){}function PG(){this.g=new QM}function NG(n,e,t){const i=t||"";try{YN(n,function(r,a){let c=r;Uv(r)&&(c=LM(r)),e.push(i+a+"="+encodeURIComponent(c))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function dD(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch(a){}}function Jv(n){this.l=n.$b||null,this.j=n.ib||!1}function hD(n,e){vr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=XM,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}t1.prototype.cancel=function(){if(this.i=o1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},QM.prototype.stringify=function(n){return Vt.JSON.stringify(n,void 0)},QM.prototype.parse=function(n){return Vt.JSON.parse(n,void 0)},Ur(Jv,HM),Jv.prototype.g=function(){return new hD(this.l,this.j)},Jv.prototype.i=function(n){return function(){return n}}({}),Ur(hD,vr);var XM=0;function a1(n){n.j.read().then(n.Sa.bind(n)).catch(n.ga.bind(n))}function eb(n){n.readyState=4,n.l=null,n.j=null,n.A=null,tb(n)}function tb(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(yt=hD.prototype).open=function(n,e){if(this.readyState!=XM)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,tb(this)},yt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Vt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ga.bind(this))},yt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,eb(this)),this.readyState=XM},yt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,tb(this)),this.g&&(this.readyState=3,tb(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ga.bind(this));else if(void 0!==Vt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;a1(this)}else n.text().then(this.Ua.bind(this),this.ga.bind(this))},yt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?eb(this):tb(this),3==this.readyState&&a1(this)}},yt.Ua=function(n){this.g&&(this.response=this.responseText=n,eb(this))},yt.Ta=function(n){this.g&&(this.response=n,eb(this))},yt.ga=function(){this.g&&eb(this)},yt.setRequestHeader=function(n,e){this.v.append(n,e)},yt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},yt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(hD.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var VG=Vt.JSON.parse;function Qi(n){vr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=l1,this.K=this.L=!1}Ur(Qi,vr);var l1="",BG=/^https?$/i,UG=["POST","PUT"];function u1(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,c1(n),fD(n)}function c1(n){n.D||(n.D=!0,jr(n,"complete"),jr(n,"error"))}function d1(n){if(n.h&&void 0!==_M&&(!n.C[1]||4!=Tc(n)||2!=n.aa()))if(n.v&&4==Tc(n))jM(n.Ha,0,n);else if(jr(n,"readystatechange"),4==Tc(n)){n.h=!1;try{const h=n.aa();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===h){var r=String(n.H).match(ZN)[1]||null;if(!r&&Vt.self&&Vt.self.location){var a=Vt.self.location.protocol;r=a.substr(0,a.length-1)}i=!BG.test(r?r.toLowerCase():"")}t=i}if(t)jr(n,"complete"),jr(n,"success");else{n.m=6;try{var c=2<Tc(n)?n.g.statusText:""}catch(y){c=""}n.j=c+" ["+n.aa()+"]",c1(n)}}finally{fD(n)}}}function fD(n,e){if(n.g){h1(n);const t=n.g,i=n.C[0]?qE:null;n.g=null,n.C=null,e||jr(n,"ready");try{t.onreadystatechange=i}catch(r){}}}function h1(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Vt.clearTimeout(n.A),n.A=null)}function Tc(n){return n.g?n.g.readyState:0}function f1(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case l1:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function p1(n){let e="";return SM(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function JM(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=p1(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):ci(n,e,t))}function nb(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function g1(n){this.Ca=0,this.i=[],this.j=new nD,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.$a=this.U=0,this.Ya=nb("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Wa=nb("baseRetryDelayMs",5e3,n),this.ab=nb("retryDelaySeedMs",1e4,n),this.Za=nb("forwardChannelMaxRetries",2,n),this.ta=nb("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Yb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new t1(n&&n.concurrentRequestLimit),this.Fa=new PG,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Xa=n&&n.Wb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function eT(n){if(m1(n),3==n.G){var e=n.U++,t=Mc(n.F);ci(t,"SID",n.I),ci(t,"RID",e),ci(t,"TYPE","terminate"),ib(n,t),(e=new Wv(n,n.j,e,void 0)).K=2,e.v=cD(Mc(t)),t=!1,Vt.navigator&&Vt.navigator.sendBeacon&&(t=Vt.navigator.sendBeacon(e.v.toString(),"")),!t&&Vt.Image&&((new Image).src=e.v,t=!0),t||(e.g=x1(e.l,null),e.g.da(e.v)),e.F=Date.now(),Yv(e)}E1(n)}function pD(n){n.g&&(nT(n),n.g.cancel(),n.g=null)}function m1(n){pD(n),n.u&&(Vt.clearTimeout(n.u),n.u=null),mD(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Vt.clearTimeout(n.m),n.m=null)}function gD(n){n1(n.h)||n.m||(n.m=!0,TN(n.Ja,n),n.C=0)}function y1(n,e){var t;t=e?e.m:n.U++;const i=Mc(n.F);ci(i,"SID",n.I),ci(i,"RID",t),ci(i,"AID",n.T),ib(n,i),n.o&&n.s&&JM(i,n.o,n.s),t=new Wv(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=_1(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),KM(n.h,t),WM(t,i,e)}function ib(n,e){n.ia&&SM(n.ia,function(t,i){ci(e,i,t)}),n.l&&YN({},function(t,i){ci(e,i,t)})}function _1(n,e,t){t=Math.min(n.i.length,t);var i=n.l?ls(n.l.Qa,n.l,n):null;e:{var r=n.i;let a=-1;for(;;){const c=["count="+t];-1==a?0<t?(a=r[0].h,c.push("ofs="+a)):a=0:c.push("ofs="+a);let h=!0;for(let y=0;y<t;y++){let w=r[y].h;const x=r[y].g;if(w-=a,0>w)a=Math.max(0,r[y].h-100),h=!1;else try{NG(x,c,"req"+w+"_")}catch(T){i&&i(x)}}if(h){i=c.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,i}function v1(n){n.g||n.u||(n.Z=1,TN(n.Ia,n),n.A=0)}function tT(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=zv(ls(n.Ia,n),C1(n,n.A)),n.A++,0))}function nT(n){null!=n.B&&(Vt.clearTimeout(n.B),n.B=null)}function b1(n){n.g=new Wv(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=Mc(n.sa);ci(e,"RID","rpc"),ci(e,"SID",n.I),ci(e,"CI",n.L?"0":"1"),ci(e,"AID",n.T),ci(e,"TYPE","xmlhttp"),ib(n,e),n.o&&n.s&&JM(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=cD(Mc(e)),t.s=null,t.P=!0,$N(t,n)}function mD(n){null!=n.v&&(Vt.clearTimeout(n.v),n.v=null)}function w1(n,e){var t=null;if(n.g==e){mD(n),nT(n),n.g=null;var i=2}else{if(!ZM(n.h,e))return;t=e.D,s1(n.h,e),i=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.F;var r=n.C;jr(i=iD(),new BN(i,t,e,r)),gD(n)}else v1(n);else if(3==(r=e.o)||0==r&&0<n.pa||!(1==i&&function HG(n,e){return!(r1(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Ya?0:n.Za)||(n.m=zv(ls(n.Ja,n,e),C1(n,n.C)),n.C++,0)))}(n,e)||2==i&&tT(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),r){case 1:mp(n,5);break;case 4:mp(n,10);break;case 3:mp(n,6);break;default:mp(n,2)}}function C1(n,e){let t=n.Wa+Math.floor(Math.random()*n.ab);return n.l||(t*=2),t*e}function mp(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var i=ls(n.jb,n);t||(t=new gp("//www.google.com/images/cleardot.gif"),Vt.location&&"http"==Vt.location.protocol||lD(t,"https"),cD(t)),function LG(n,e){const t=new nD;if(Vt.Image){const i=new Image;i.onload=YE(dD,t,i,"TestLoadImage: loaded",!0,e),i.onerror=YE(dD,t,i,"TestLoadImage: error",!1,e),i.onabort=YE(dD,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=YE(dD,t,i,"TestLoadImage: timeout",!1,e),Vt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else ks(2);n.G=0,n.l&&n.l.va(e),E1(n),m1(n)}function E1(n){if(n.G=0,n.la=[],n.l){const e=o1(n.h);(0!=e.length||0!=n.i.length)&&(gN(n.la,e),gN(n.la,n.i),n.h.i.length=0,bM(n.i),n.i.length=0),n.l.ua()}}function D1(n,e,t){var i=t instanceof gp?Mc(t):new gp(t,void 0);if(""!=i.g)e&&(i.g=e+"."+i.g),uD(i,i.m);else{var r=Vt.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var a=new gp(null,void 0);i&&lD(a,i),e&&(a.g=e),r&&uD(a,r),t&&(a.l=t),i=a}return e=n.za,(t=n.D)&&e&&ci(i,t,e),ci(i,"VER",n.ma),ib(n,i),i}function x1(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Qi(t&&n.Da&&!n.ra?new Jv({ib:!0}):n.ra)).L=n.H,e}function I1(){}function yD(){if(Mm&&!(10<=Number(sG)))throw Error("Environmental error: no available transport.")}function Mo(n,e){vr.call(this),this.g=new g1(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Xb)&&!ZE(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ZE(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Om(this)}function A1(n){GM.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function S1(){$M.call(this),this.status=1}function Om(n){this.g=n}(yt=Qi.prototype).da=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():zM.g(),this.C=function jN(n){return n.h||(n.h=n.i())}(this.u?this.u:zM),this.g.onreadystatechange=ls(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(a){return void u1(this,a)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const a of i.keys())t.set(a,i.get(a))}i=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),r=Vt.FormData&&n instanceof Vt.FormData,!(0<=pN(UG,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,c]of t)this.g.setRequestHeader(a,c);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{h1(this),0<this.B&&((this.K=function jG(n){return Mm&&function rG(){return function eG(n){var e=iG;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=mN(String(QE)).split("."),t=mN("9").split("."),i=Math.max(e.length,t.length);for(let c=0;0==n&&c<i;c++){var r=e[c]||"",a=t[c]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==r[0].length&&0==a[0].length)break;n=wM(0==r[1].length?0:parseInt(r[1],10),0==a[1].length?0:parseInt(a[1],10))||wM(0==r[2].length,0==a[2].length)||wM(r[2],a[2]),r=r[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ls(this.qa,this)):this.A=jM(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){u1(this,a)}},yt.qa=function(){void 0!==_M&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,jr(this,"timeout"),this.abort(8))},yt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,jr(this,"complete"),jr(this,"abort"),fD(this))},yt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),fD(this,!0)),Qi.X.M.call(this)},yt.Ha=function(){this.s||(this.F||this.v||this.l?d1(this):this.eb())},yt.eb=function(){d1(this)},yt.aa=function(){try{return 2<Tc(this)?this.g.status:-1}catch(n){return-1}},yt.fa=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},yt.Ra=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),VG(e)}},yt.Ea=function(){return this.m},yt.Na=function(){return"string"==typeof this.j?this.j:String(this.j)},(yt=g1.prototype).ma=8,yt.G=1,yt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const r=new Wv(this,this.j,n,void 0);let a=this.s;if(this.S&&(a?(a=wN(a),EN(a,this.S)):a=this.S),null!==this.o||this.N||(r.H=a,a=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var i=this.i[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=_1(this,r,e),ci(t=Mc(this.F),"RID",n),ci(t,"CVER",22),this.D&&ci(t,"X-HTTP-Session-Id",this.D),ib(this,t),a&&(this.N?e="headers="+encodeURIComponent(String(p1(a)))+"&"+e:this.o&&JM(t,this.o,a)),KM(this.h,r),this.Xa&&ci(t,"TYPE","init"),this.O?(ci(t,"$req",e),ci(t,"SID","null"),r.Z=!0,WM(r,t,null)):WM(r,t,e),this.G=2}}else 3==this.G&&(n?y1(this,n):0==this.i.length||n1(this.h)||y1(this))},yt.Ia=function(){if(this.u=null,b1(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=zv(ls(this.cb,this),n)}},yt.cb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,ks(10),pD(this),b1(this))},yt.bb=function(){null!=this.v&&(this.v=null,pD(this),tT(this),ks(19))},yt.jb=function(n){n?(this.j.info("Successfully pinged google.com"),ks(2)):(this.j.info("Failed to ping google.com"),ks(1))},(yt=I1.prototype).xa=function(){},yt.wa=function(){},yt.va=function(){},yt.ua=function(){},yt.Qa=function(){},yD.prototype.g=function(n,e){return new Mo(n,e)},Ur(Mo,vr),Mo.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;ks(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=D1(n,null,n.V),gD(n)},Mo.prototype.close=function(){eT(this.g)},Mo.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=LM(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.$a++,n)),3==e.G&&gD(e)},Mo.prototype.M=function(){this.g.l=null,delete this.j,eT(this.g),delete this.g,Mo.X.M.call(this)},Ur(A1,GM),Ur(S1,$M),Ur(Om,I1),Om.prototype.xa=function(){jr(this.g,"a")},Om.prototype.wa=function(n){jr(this.g,new A1(n))},Om.prototype.va=function(n){jr(this.g,new S1(n))},Om.prototype.ua=function(){jr(this.g,"b")},yD.prototype.createWebChannel=yD.prototype.g,Mo.prototype.send=Mo.prototype.u,Mo.prototype.open=Mo.prototype.m,Mo.prototype.close=Mo.prototype.close,rD.NO_ERROR=0,rD.TIMEOUT=8,rD.HTTP_ERROR=6,UN.COMPLETE="complete",HN.EventType=qv,qv.OPEN="a",qv.CLOSE="b",qv.ERROR="c",qv.MESSAGE="d",vr.prototype.listen=vr.prototype.N,Qi.prototype.listenOnce=Qi.prototype.O,Qi.prototype.getLastError=Qi.prototype.Na,Qi.prototype.getLastErrorCode=Qi.prototype.Ea,Qi.prototype.getStatus=Qi.prototype.aa,Qi.prototype.getResponseJson=Qi.prototype.Ra,Qi.prototype.getResponseText=Qi.prototype.fa,Qi.prototype.send=Qi.prototype.da;var GG=Sc.createWebChannelTransport=function(){return new yD},$G=Sc.getStatEventTarget=function(){return iD()},iT=Sc.ErrorCode=rD,zG=Sc.EventType=UN,qG=Sc.Event=fp,M1=Sc.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},WG=Sc.FetchXmlHttpFactory=Jv,_D=Sc.WebChannel=HN,YG=Sc.XhrIo=Qi;const T1="@firebase/firestore";class br{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}br.UNAUTHENTICATED=new br(null),br.GOOGLE_CREDENTIALS=new br("google-credentials-uid"),br.FIRST_PARTY=new br("first-party-uid"),br.MOCK_USER=new br("mock-user");let km="9.10.0";const hh=new uh.Yd("@firebase/firestore");function rT(){return hh.logLevel}function He(n,...e){if(hh.logLevel<=uh.in.DEBUG){const t=e.map(sT);hh.debug(`Firestore (${km}): ${n}`,...t)}}function Ni(n,...e){if(hh.logLevel<=uh.in.ERROR){const t=e.map(sT);hh.error(`Firestore (${km}): ${n}`,...t)}}function yp(n,...e){if(hh.logLevel<=uh.in.WARN){const t=e.map(sT);hh.warn(`Firestore (${km}): ${n}`,...t)}}function sT(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function dt(n="Unexpected state"){const e=`FIRESTORE (${km}) INTERNAL ASSERTION FAILED: `+n;throw Ni(e),new Error(e)}function Ft(n,e){n||dt()}function et(n,e){return n}const pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pe extends gn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class wr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class R1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class QG{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(br.UNAUTHENTICATED))}shutdown(){}}class XG{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class JG{constructor(e){this.t=e,this.currentUser=br.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const a=w=>this.i!==r?(r=this.i,t(w)):Promise.resolve();let c=new wr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new wr,e.enqueueRetryable(()=>a(this.currentUser))};const h=()=>{const w=c;e.enqueueRetryable((0,Ee.Z)(function*(){yield w.promise,yield a(i.currentUser)}))},y=w=>{He("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(w=>y(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?y(w):(He("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new wr)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(He("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ft("string"==typeof i.accessToken),new R1(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ft(null===e||"string"==typeof e),new br(e)}}class e${constructor(e,t,i,r){this.h=e,this.l=t,this.m=i,this.g=r,this.type="FirstParty",this.user=br.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Ft(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class t${constructor(e,t,i,r){this.h=e,this.l=t,this.m=i,this.g=r}getToken(){return Promise.resolve(new e$(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(br.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class O1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class n${constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const i=a=>{null!=a.error&&He("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.A;return this.A=a.token,He("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const r=a=>{He("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.T.onInit(a=>r(a)),setTimeout(()=>{if(!this.appCheck){const a=this.T.getImmediate({optional:!0});a?r(a):He("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ft("string"==typeof t.token),this.A=t.token,new O1(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function i$(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class k1{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=i$(40);for(let a=0;a<r.length;++a)i.length<20&&r[a]<t&&(i+=e.charAt(r[a]%e.length))}return i}}function Bt(n,e){return n<e?-1:n>e?1:0}function Fm(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function F1(n){return n+"\0"}class di{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Pe(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Pe(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Pe(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Pe(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return di.fromMillis(Date.now())}static fromDate(e){return di.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new di(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Bt(this.nanoseconds,e.nanoseconds):Bt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ot{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ot(e)}static min(){return new Ot(new di(0,0))}static max(){return new Ot(new di(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class rb{constructor(e,t,i){void 0===t?t=0:t>e.length&&dt(),void 0===i?i=e.length-t:i>e.length-t&&dt(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===rb.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof rb?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const a=e.get(r),c=t.get(r);if(a<c)return-1;if(a>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class dn extends rb{construct(e,t,i){return new dn(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Pe(pe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new dn(t)}static emptyPath(){return new dn([])}}const r$=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xi extends rb{construct(e,t,i){return new xi(e,t,i)}static isValidIdentifier(e){return r$.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new xi(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const a=()=>{if(0===i.length)throw new Pe(pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;r<e.length;){const h=e[r];if("\\"===h){if(r+1===e.length)throw new Pe(pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[r+1];if("\\"!==y&&"."!==y&&"`"!==y)throw new Pe(pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=y,r+=2}else"`"===h?(c=!c,r++):"."!==h||c?(i+=h,r++):(a(),r++)}if(a(),c)throw new Pe(pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xi(t)}static emptyPath(){return new xi([])}}class Xe{constructor(e){this.path=e}static fromPath(e){return new Xe(dn.fromString(e))}static fromName(e){return new Xe(dn.fromString(e).popFirst(5))}static empty(){return new Xe(dn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===dn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return dn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Xe(new dn(e.slice()))}}class vD{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function oT(n){return n.fields.find(e=>2===e.kind)}function _p(n){return n.fields.filter(e=>2!==e.kind)}vD.UNKNOWN_ID=-1;class bD{constructor(e,t){this.fieldPath=e,this.kind=t}}class sb{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new sb(0,To.min())}}function P1(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Ot.fromTimestamp(1e9===i?new di(t+1,0):new di(t,i));return new To(r,Xe.empty(),e)}function N1(n){return new To(n.readTime,n.key,-1)}class To{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new To(Ot.min(),Xe.empty(),-1)}static max(){return new To(Ot.max(),Xe.empty(),-1)}}function aT(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Xe.comparator(n.documentKey,e.documentKey),0!==t?t:Bt(n.largestBatchId,e.largestBatchId))}const L1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class V1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function fh(n){return lT.apply(this,arguments)}function lT(){return lT=(0,Ee.Z)(function*(n){if(n.code!==pe.FAILED_PRECONDITION||n.message!==L1)throw n;He("LocalStore","Unexpectedly lost primary lease")}),lT.apply(this,arguments)}class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&dt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ce((i,r)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,r)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ce?t:ce.resolve(t)}catch(t){return ce.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ce.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ce.reject(t)}static resolve(e){return new ce((t,i)=>{t(e)})}static reject(e){return new ce((t,i)=>{i(e)})}static waitFor(e){return new ce((t,i)=>{let r=0,a=0,c=!1;e.forEach(h=>{++r,h.next(()=>{++a,c&&a===r&&t()},y=>i(y))}),c=!0,a===r&&t()})}static or(e){let t=ce.resolve(!1);for(const i of e)t=t.next(r=>r?ce.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,a)=>{i.push(t.call(this,r,a))}),this.waitFor(i)}static mapArray(e,t){return new ce((i,r)=>{const a=e.length,c=new Array(a);let h=0;for(let y=0;y<a;y++){const w=y;t(e[w]).next(x=>{c[w]=x,++h,h===a&&i(c)},x=>r(x))}})}static doWhile(e,t){return new ce((i,r)=>{const a=()=>{!0===e()?t().next(()=>{a()},r):i()};a()})}}class wD{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new wr,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new ob(e,t.error)):this.P.resolve()},this.transaction.onerror=i=>{const r=uT(i.target.error);this.P.reject(new ob(e,r))}}static open(e,t,i,r){try{return new wD(t,e.transaction(r,i))}catch(a){throw new ob(t,a)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(He("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new l$(t)}}class xl{constructor(e,t,i){this.name=e,this.version=t,this.S=i,12.2===xl.D((0,gn.z$)())&&Ni("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return He("SimpleDb","Removing database:",e),vp(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,gn.hl)())return!1;if(xl.N())return!0;const e=(0,gn.z$)(),t=xl.D(e),i=0<t&&t<10,r=xl.k(e),a=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||a)}static N(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.M)}static O(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static k(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}F(e){var t=this;return(0,Ee.Z)(function*(){return t.db||(He("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=c=>{i(c.target.result)},a.onblocked=()=>{r(new ob(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=c=>{const h=c.target.error;r("VersionError"===h.name?new Pe(pe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new Pe(pe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new ob(e,h))},a.onupgradeneeded=c=>{He("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.S.$(c.target.result,a.transaction,c.oldVersion,t.version).next(()=>{He("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=i=>t.B(i)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var a=this;return(0,Ee.Z)(function*(){const c="readonly"===t;let h=0;for(;;){++h;try{a.db=yield a.F(e);const y=wD.open(a.db,e,c?"readonly":"readwrite",i),w=r(y).next(x=>(y.V(),x)).catch(x=>(y.abort(x),ce.reject(x))).toPromise();return w.catch(()=>{}),yield y.v,w}catch(y){const w=y,x="FirebaseError"!==w.name&&h<3;if(He("SimpleDb","Transaction failed with error:",w.message,"Retrying:",x),a.close(),!x)return Promise.reject(w)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class a${constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return vp(this.U.delete())}}class ob extends Pe{constructor(e,t){super(pe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ph(n){return"IndexedDbTransactionError"===n.name}class l${constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(He("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(He("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),vp(i)}add(e){return He("SimpleDb","ADD",this.store.name,e,e),vp(this.store.add(e))}get(e){return vp(this.store.get(e)).next(t=>(void 0===t&&(t=null),He("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return He("SimpleDb","DELETE",this.store.name,e),vp(this.store.delete(e))}count(){return He("SimpleDb","COUNT",this.store.name),vp(this.store.count())}W(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),a=[];return this.H(r,(c,h)=>{a.push(h)}).next(()=>a)}{const r=this.store.getAll(i.range);return new ce((a,c)=>{r.onerror=h=>{c(h.target.error)},r.onsuccess=h=>{a(h.target.result)}})}}J(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new ce((r,a)=>{i.onerror=c=>{a(c.target.error)},i.onsuccess=c=>{r(c.target.result)}})}Y(e,t){He("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.X=!1;const r=this.cursor(i);return this.H(r,(a,c,h)=>h.delete())}Z(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.H(r,t)}tt(e){const t=this.cursor({});return new ce((i,r)=>{t.onerror=a=>{const c=uT(a.target.error);r(c)},t.onsuccess=a=>{const c=a.target.result;c?e(c.primaryKey,c.value).next(h=>{h?c.continue():i()}):i()}})}H(e,t){const i=[];return new ce((r,a)=>{e.onerror=c=>{a(c.target.error)},e.onsuccess=c=>{const h=c.target.result;if(!h)return void r();const y=new a$(h),w=t(h.primaryKey,h.value,y);if(w instanceof ce){const x=w.catch(T=>(y.done(),ce.reject(T)));i.push(x)}y.isDone?r():null===y.G?h.continue():h.continue(y.G)}}).next(()=>ce.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.X?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function vp(n){return new ce((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=uT(i.target.error);t(r)}})}let B1=!1;function uT(n){const e=xl.D((0,gn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new Pe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return B1||(B1=!0,setTimeout(()=>{throw i},0)),i}}return n}class u${constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;He("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Ee.Z)(function*(){t.task=null;try{He("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(i){ph(i)?He("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield fh(i)}yield t.nt(6e4)}))}}class c${constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,Ee.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.it(i,e))})()}it(e,t){const i=new Set;let r=t,a=!0;return ce.doWhile(()=>!0===a&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(c=>{if(null!==c&&!i.has(c))return He("IndexBackiller",`Processing collection: ${c}`),this.rt(e,c,r).next(h=>{r-=h,i.add(c)});a=!1})).next(()=>t-r)}rt(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(a=>{const c=a.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next(()=>this.ot(r,a)).next(h=>(He("IndexBackiller",`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,t,h))).next(()=>c.size)}))}ot(e,t){let i=e;return t.changes.forEach((r,a)=>{const c=N1(a);aT(c,i)>0&&(i=c)}),new To(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Js{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>t.writeSequenceNumber(i))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function U1(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function bp(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function j1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}Js.at=-1;class Ii{constructor(e,t){this.comparator=e,this.root=t||Hr.EMPTY}insert(e,t){return new Ii(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Hr.BLACK,null,null))}remove(e){return new Ii(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Hr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new CD(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new CD(this.root,e,this.comparator,!1)}getReverseIterator(){return new CD(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new CD(this.root,e,this.comparator,!0)}}class CD{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Hr{constructor(e,t,i,r,a){this.key=e,this.value=t,this.color=null!=i?i:Hr.RED,this.left=null!=r?r:Hr.EMPTY,this.right=null!=a?a:Hr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,a){return new Hr(null!=e?e:this.key,null!=t?t:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=a?a:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const a=i(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===a?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Hr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Hr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Hr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Hr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw dt();const e=this.left.check();if(e!==this.right.check())throw dt();return e+(this.isRed()?0:1)}}Hr.EMPTY=null,Hr.RED=!0,Hr.BLACK=!1,Hr.EMPTY=new class{constructor(){this.size=0}get key(){throw dt()}get value(){throw dt()}get color(){throw dt()}get left(){throw dt()}get right(){throw dt()}copy(n,e,t,i,r){return this}insert(n,e,t){return new Hr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class On{constructor(e){this.comparator=e,this.data=new Ii(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new H1(this.data.getIterator())}getIteratorFrom(e){return new H1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof On)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(0!==this.comparator(r,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new On(this.comparator);return t.data=e,t}}class H1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Pm(n){return n.hasNext()?n.getNext():void 0}class Ro{constructor(e){this.fields=e,e.sort(xi.comparator)}static empty(){return new Ro([])}unionWith(e){let t=new On(xi.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Ro(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Fm(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class ur{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new ur(t)}static fromUint8Array(e){const t=function(i){let r="";for(let a=0;a<i.length;++a)r+=String.fromCharCode(i[a]);return r}(e);return new ur(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Bt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ur.EMPTY_BYTE_STRING=new ur("");const h$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gh(n){if(Ft(!!n),"string"==typeof n){let e=0;const t=h$.exec(n);if(Ft(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ai(n.seconds),nanos:Ai(n.nanos)}}function Ai(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function wp(n){return"string"==typeof n?ur.fromBase64String(n):ur.fromUint8Array(n)}function cT(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function G1(n){const e=n.mapValue.fields.__previous_value__;return cT(e)?G1(e):e}function ab(n){const e=gh(n.mapValue.fields.__local_write_time__.timestampValue);return new di(e.seconds,e.nanos)}class f${constructor(e,t,i,r,a,c,h,y){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.useFetchStreams=y}}class mh{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new mh("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof mh&&e.projectId===this.projectId&&e.database===this.database}}function lb(n){return null==n}function ub(n){return 0===n&&1/n==-1/0}function $1(n){return"number"==typeof n&&Number.isInteger(n)&&!ub(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const yh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ED={nullValue:"NULL_VALUE"};function Cp(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?cT(n)?4:Y1(n)?9007199254740991:10:dt()}function yu(n,e){if(n===e)return!0;const t=Cp(n);if(t!==Cp(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ab(n).isEqual(ab(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const a=gh(i.timestampValue),c=gh(r.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,wp(n.bytesValue).isEqual(wp(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return Ai(i.geoPointValue.latitude)===Ai(r.geoPointValue.latitude)&&Ai(i.geoPointValue.longitude)===Ai(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Ai(i.integerValue)===Ai(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const a=Ai(i.doubleValue),c=Ai(r.doubleValue);return a===c?ub(a)===ub(c):isNaN(a)&&isNaN(c)}return!1}(n,e);case 9:return Fm(n.arrayValue.values||[],e.arrayValue.values||[],yu);case 10:return function(i,r){const a=i.mapValue.fields||{},c=r.mapValue.fields||{};if(U1(a)!==U1(c))return!1;for(const h in a)if(a.hasOwnProperty(h)&&(void 0===c[h]||!yu(a[h],c[h])))return!1;return!0}(n,e);default:return dt()}var r}function cb(n,e){return void 0!==(n.values||[]).find(t=>yu(t,e))}function _h(n,e){if(n===e)return 0;const t=Cp(n),i=Cp(e);if(t!==i)return Bt(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Bt(n.booleanValue,e.booleanValue);case 2:return function(r,a){const c=Ai(r.integerValue||r.doubleValue),h=Ai(a.integerValue||a.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(n,e);case 3:return z1(n.timestampValue,e.timestampValue);case 4:return z1(ab(n),ab(e));case 5:return Bt(n.stringValue,e.stringValue);case 6:return function(r,a){const c=wp(r),h=wp(a);return c.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(r,a){const c=r.split("/"),h=a.split("/");for(let y=0;y<c.length&&y<h.length;y++){const w=Bt(c[y],h[y]);if(0!==w)return w}return Bt(c.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,a){const c=Bt(Ai(r.latitude),Ai(a.latitude));return 0!==c?c:Bt(Ai(r.longitude),Ai(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,a){const c=r.values||[],h=a.values||[];for(let y=0;y<c.length&&y<h.length;++y){const w=_h(c[y],h[y]);if(w)return w}return Bt(c.length,h.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,a){if(r===yh.mapValue&&a===yh.mapValue)return 0;if(r===yh.mapValue)return 1;if(a===yh.mapValue)return-1;const c=r.fields||{},h=Object.keys(c),y=a.fields||{},w=Object.keys(y);h.sort(),w.sort();for(let x=0;x<h.length&&x<w.length;++x){const T=Bt(h[x],w[x]);if(0!==T)return T;const P=_h(c[h[x]],y[w[x]]);if(0!==P)return P}return Bt(h.length,w.length)}(n.mapValue,e.mapValue);default:throw dt()}}function z1(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Bt(n,e);const t=gh(n),i=gh(e),r=Bt(t.seconds,i.seconds);return 0!==r?r:Bt(t.nanos,i.nanos)}function Nm(n){return dT(n)}function dT(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=gh(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?wp(n.bytesValue).toBase64():"referenceValue"in n?Xe.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",a=!0;for(const c of i.values||[])a?a=!1:r+=",",r+=dT(c);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let a="{",c=!0;for(const h of r)c?c=!1:a+=",",a+=`${h}:${dT(i.fields[h])}`;return a+"}"}(n.mapValue):dt();var e}function Ep(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function hT(n){return!!n&&"integerValue"in n}function db(n){return!!n&&"arrayValue"in n}function q1(n){return!!n&&"nullValue"in n}function W1(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function DD(n){return!!n&&"mapValue"in n}function hb(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return bp(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=hb(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=hb(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Y1(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function p$(n){return"nullValue"in n?ED:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Ep(mh.empty(),Xe.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:dt()}function g$(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Ep(mh.empty(),Xe.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?yh:dt()}function Z1(n,e){const t=_h(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function K1(n,e){const t=_h(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Gr{constructor(e){this.value=e}static empty(){return new Gr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!DD(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=hb(t)}setAll(e){let t=xi.emptyPath(),i={},r=[];e.forEach((c,h)=>{if(!t.isImmediateParentOf(h)){const y=this.getFieldsMap(t);this.applyChanges(y,i,r),i={},r=[],t=h.popLast()}c?i[h.lastSegment()]=hb(c):r.push(h.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,r)}delete(e){const t=this.field(e.popLast());DD(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return yu(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];DD(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){bp(t,(r,a)=>e[r]=a);for(const r of i)delete e[r]}clone(){return new Gr(hb(this.value))}}function Q1(n){const e=[];return bp(n.fields,(t,i)=>{const r=new xi([t]);if(DD(i)){const a=Q1(i.mapValue).fields;if(0===a.length)e.push(r);else for(const c of a)e.push(r.child(c))}else e.push(r)}),new Ro(e)}class Yn{constructor(e,t,i,r,a,c){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.data=a,this.documentState=c}static newInvalidDocument(e){return new Yn(e,0,Ot.min(),Ot.min(),Gr.empty(),0)}static newFoundDocument(e,t,i){return new Yn(e,1,t,Ot.min(),i,0)}static newNoDocument(e,t){return new Yn(e,2,t,Ot.min(),Gr.empty(),0)}static newUnknownDocument(e,t){return new Yn(e,3,t,Ot.min(),Gr.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ot.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Yn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class m${constructor(e,t=null,i=[],r=[],a=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=a,this.startAt=c,this.endAt=h,this.ht=null}}function X1(n,e=null,t=[],i=[],r=null,a=null,c=null){return new m$(n,e,t,i,r,a,c)}function Dp(n){const e=et(n);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+Nm(r.value);var r}).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),lb(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Nm(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Nm(i)).join(",")),e.ht=t}return e.ht}function fb(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!x$(n.orderBy[r],e.orderBy[r]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((t=n.filters[r]).op!==(i=e.filters[r]).op||!t.field.isEqual(i.field)||!yu(t.value,i.value))return!1;var t,i;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!iL(n.startAt,e.startAt)&&iL(n.endAt,e.endAt)}function xD(n){return Xe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function ID(n,e){return n.filters.filter(t=>t instanceof $r&&t.field.isEqual(e))}function J1(n,e,t){let i=ED,r=!0;for(const a of ID(n,e)){let c=ED,h=!0;switch(a.op){case"<":case"<=":c=p$(a.value);break;case"==":case"in":case">=":c=a.value;break;case">":c=a.value,h=!1;break;case"!=":case"not-in":c=ED}Z1({value:i,inclusive:r},{value:c,inclusive:h})<0&&(i=c,r=h)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const c=t.position[a];Z1({value:i,inclusive:r},{value:c,inclusive:t.inclusive})<0&&(i=c,r=t.inclusive);break}return{value:i,inclusive:r}}function eL(n,e,t){let i=yh,r=!0;for(const a of ID(n,e)){let c=yh,h=!0;switch(a.op){case">=":case">":c=g$(a.value),h=!1;break;case"==":case"in":case"<=":c=a.value;break;case"<":c=a.value,h=!1;break;case"!=":case"not-in":c=yh}K1({value:i,inclusive:r},{value:c,inclusive:h})>0&&(i=c,r=h)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const c=t.position[a];K1({value:i,inclusive:r},{value:c,inclusive:t.inclusive})>0&&(i=c,r=t.inclusive);break}return{value:i,inclusive:r}}class $r extends class{}{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,i):new _$(e,t,i):"array-contains"===t?new w$(e,i):"in"===t?new C$(e,i):"not-in"===t?new E$(e,i):"array-contains-any"===t?new D$(e,i):new $r(e,t,i)}static lt(e,t,i){return"in"===t?new v$(e,i):new b$(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(_h(t,this.value)):null!==t&&Cp(this.value)===Cp(t)&&this.ft(_h(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return dt()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class _$ extends $r{constructor(e,t,i){super(e,t,i),this.key=Xe.fromName(i.referenceValue)}matches(e){const t=Xe.comparator(e.key,this.key);return this.ft(t)}}class v$ extends $r{constructor(e,t){super(e,"in",t),this.keys=tL(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class b$ extends $r{constructor(e,t){super(e,"not-in",t),this.keys=tL(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function tL(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>Xe.fromName(i.referenceValue))}class w$ extends $r{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return db(t)&&cb(t.arrayValue,this.value)}}class C$ extends $r{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&cb(this.value.arrayValue,t)}}class E$ extends $r{constructor(e,t){super(e,"not-in",t)}matches(e){if(cb(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!cb(this.value.arrayValue,t)}}class D$ extends $r{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!db(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>cb(this.value.arrayValue,i))}}class vh{constructor(e,t){this.position=e,this.inclusive=t}}class Lm{constructor(e,t="asc"){this.field=e,this.dir=t}}function x$(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function nL(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const a=e[r],c=n.position[r];if(i=a.field.isKeyField()?Xe.comparator(Xe.fromName(c.referenceValue),t.key):_h(c,t.data.field(a.field)),"desc"===a.dir&&(i*=-1),0!==i)break}return i}function iL(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!yu(n.position[t],e.position[t]))return!1;return!0}class Rc{constructor(e,t=null,i=[],r=[],a=null,c="F",h=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=a,this.limitType=c,this.startAt=h,this.endAt=y,this._t=null,this.wt=null}}function rL(n,e,t,i,r,a,c,h){return new Rc(n,e,t,i,r,a,c,h)}function Vm(n){return new Rc(n)}function sL(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function fT(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function pT(n){for(const e of n.filters)if(e.dt())return e.field;return null}function gT(n){return null!==n.collectionGroup}function Bm(n){const e=et(n);if(null===e._t){e._t=[];const t=pT(e),i=fT(e);if(null!==t&&null===i)t.isKeyField()||e._t.push(new Lm(t)),e._t.push(new Lm(xi.keyField(),"asc"));else{let r=!1;for(const a of e.explicitOrderBy)e._t.push(a),a.field.isKeyField()&&(r=!0);if(!r){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new Lm(xi.keyField(),a))}}}return e._t}function eo(n){const e=et(n);if(!e.wt)if("F"===e.limitType)e.wt=X1(e.path,e.collectionGroup,Bm(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of Bm(e))t.push(new Lm(a.field,"desc"===a.dir?"asc":"desc"));const i=e.endAt?new vh(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new vh(e.startAt.position,e.startAt.inclusive):null;e.wt=X1(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e.wt}function AD(n,e,t){return new Rc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function pb(n,e){return fb(eo(n),eo(e))&&n.limitType===e.limitType}function oL(n){return`${Dp(eo(n))}|lt:${n.limitType}`}function mT(n){return`Query(target=${function y$(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(i=t).field.canonicalString()} ${i.op} ${Nm(i.value)}`;var i}).join(", ")}]`),lb(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(i=t).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Nm(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Nm(t)).join(",")),`Target(${e})`}(eo(n))}; limitType=${n.limitType})`}function yT(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):Xe.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of t.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,a,c){const h=nL(r,a,c);return r.inclusive?h<=0:h<0}(t.startAt,Bm(t),i)||t.endAt&&!function(r,a,c){const h=nL(r,a,c);return r.inclusive?h>=0:h>0}(t.endAt,Bm(t),i)));var t,i}function aL(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function lL(n){return(e,t)=>{let i=!1;for(const r of Bm(n)){const a=I$(r,e,t);if(0!==a)return a;i=i||r.field.isKeyField()}return 0}}function I$(n,e,t){const i=n.field.isKeyField()?Xe.comparator(e.key,t.key):function(r,a,c){const h=a.data.field(r),y=c.data.field(r);return null!==h&&null!==y?_h(h,y):dt()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return dt()}}function uL(n,e){if(n.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ub(e)?"-0":e}}function cL(n){return{integerValue:""+n}}function dL(n,e){return $1(e)?cL(e):uL(n,e)}class SD{constructor(){this._=void 0}}function A$(n,e,t){return n instanceof Um?function(i,r){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(a.fields.__previous_value__=r),{mapValue:a}}(t,e):n instanceof xp?fL(n,e):n instanceof Ip?pL(n,e):function(i,r){const a=hL(i,r),c=gL(a)+gL(i.yt);return hT(a)&&hT(i.yt)?cL(c):uL(i.It,c)}(n,e)}function S$(n,e,t){return n instanceof xp?fL(n,e):n instanceof Ip?pL(n,e):t}function hL(n,e){return n instanceof jm?hT(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class Um extends SD{}class xp extends SD{constructor(e){super(),this.elements=e}}function fL(n,e){const t=mL(e);for(const i of n.elements)t.some(r=>yu(r,i))||t.push(i);return{arrayValue:{values:t}}}class Ip extends SD{constructor(e){super(),this.elements=e}}function pL(n,e){let t=mL(e);for(const i of n.elements)t=t.filter(r=>!yu(r,i));return{arrayValue:{values:t}}}class jm extends SD{constructor(e,t){super(),this.It=e,this.yt=t}}function gL(n){return Ai(n.integerValue||n.doubleValue)}function mL(n){return db(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class gb{constructor(e,t){this.field=e,this.transform=t}}class T${constructor(e,t){this.version=e,this.transformResults=t}}class hi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new hi}static exists(e){return new hi(void 0,e)}static updateTime(e){return new hi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function MD(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class TD{}function yL(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Gm(n.key,hi.none()):new Hm(n.key,n.data,hi.none());{const t=n.data,i=Gr.empty();let r=new On(xi.comparator);for(let a of e.fields)if(!r.has(a)){let c=t.field(a);null===c&&a.length>1&&(a=a.popLast(),c=t.field(a)),null===c?i.delete(a):i.set(a,c),r=r.add(a)}return new Oc(n.key,i,new Ro(r.toArray()),hi.none())}}function R$(n,e,t){n instanceof Hm?function(i,r,a){const c=i.value.clone(),h=bL(i.fieldTransforms,r,a.transformResults);c.setAll(h),r.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Oc?function(i,r,a){if(!MD(i.precondition,r))return void r.convertToUnknownDocument(a.version);const c=bL(i.fieldTransforms,r,a.transformResults),h=r.data;h.setAll(vL(i)),h.setAll(c),r.convertToFoundDocument(a.version,h).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function mb(n,e,t,i){return n instanceof Hm?function(r,a,c,h){if(!MD(r.precondition,a))return c;const y=r.value.clone(),w=wL(r.fieldTransforms,h,a);return y.setAll(w),a.convertToFoundDocument(a.version,y).setHasLocalMutations(),null}(n,e,t,i):n instanceof Oc?function(r,a,c,h){if(!MD(r.precondition,a))return c;const y=wL(r.fieldTransforms,h,a),w=a.data;return w.setAll(vL(r)),w.setAll(y),a.convertToFoundDocument(a.version,w).setHasLocalMutations(),null===c?null:c.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(x=>x.field))}(n,e,t,i):(c=t,MD(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c);var a,c}function O$(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),a=hL(i.transform,r||null);null!=a&&(null===t&&(t=Gr.empty()),t.set(i.field,a))}return t||null}function _L(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&Fm(t,i,(r,a)=>function M$(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof xp&&i instanceof xp||t instanceof Ip&&i instanceof Ip?Fm(t.elements,i.elements,yu):t instanceof jm&&i instanceof jm?yu(t.yt,i.yt):t instanceof Um&&i instanceof Um);var t,i}(r,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class Hm extends TD{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Oc extends TD{constructor(e,t,i,r,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function vL(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function bL(n,e,t){const i=new Map;Ft(n.length===t.length);for(let r=0;r<t.length;r++){const a=n[r],c=a.transform,h=e.data.field(a.field);i.set(a.field,S$(c,h,t[r]))}return i}function wL(n,e,t){const i=new Map;for(const r of n){const a=r.transform,c=t.data.field(r.field);i.set(r.field,A$(a,c,e))}return i}class Gm extends TD{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _T extends TD{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class k${constructor(e){this.count=e}}var Xi,hn;function CL(n){switch(n){default:return dt();case pe.CANCELLED:case pe.UNKNOWN:case pe.DEADLINE_EXCEEDED:case pe.RESOURCE_EXHAUSTED:case pe.INTERNAL:case pe.UNAVAILABLE:case pe.UNAUTHENTICATED:return!1;case pe.INVALID_ARGUMENT:case pe.NOT_FOUND:case pe.ALREADY_EXISTS:case pe.PERMISSION_DENIED:case pe.FAILED_PRECONDITION:case pe.ABORTED:case pe.OUT_OF_RANGE:case pe.UNIMPLEMENTED:case pe.DATA_LOSS:return!0}}function EL(n){if(void 0===n)return Ni("GRPC error has no .code"),pe.UNKNOWN;switch(n){case Xi.OK:return pe.OK;case Xi.CANCELLED:return pe.CANCELLED;case Xi.UNKNOWN:return pe.UNKNOWN;case Xi.DEADLINE_EXCEEDED:return pe.DEADLINE_EXCEEDED;case Xi.RESOURCE_EXHAUSTED:return pe.RESOURCE_EXHAUSTED;case Xi.INTERNAL:return pe.INTERNAL;case Xi.UNAVAILABLE:return pe.UNAVAILABLE;case Xi.UNAUTHENTICATED:return pe.UNAUTHENTICATED;case Xi.INVALID_ARGUMENT:return pe.INVALID_ARGUMENT;case Xi.NOT_FOUND:return pe.NOT_FOUND;case Xi.ALREADY_EXISTS:return pe.ALREADY_EXISTS;case Xi.PERMISSION_DENIED:return pe.PERMISSION_DENIED;case Xi.FAILED_PRECONDITION:return pe.FAILED_PRECONDITION;case Xi.ABORTED:return pe.ABORTED;case Xi.OUT_OF_RANGE:return pe.OUT_OF_RANGE;case Xi.UNIMPLEMENTED:return pe.UNIMPLEMENTED;case Xi.DATA_LOSS:return pe.DATA_LOSS;default:return dt()}}(hn=Xi||(Xi={}))[hn.OK=0]="OK",hn[hn.CANCELLED=1]="CANCELLED",hn[hn.UNKNOWN=2]="UNKNOWN",hn[hn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",hn[hn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",hn[hn.NOT_FOUND=5]="NOT_FOUND",hn[hn.ALREADY_EXISTS=6]="ALREADY_EXISTS",hn[hn.PERMISSION_DENIED=7]="PERMISSION_DENIED",hn[hn.UNAUTHENTICATED=16]="UNAUTHENTICATED",hn[hn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",hn[hn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",hn[hn.ABORTED=10]="ABORTED",hn[hn.OUT_OF_RANGE=11]="OUT_OF_RANGE",hn[hn.UNIMPLEMENTED=12]="UNIMPLEMENTED",hn[hn.INTERNAL=13]="INTERNAL",hn[hn.UNAVAILABLE=14]="UNAVAILABLE",hn[hn.DATA_LOSS=15]="DATA_LOSS";class bh{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,a]of i)if(this.equalsFn(r,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){bp(this.inner,(t,i)=>{for(const[r,a]of i)e(r,a)})}isEmpty(){return j1(this.inner)}size(){return this.innerSize}}const F$=new Ii(Xe.comparator);function to(){return F$}const DL=new Ii(Xe.comparator);function yb(...n){let e=DL;for(const t of n)e=e.insert(t.key,t);return e}function xL(n){let e=DL;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function _u(){return _b()}function IL(){return _b()}function _b(){return new bh(n=>n.toString(),(n,e)=>n.isEqual(e))}const P$=new Ii(Xe.comparator),N$=new On(Xe.comparator);function Gt(...n){let e=N$;for(const t of n)e=e.add(t);return e}const L$=new On(Bt);function RD(){return L$}class vb{constructor(e,t,i,r,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t){const i=new Map;return i.set(e,bb.createSynthesizedTargetChangeForCurrentChange(e,t)),new vb(Ot.min(),i,RD(),to(),Gt())}}class bb{constructor(e,t,i,r,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t){return new bb(ur.EMPTY_BYTE_STRING,t,Gt(),Gt(),Gt())}}class OD{constructor(e,t,i,r){this.Tt=e,this.removedTargetIds=t,this.key=i,this.Et=r}}class AL{constructor(e,t){this.targetId=e,this.At=t}}class SL{constructor(e,t,i=ur.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class ML{constructor(){this.Rt=0,this.bt=RL(),this.Pt=ur.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=Gt(),t=Gt(),i=Gt();return this.bt.forEach((r,a)=>{switch(a){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:dt()}}),new bb(this.Pt,this.vt,e,t,i)}Nt(){this.Vt=!1,this.bt=RL()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Mt(e){this.Vt=!0,this.bt=this.bt.remove(e)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class V${constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=to(),this.qt=TL(),this.Kt=new On(Bt)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const i=this.zt(t);switch(e.state){case 0:this.Ht(t)&&i.Ct(e.resumeToken);break;case 1:i.Ft(),i.St||i.Nt(),i.Ct(e.resumeToken);break;case 2:i.Ft(),i.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(i.$t(),i.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),i.Ct(e.resumeToken));break;default:dt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((i,r)=>{this.Ht(r)&&t(r)})}Yt(e){const t=e.targetId,i=e.At.count,r=this.Xt(t);if(r){const a=r.target;if(xD(a))if(0===i){const c=new Xe(a.path);this.jt(t,c,Yn.newNoDocument(c,Ot.min()))}else Ft(1===i);else this.Zt(t)!==i&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((a,c)=>{const h=this.Xt(c);if(h){if(a.current&&xD(h.target)){const y=new Xe(h.target.path);null!==this.Ut.get(y)||this.ee(c,y)||this.jt(c,y,Yn.newNoDocument(y,e))}a.Dt&&(t.set(c,a.xt()),a.Nt())}});let i=Gt();this.qt.forEach((a,c)=>{let h=!0;c.forEachWhile(y=>{const w=this.Xt(y);return!w||2===w.purpose||(h=!1,!1)}),h&&(i=i.add(a))}),this.Ut.forEach((a,c)=>c.setReadTime(e));const r=new vb(e,t,this.Kt,this.Ut,i);return this.Ut=to(),this.qt=TL(),this.Kt=new On(Bt),r}Qt(e,t){if(!this.Ht(e))return;const i=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,i),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,i){if(!this.Ht(e))return;const r=this.zt(e);this.ee(e,t)?r.kt(t,1):r.Mt(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),i&&(this.Ut=this.Ut.insert(t,i))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.zt(e).Ot()}zt(e){let t=this.Lt.get(e);return t||(t=new ML,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new On(Bt),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||He("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new ML),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function TL(){return new Ii(Xe.comparator)}function RL(){return new Ii(Xe.comparator)}const B$={asc:"ASCENDING",desc:"DESCENDING"},U$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class j${constructor(e,t){this.databaseId=e,this.gt=t}}function wb(n,e){return n.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function OL(n,e){return n.gt?e.toBase64():e.toUint8Array()}function H$(n,e){return wb(n,e.toTimestamp())}function Cr(n){return Ft(!!n),Ot.fromTimestamp(function(e){const t=gh(e);return new di(t.seconds,t.nanos)}(n))}function vT(n,e){return(t=n,new dn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function kL(n){const e=dn.fromString(n);return Ft(HL(e)),e}function Cb(n,e){return vT(n.databaseId,e.path)}function vu(n,e){const t=kL(e);if(t.get(1)!==n.databaseId.projectId)throw new Pe(pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Pe(pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Xe(PL(t))}function bT(n,e){return vT(n.databaseId,e)}function FL(n){const e=kL(n);return 4===e.length?dn.emptyPath():PL(e)}function Eb(n){return new dn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function PL(n){return Ft(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function NL(n,e,t){return{name:Cb(n,e),fields:t.value.mapValue.fields}}function LL(n,e,t){const i=vu(n,e.name),r=Cr(e.updateTime),a=new Gr({mapValue:{fields:e.fields}}),c=Yn.newFoundDocument(i,r,a);return t&&c.setHasCommittedMutations(),t?c.setHasCommittedMutations():c}function Db(n,e){let t;if(e instanceof Hm)t={update:NL(n,e.key,e.value)};else if(e instanceof Gm)t={delete:Cb(n,e.key)};else if(e instanceof Oc)t={update:NL(n,e.key,e.data),updateMask:Q$(e.fieldMask)};else{if(!(e instanceof _T))return dt();t={verify:Cb(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,a){const c=a.transform;if(c instanceof Um)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof xp)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Ip)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof jm)return{fieldPath:a.field.canonicalString(),increment:c.yt};throw dt()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:H$(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:dt()),t;var r}function wT(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?hi.updateTime(Cr(r.updateTime)):void 0!==r.exists?hi.exists(r.exists):hi.none():hi.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(a,c){let h=null;"setToServerValue"in c?(Ft("REQUEST_TIME"===c.setToServerValue),h=new Um):"appendMissingElements"in c?h=new xp(c.appendMissingElements.values||[]):"removeAllFromArray"in c?h=new Ip(c.removeAllFromArray.values||[]):"increment"in c?h=new jm(a,c.increment):dt();const y=xi.fromServerFormat(c.fieldPath);return new gb(y,h)}(n,r)):[];var r;if(e.update){const r=vu(n,e.update.name),a=new Gr({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new Ro((e.updateMask.fieldPaths||[]).map(w=>xi.fromServerFormat(w)));return new Oc(r,a,c,t,i)}return new Hm(r,a,t,i)}if(e.delete){const r=vu(n,e.delete);return new Gm(r,t)}if(e.verify){const r=vu(n,e.verify);return new _T(r,t)}return dt()}function VL(n,e){return{documents:[bT(n,e.path)]}}function BL(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=bT(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=bT(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(y){if(0===y.length)return;const w=y.map(x=>function(T){if("=="===T.op){if(W1(T.value))return{unaryFilter:{field:$m(T.field),op:"IS_NAN"}};if(q1(T.value))return{unaryFilter:{field:$m(T.field),op:"IS_NULL"}}}else if("!="===T.op){if(W1(T.value))return{unaryFilter:{field:$m(T.field),op:"IS_NOT_NAN"}};if(q1(T.value))return{unaryFilter:{field:$m(T.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$m(T.field),op:Y$(T.op),value:T.value}}}(x));return 1===w.length?w[0]:{compositeFilter:{op:"AND",filters:w}}}(e.filters);r&&(t.structuredQuery.where=r);const a=function(y){if(0!==y.length)return y.map(w=>{return{field:$m((x=w).field),direction:W$(x.dir)};var x})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const c=(w=e.limit,n.gt||lb(w)?w:{value:w});var w,h,y;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(h=e.startAt).inclusive,values:h.position}),e.endAt&&(t.structuredQuery.endAt={before:!(y=e.endAt).inclusive,values:y.position}),t}function UL(n){let e=FL(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){Ft(1===i);const x=t.from[0];x.allDescendants?r=x.collectionId:e=e.child(x.collectionId)}let a=[];t.where&&(a=jL(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(x=>{return new Lm(zm((T=x).field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction));var T}));let h=null;t.limit&&(h=function(x){let T;return T="object"==typeof x?x.value:x,lb(T)?null:T}(t.limit));let y=null;var x;t.startAt&&(y=new vh((x=t.startAt).values||[],!!x.before));let w=null;return t.endAt&&(w=function(x){return new vh(x.values||[],!x.before)}(t.endAt)),rL(e,r,c,a,h,"F",y,w)}function jL(n){return n?void 0!==n.unaryFilter?[K$(n)]:void 0!==n.fieldFilter?[Z$(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>jL(e)).reduce((e,t)=>e.concat(t)):dt():[]}function W$(n){return B$[n]}function Y$(n){return U$[n]}function $m(n){return{fieldPath:n.canonicalString()}}function zm(n){return xi.fromServerFormat(n.fieldPath)}function Z$(n){return $r.create(zm(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return dt()}}(n.fieldFilter.op),n.fieldFilter.value)}function K$(n){switch(n.unaryFilter.op){case"IS_NAN":const e=zm(n.unaryFilter.field);return $r.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=zm(n.unaryFilter.field);return $r.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=zm(n.unaryFilter.field);return $r.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=zm(n.unaryFilter.field);return $r.create(r,"!=",{nullValue:"NULL_VALUE"});default:return dt()}}function Q$(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function HL(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Fs(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=GL(e)),e=X$(n.get(t),e);return GL(e)}function X$(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const a=n.charAt(r);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function GL(n){return n+"\x01\x01"}function bu(n){const e=n.length;if(Ft(e>=2),2===e)return Ft("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),dn.emptyPath();const t=e-2,i=[];let r="";for(let a=0;a<e;){const c=n.indexOf("\x01",a);switch((c<0||c>t)&&dt(),n.charAt(c+1)){case"\x01":const h=n.substring(a,c);let y;0===r.length?y=h:(r+=h,y=r,r=""),i.push(y);break;case"\x10":r+=n.substring(a,c),r+="\0";break;case"\x11":r+=n.substring(a,c+1);break;default:dt()}a=c+2}return new dn(i)}const $L=["userId","batchId"];function kD(n,e){return[n,Fs(e)]}function zL(n,e,t){return[n,Fs(e),t]}const J$={},e3=["prefixPath","collectionGroup","readTime","documentId"],t3=["prefixPath","collectionGroup","documentId"],n3=["collectionGroup","readTime","prefixPath","documentId"],r3=["canonicalId","targetId"],s3=["targetId","path"],o3=["path","targetId"],a3=["collectionId","parent"],l3=["indexId","uid"],u3=["uid","sequenceNumber"],c3=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],d3=["indexId","uid","orderedDocumentKey"],h3=["userId","collectionPath","documentId"],f3=["userId","collectionPath","largestBatchId"],p3=["userId","collectionGroup","largestBatchId"],qL=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],g3=[...qL,"documentOverlays"],WL=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],YL=WL,m3=[...YL,"indexConfiguration","indexState","indexEntries"];class CT extends V1{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function Er(n,e){const t=et(n);return xl.O(t.ie,e)}class ET{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const a=this.mutations[r];a.key.isEqual(e.key)&&R$(a,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=mb(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=mb(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=IL();return this.mutations.forEach(r=>{const a=e.get(r.key),c=a.overlayedDocument;let h=this.applyToLocalView(c,a.mutatedFields);h=t.has(r.key)?null:h;const y=yL(c,h);null!==y&&i.set(r.key,y),c.isValidDocument()||c.convertToNoDocument(Ot.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Gt())}isEqual(e){return this.batchId===e.batchId&&Fm(this.mutations,e.mutations,(t,i)=>_L(t,i))&&Fm(this.baseMutations,e.baseMutations,(t,i)=>_L(t,i))}}class DT{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Ft(e.mutations.length===i.length);let r=P$;const a=e.mutations;for(let c=0;c<a.length;c++)r=r.insert(a[c].key,i[c].version);return new DT(e,t,i,r)}}class xT{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class wh{constructor(e,t,i,r,a=Ot.min(),c=Ot.min(),h=ur.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h}withSequenceNumber(e){return new wh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new wh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new wh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class ZL{constructor(e){this.re=e}}function KL(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:FD(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:Cb(r=n.re,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:wb(r,a.version.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:Ap(e.version)};else{if(!e.isUnknownDocument())return dt();i.unknownDocument={path:t.path.toArray(),version:Ap(e.version)}}var r,a;return i}function FD(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Ap(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Sp(n){const e=new di(n.seconds,n.nanoseconds);return Ot.fromTimestamp(e)}function Mp(n,e){const t=(e.baseMutations||[]).map(a=>wT(n.re,a));for(let a=0;a<e.mutations.length-1;++a){const c=e.mutations[a];a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(c.updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a)}const i=e.mutations.map(a=>wT(n.re,a)),r=di.fromMillis(e.localWriteTimeMs);return new ET(e.batchId,r,t,i)}function xb(n){const e=Sp(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Sp(n.lastLimboFreeSnapshotVersion):Ot.min();let i;var r;return void 0!==n.query.documents?(Ft(1===(r=n.query).documents.length),i=eo(Vm(FL(r.documents[0])))):i=eo(UL(n.query)),new wh(i,n.targetId,0,n.lastListenSequenceNumber,e,t,ur.fromBase64String(n.resumeToken))}function QL(n,e){const t=Ap(e.snapshotVersion),i=Ap(e.lastLimboFreeSnapshotVersion);let r;r=xD(e.target)?VL(n.re,e.target):BL(n.re,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Dp(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function IT(n){const e=UL({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?AD(e,e.limit,"L"):e}function AT(n,e){return new xT(e.largestBatchId,wT(n.re,e.overlayMutation))}function XL(n,e){const t=e.path.lastSegment();return[n,Fs(e.path.popLast()),t]}function JL(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Ap(i.readTime),documentKey:Fs(i.documentKey.path),largestBatchId:i.largestBatchId}}class _3{getBundleMetadata(e,t){return eV(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Sp(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return eV(e).put({bundleId:(i=t).id,createTime:Ap(Cr(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return tV(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:IT(r.bundledQuery),readTime:Sp(r.readTime)};var r})}saveNamedQuery(e,t){return tV(e).put({name:(i=t).name,readTime:Ap(Cr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function eV(n){return Er(n,"bundles")}function tV(n){return Er(n,"namedQueries")}class PD{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new PD(e,t.uid||"")}getOverlay(e,t){return Ib(e).get(XL(this.userId,t)).next(i=>i?AT(this.It,i):null)}getOverlays(e,t){const i=_u();return ce.forEach(t,r=>this.getOverlay(e,r).next(a=>{null!==a&&i.set(r,a)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((a,c)=>{const h=new xT(t,c);r.push(this.ue(e,h))}),ce.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(c=>r.add(Fs(c.getCollectionPath())));const a=[];return r.forEach(c=>{const h=IDBKeyRange.bound([this.userId,c,i],[this.userId,c,i+1],!1,!0);a.push(Ib(e).Y("collectionPathOverlayIndex",h))}),ce.waitFor(a)}getOverlaysForCollection(e,t,i){const r=_u(),a=Fs(t),c=IDBKeyRange.bound([this.userId,a,i],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Ib(e).W("collectionPathOverlayIndex",c).next(h=>{for(const y of h){const w=AT(this.It,y);r.set(w.getKey(),w)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const a=_u();let c;const h=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Ib(e).Z({index:"collectionGroupOverlayIndex",range:h},(y,w,x)=>{const T=AT(this.It,w);a.size()<r||T.largestBatchId===c?(a.set(T.getKey(),T),c=T.largestBatchId):x.done()}).next(()=>a)}ue(e,t){return Ib(e).put(function(i,r,a){const[c,h,y]=XL(r,a.mutation.key);return{userId:r,collectionPath:h,documentId:y,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:Db(i.re,a.mutation)}}(this.It,this.userId,t))}}function Ib(n){return Er(n,"documentOverlays")}class Tp{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(Ai(e.integerValue));else if("doubleValue"in e){const i=Ai(e.doubleValue);isNaN(i)?this.le(t,13):(this.le(t,15),ub(i)?t.fe(0):t.fe(i))}else if("timestampValue"in e){const i=e.timestampValue;this.le(t,20),"string"==typeof i?t.de(i):(t.de(`${i.seconds||""}`),t.fe(i.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(wp(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.le(t,45),t.fe(i.latitude||0),t.fe(i.longitude||0)}else"mapValue"in e?Y1(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):dt()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const i=e.fields||{};this.le(t,55);for(const r of Object.keys(i))this._e(r,t),this.ae(i[r],t)}pe(e,t){const i=e.values||[];this.le(t,50);for(const r of i)this.ae(r,t)}ge(e,t){this.le(t,37),Xe.fromName(e).path.forEach(i=>{this.le(t,60),this.Ie(i,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function v3(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function nV(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const a=v3(255&t[r]);if(i+=a,8!==a)break}return i}(n);return Math.ceil(e/8)}Tp.Te=new Tp;class b3{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ae(i.value),i=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Pe(i.value),i=t.next();this.ve()}Ve(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{const r=t.codePointAt(0);this.Ae(240|r>>>18),this.Ae(128|63&r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r)}}this.Re()}Se(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Pe(i);else if(i<2048)this.Pe(960|i>>>6),this.Pe(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i);else{const r=t.codePointAt(0);this.Pe(240|r>>>18),this.Pe(128|63&r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r)}}this.ve()}De(e){const t=this.Ce(e),i=nV(t);this.xe(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Ne(e){const t=this.Ce(e),i=nV(t);this.xe(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}ke(){this.Me(255),this.Me(255)}Oe(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(r){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,r,!1),new Uint8Array(a.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}Ae(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Me(0),this.Me(1)}ve(){this.Fe(0),this.Fe(1)}Me(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class w3{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class C3{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Oe()}}class Ab{constructor(){this.Be=new b3,this.Le=new w3(this.Be),this.Ue=new C3(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class Rp{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new Rp(this.indexId,this.documentKey,this.arrayValue,i)}}function Op(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=iV(n.arrayValue,e.arrayValue),0!==t?t:(t=iV(n.directionalValue,e.directionalValue),0!==t?t:Xe.comparator(n.documentKey,e.documentKey)))}function iV(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class E3{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const i=t;i.dt()?this.je=i:this.Qe.push(i)}}We(e){const t=oT(e);if(void 0!==t&&!this.ze(t))return!1;const i=_p(e);let r=0,a=0;for(;r<i.length&&this.ze(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.je){const c=i[r];if(!this.He(this.je,c)||!this.Je(this.Ge[a++],c))return!1;++r}for(;r<i.length;++r){const c=i[r];if(a>=this.Ge.length||!this.Je(this.Ge[a++],c))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class D3{constructor(){this.Ye=new ST}addToCollectionParentIndex(e,t){return this.Ye.add(t),ce.resolve()}getCollectionParents(e,t){return ce.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return ce.resolve()}deleteFieldIndex(e,t){return ce.resolve()}getDocumentsMatchingTarget(e,t){return ce.resolve(null)}getIndexType(e,t){return ce.resolve(0)}getFieldIndexes(e,t){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,t){return ce.resolve(To.min())}getMinOffsetFromCollectionGroup(e,t){return ce.resolve(To.min())}updateCollectionGroup(e,t,i){return ce.resolve()}updateIndexEntries(e,t){return ce.resolve()}}class ST{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new On(dn.comparator),a=!r.has(i);return this.index[t]=r.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new On(dn.comparator)).toArray()}}const ND=new Uint8Array(0);class x3{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new ST,this.Ze=new bh(i=>Dp(i),(i,r)=>fb(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const a={collectionId:i,parent:Fs(r)};return rV(e).put(a)}return ce.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[F1(t),""],!1,!0);return rV(e).W(r).next(a=>{for(const c of a){if(c.collectionId!==t)break;i.push(bu(c.parent))}return i})}addFieldIndex(e,t){const i=LD(e),r={indexId:(c=t).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var c;delete r.indexId;const a=i.add(r);if(t.indexState){const c=Mb(e);return a.next(h=>{c.put(JL(h,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}deleteFieldIndex(e,t){const i=LD(e),r=Mb(e),a=Sb(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=Sb(e);let r=!0;const a=new Map;return ce.forEach(this.tn(t),c=>this.en(e,c).next(h=>{r&&(r=!!h),a.set(c,h)})).next(()=>{if(r){let c=Gt();const h=[];return ce.forEach(a,(y,w)=>{var x;He("IndexedDbIndexManager",`Using index ${x=y,`id=${x.indexId}|cg=${x.collectionGroup}|f=${x.fields.map(ft=>`${ft.fieldPath}:${ft.kind}`).join(",")}`} to execute ${Dp(t)}`);const T=function(ft,Je){const Ct=oT(Je);if(void 0===Ct)return null;for(const Nt of ID(ft,Ct.fieldPath))switch(Nt.op){case"array-contains-any":return Nt.value.arrayValue.values||[];case"array-contains":return[Nt.value]}return null}(w,y),P=function(ft,Je){const Ct=new Map;for(const Nt of _p(Je))for(const fn of ID(ft,Nt.fieldPath))switch(fn.op){case"==":case"in":Ct.set(Nt.fieldPath.canonicalString(),fn.value);break;case"not-in":case"!=":return Ct.set(Nt.fieldPath.canonicalString(),fn.value),Array.from(Ct.values())}return null}(w,y),V=function(ft,Je){const Ct=[];let Nt=!0;for(const fn of _p(Je)){const Ir=0===fn.kind?J1(ft,fn.fieldPath,ft.startAt):eL(ft,fn.fieldPath,ft.startAt);Ct.push(Ir.value),Nt&&(Nt=Ir.inclusive)}return new vh(Ct,Nt)}(w,y),U=function(ft,Je){const Ct=[];let Nt=!0;for(const fn of _p(Je)){const Ir=0===fn.kind?eL(ft,fn.fieldPath,ft.endAt):J1(ft,fn.fieldPath,ft.endAt);Ct.push(Ir.value),Nt&&(Nt=Ir.inclusive)}return new vh(Ct,Nt)}(w,y),Q=this.nn(y,w,V),_e=this.nn(y,w,U),xe=this.sn(y,w,P),Ke=this.rn(y.indexId,T,Q,V.inclusive,_e,U.inclusive,xe);return ce.forEach(Ke,ft=>i.J(ft,t.limit).next(Je=>{Je.forEach(Ct=>{const Nt=Xe.fromSegments(Ct.documentKey);c.has(Nt)||(c=c.add(Nt),h.push(Nt))})}))}).next(()=>h)}return ce.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,i,r,a,c,h){const y=(null!=t?t.length:1)*Math.max(i.length,a.length),w=y/(null!=t?t.length:1),x=[];for(let T=0;T<y;++T){const P=t?this.on(t[T/w]):ND,V=this.un(e,P,i[T%w],r),U=this.cn(e,P,a[T%w],c),Q=h.map(_e=>this.un(e,P,_e,!0));x.push(...this.createRange(V,U,Q))}return x}un(e,t,i,r){const a=new Rp(e,Xe.empty(),t,i);return r?a:a.Ke()}cn(e,t,i,r){const a=new Rp(e,Xe.empty(),t,i);return r?a.Ke():a}en(e,t){const i=new E3(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(a=>{let c=null;for(const h of a)i.We(h)&&(!c||h.fields.length>c.fields.length)&&(c=h);return c})}getIndexType(e,t){let i=2;return ce.forEach(this.tn(t),r=>this.en(e,r).next(a=>{a?0!==i&&a.fields.length<function(c){let h=new On(xi.comparator),y=!1;for(const w of c.filters){const x=w;x.field.isKeyField()||("array-contains"===x.op||"array-contains-any"===x.op?y=!0:h=h.add(x.field))}for(const w of c.orderBy)w.field.isKeyField()||(h=h.add(w.field));return h.size+(y?1:0)}(r)&&(i=1):i=0})).next(()=>i)}an(e,t){const i=new Ab;for(const r of _p(e)){const a=t.data.field(r.fieldPath);if(null==a)return null;const c=i.qe(r.kind);Tp.Te.ce(a,c)}return i.$e()}on(e){const t=new Ab;return Tp.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const i=new Ab;return Tp.Te.ce(Ep(this.databaseId,t),i.qe(function(r){const a=_p(r);return 0===a.length?0:a[a.length-1].kind}(e))),i.$e()}sn(e,t,i){if(null===i)return[];let r=[];r.push(new Ab);let a=0;for(const c of _p(e)){const h=i[a++];for(const y of r)if(this.ln(t,c.fieldPath)&&db(h))r=this.fn(r,c,h);else{const w=y.qe(c.kind);Tp.Te.ce(h,w)}}return this.dn(r)}nn(e,t,i){return this.sn(e,t,i.position)}dn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].$e();return t}fn(e,t,i){const r=[...e],a=[];for(const c of i.arrayValue.values||[])for(const h of r){const y=new Ab;y.seed(h.$e()),Tp.Te.ce(c,y.qe(t.kind)),a.push(y)}return a}ln(e,t){return!!e.filters.find(i=>i instanceof $r&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=LD(e),r=Mb(e);return(t?i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.W()).next(a=>{const c=[];return ce.forEach(a,h=>r.get([h.indexId,this.uid]).next(y=>{c.push(function(w,x){const T=x?new sb(x.sequenceNumber,new To(Sp(x.readTime),new Xe(bu(x.documentKey)),x.largestBatchId)):sb.empty(),P=w.fields.map(([V,U])=>new bD(xi.fromServerFormat(V),U));return new vD(w.indexId,w.collectionGroup,P,T)}(h,y))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const a=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==a?a:Bt(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=LD(e),a=Mb(e);return this._n(e).next(c=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(h=>ce.forEach(h,y=>a.put(JL(y.indexId,this.user,c,i)))))}updateIndexEntries(e,t){const i=new Map;return ce.forEach(t,(r,a)=>{const c=i.get(r.collectionGroup);return(c?ce.resolve(c):this.getFieldIndexes(e,r.collectionGroup)).next(h=>(i.set(r.collectionGroup,h),ce.forEach(h,y=>this.wn(e,r,y).next(w=>{const x=this.mn(a,y);return w.isEqual(x)?ce.resolve():this.gn(e,a,y,w,x)}))))})}yn(e,t,i,r){return Sb(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.hn(i,t.key),documentKey:t.key.path.toArray()})}pn(e,t,i,r){return Sb(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.hn(i,t.key),t.key.path.toArray()])}wn(e,t,i){const r=Sb(e);let a=new On(Op);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.hn(i,t)])},(c,h)=>{a=a.add(new Rp(i.indexId,t,h.arrayValue,h.directionalValue))}).next(()=>a)}mn(e,t){let i=new On(Op);const r=this.an(t,e);if(null==r)return i;const a=oT(t);if(null!=a){const c=e.data.field(a.fieldPath);if(db(c))for(const h of c.arrayValue.values||[])i=i.add(new Rp(t.indexId,e.key,this.on(h),r))}else i=i.add(new Rp(t.indexId,e.key,ND,r));return i}gn(e,t,i,r,a){He("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const c=[];return function(h,y,w,x,T){const P=h.getIterator(),V=y.getIterator();let U=Pm(P),Q=Pm(V);for(;U||Q;){let _e=!1,xe=!1;if(U&&Q){const Ke=w(U,Q);Ke<0?xe=!0:Ke>0&&(_e=!0)}else null!=U?xe=!0:_e=!0;_e?(x(Q),Q=Pm(V)):xe?(T(U),U=Pm(P)):(U=Pm(P),Q=Pm(V))}}(r,a,Op,h=>{c.push(this.yn(e,t,i,h))},h=>{c.push(this.pn(e,t,i,h))}),ce.waitFor(c)}_n(e){let t=1;return Mb(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,a)=>{a.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((c,h)=>Op(c,h)).filter((c,h,y)=>!h||0!==Op(c,y[h-1]));const r=[];r.push(e);for(const c of i){const h=Op(c,e),y=Op(c,t);if(0===h)r[0]=e.Ke();else if(h>0&&y<0)r.push(c),r.push(c.Ke());else if(y>0)break}r.push(t);const a=[];for(let c=0;c<r.length;c+=2)a.push(IDBKeyRange.bound([r[c].indexId,this.uid,r[c].arrayValue,r[c].directionalValue,ND,[]],[r[c+1].indexId,this.uid,r[c+1].arrayValue,r[c+1].directionalValue,ND,[]]));return a}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(sV)}getMinOffset(e,t){return ce.mapArray(this.tn(t),i=>this.en(e,i).next(r=>r||dt())).next(sV)}}function rV(n){return Er(n,"collectionParents")}function Sb(n){return Er(n,"indexEntries")}function LD(n){return Er(n,"indexConfiguration")}function Mb(n){return Er(n,"indexState")}function sV(n){Ft(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;aT(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new To(e.readTime,e.documentKey,t)}const oV={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class no{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new no(e,no.DEFAULT_COLLECTION_PERCENTILE,no.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function aV(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),a=[],c=IDBKeyRange.only(t.batchId);let h=0;const y=i.Z({range:c},(x,T,P)=>(h++,P.delete()));a.push(y.next(()=>{Ft(1===h)}));const w=[];for(const x of t.mutations){const T=zL(e,x.key.path,t.batchId);a.push(r.delete(T)),w.push(x.key)}return ce.waitFor(a).next(()=>w)}function VD(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw dt();e=n.noDocument}return JSON.stringify(e).length}no.DEFAULT_COLLECTION_PERCENTILE=10,no.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,no.DEFAULT=new no(41943040,no.DEFAULT_COLLECTION_PERCENTILE,no.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),no.DISABLED=new no(-1,0,0);class BD{constructor(e,t,i,r){this.userId=e,this.It=t,this.indexManager=i,this.referenceDelegate=r,this.In={}}static oe(e,t,i,r){Ft(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new BD(a,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ch(e).Z({index:"userMutationsIndex",range:i},(r,a,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const a=qm(e),c=Ch(e);return c.add({}).next(h=>{Ft("number"==typeof h);const y=new ET(h,t,i,r),w=function(P,V,U){const Q=U.baseMutations.map(xe=>Db(P.re,xe)),_e=U.mutations.map(xe=>Db(P.re,xe));return{userId:V,batchId:U.batchId,localWriteTimeMs:U.localWriteTime.toMillis(),baseMutations:Q,mutations:_e}}(this.It,this.userId,y),x=[];let T=new On((P,V)=>Bt(P.canonicalString(),V.canonicalString()));for(const P of r){const V=zL(this.userId,P.key.path,h);T=T.add(P.key.path.popLast()),x.push(c.put(w)),x.push(a.put(V,J$))}return T.forEach(P=>{x.push(this.indexManager.addToCollectionParentIndex(e,P))}),e.addOnCommittedListener(()=>{this.In[h]=y.keys()}),ce.waitFor(x).next(()=>y)})}lookupMutationBatch(e,t){return Ch(e).get(t).next(i=>i?(Ft(i.userId===this.userId),Mp(this.It,i)):null)}Tn(e,t){return this.In[t]?ce.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.In[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let a=null;return Ch(e).Z({index:"userMutationsIndex",range:r},(c,h,y)=>{h.userId===this.userId&&(Ft(h.batchId>=i),a=Mp(this.It,h)),y.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Ch(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(r,a,c)=>{i=a.batchId,c.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ch(e).W("userMutationsIndex",t).next(i=>i.map(r=>Mp(this.It,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=kD(this.userId,t.path),r=IDBKeyRange.lowerBound(i),a=[];return qm(e).Z({range:r},(c,h,y)=>{const[w,x,T]=c,P=bu(x);if(w===this.userId&&t.path.isEqual(P))return Ch(e).get(T).next(V=>{if(!V)throw dt();Ft(V.userId===this.userId),a.push(Mp(this.It,V))});y.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new On(Bt);const r=[];return t.forEach(a=>{const c=kD(this.userId,a.path),h=IDBKeyRange.lowerBound(c),y=qm(e).Z({range:h},(w,x,T)=>{const[P,V,U]=w,Q=bu(V);P===this.userId&&a.path.isEqual(Q)?i=i.add(U):T.done()});r.push(y)}),ce.waitFor(r).next(()=>this.En(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,a=kD(this.userId,i),c=IDBKeyRange.lowerBound(a);let h=new On(Bt);return qm(e).Z({range:c},(y,w,x)=>{const[T,P,V]=y,U=bu(P);T===this.userId&&i.isPrefixOf(U)?U.length===r&&(h=h.add(V)):x.done()}).next(()=>this.En(e,h))}En(e,t){const i=[],r=[];return t.forEach(a=>{r.push(Ch(e).get(a).next(c=>{if(null===c)throw dt();Ft(c.userId===this.userId),i.push(Mp(this.It,c))}))}),ce.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return aV(e.ie,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),ce.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ce.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return qm(e).Z({range:i},(a,c,h)=>{if(a[0]===this.userId){const y=bu(a[1]);r.push(y)}else h.done()}).next(()=>{Ft(0===r.length)})})}containsKey(e,t){return lV(e,this.userId,t)}Rn(e){return uV(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function lV(n,e,t){const i=kD(e,t.path),r=i[1],a=IDBKeyRange.lowerBound(i);let c=!1;return qm(n).Z({range:a,X:!0},(h,y,w)=>{const[x,T,P]=h;x===e&&T===r&&(c=!0),w.done()}).next(()=>c)}function Ch(n){return Er(n,"mutations")}function qm(n){return Er(n,"documentMutations")}function uV(n){return Er(n,"mutationQueues")}class kp{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new kp(0)}static vn(){return new kp(-1)}}class I3{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const i=new kp(t.highestTargetId);return t.highestTargetId=i.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>Ot.fromTimestamp(new di(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.Vn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Sn(e,r)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(i=>(i.targetCount+=1,this.Cn(t,i),this.Sn(e,i))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Wm(e).delete(t.targetId)).next(()=>this.Vn(e)).next(i=>(Ft(i.targetCount>0),i.targetCount-=1,this.Sn(e,i)))}removeTargets(e,t,i){let r=0;const a=[];return Wm(e).Z((c,h)=>{const y=xb(h);y.sequenceNumber<=t&&null===i.get(y.targetId)&&(r++,a.push(this.removeTargetData(e,y)))}).next(()=>ce.waitFor(a)).next(()=>r)}forEachTarget(e,t){return Wm(e).Z((i,r)=>{const a=xb(r);t(a)})}Vn(e){return cV(e).get("targetGlobalKey").next(t=>(Ft(null!==t),t))}Sn(e,t){return cV(e).put("targetGlobalKey",t)}Dn(e,t){return Wm(e).put(QL(this.It,t))}Cn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=Dp(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let a=null;return Wm(e).Z({range:r,index:"queryTargetsIndex"},(c,h,y)=>{const w=xb(h);fb(t,w.target)&&(a=w,y.done())}).next(()=>a)}addMatchingKeys(e,t,i){const r=[],a=Eh(e);return t.forEach(c=>{const h=Fs(c.path);r.push(a.put({targetId:i,path:h})),r.push(this.referenceDelegate.addReference(e,i,c))}),ce.waitFor(r)}removeMatchingKeys(e,t,i){const r=Eh(e);return ce.forEach(t,a=>{const c=Fs(a.path);return ce.waitFor([r.delete([i,c]),this.referenceDelegate.removeReference(e,i,a)])})}removeMatchingKeysForTargetId(e,t){const i=Eh(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=Eh(e);let a=Gt();return r.Z({range:i,X:!0},(c,h,y)=>{const w=bu(c[1]),x=new Xe(w);a=a.add(x)}).next(()=>a)}containsKey(e,t){const i=Fs(t.path),r=IDBKeyRange.bound([i],[F1(i)],!1,!0);let a=0;return Eh(e).Z({index:"documentTargetsIndex",X:!0,range:r},([c,h],y,w)=>{0!==c&&(a++,w.done())}).next(()=>a>0)}se(e,t){return Wm(e).get(t).next(i=>i?xb(i):null)}}function Wm(n){return Er(n,"targets")}function cV(n){return Er(n,"targetGlobal")}function Eh(n){return Er(n,"targetDocuments")}function dV([n,e],[t,i]){const r=Bt(n,t);return 0===r?Bt(e,i):r}class A3{constructor(e){this.xn=e,this.buffer=new On(dV),this.Nn=0}kn(){return++this.Nn}Mn(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();dV(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class S3{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.On=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return null!==this.On}Fn(e){var t=this;He("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Ee.Z)(function*(){t.On=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){ph(i)?He("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield fh(i)}yield t.Fn(3e5)}))}}class M3{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return ce.resolve(Js.at);const i=new A3(t);return this.$n.forEachTarget(e,r=>i.Mn(r.sequenceNumber)).next(()=>this.$n.Ln(e,r=>i.Mn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.$n.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(He("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(oV)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(He("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),oV):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let i,r,a,c,h,y,w;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(He("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),r=this.params.maximumSequenceNumbersToCollect):r=T,c=Date.now(),this.nthSequenceNumber(e,r))).next(T=>(i=T,h=Date.now(),this.removeTargets(e,i,t))).next(T=>(a=T,y=Date.now(),this.removeOrphanedDocuments(e,i))).next(T=>(w=Date.now(),rT()<=uh.in.DEBUG&&He("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-x}ms\n\tDetermined least recently used ${r} in `+(h-c)+`ms\n\tRemoved ${a} targets in `+(y-h)+`ms\n\tRemoved ${T} documents in `+(w-y)+`ms\nTotal Duration: ${w-x}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:T})))}}class T3{constructor(e,t){this.db=e,this.garbageCollector=new M3(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}qn(e){let t=0;return this.Ln(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(i,r)=>t(r))}addReference(e,t,i){return UD(e,i)}removeReference(e,t,i){return UD(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return UD(e,t)}Gn(e,t){return function(i,r){let a=!1;return uV(i).tt(c=>lV(i,c,r).next(h=>(h&&(a=!0),ce.resolve(!h)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let a=0;return this.Kn(e,(c,h)=>{if(h<=t){const y=this.Gn(e,c).next(w=>{if(!w)return a++,i.getEntry(e,c).next(()=>(i.removeEntry(c,Ot.min()),Eh(e).delete([0,Fs(c.path)])))});r.push(y)}}).next(()=>ce.waitFor(r)).next(()=>i.apply(e)).next(()=>a)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return UD(e,t)}Kn(e,t){const i=Eh(e);let r,a=Js.at;return i.Z({index:"documentTargetsIndex"},([c,h],{path:y,sequenceNumber:w})=>{0===c?(a!==Js.at&&t(new Xe(bu(r)),a),a=w,r=y):a=Js.at}).next(()=>{a!==Js.at&&t(new Xe(bu(r)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function UD(n,e){return Eh(n).put((i=n.currentSequenceNumber,{targetId:0,path:Fs(e.path),sequenceNumber:i}));var i}class hV{constructor(){this.changes=new bh(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Yn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?ce.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class R3{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return Fp(e).put(i)}removeEntry(e,t,i){return Fp(e).delete(function(r,a){const c=r.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],FD(a),c[c.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Qn(e,i)))}getEntry(e,t){let i=Yn.newInvalidDocument(t);return Fp(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Tb(t))},(r,a)=>{i=this.jn(t,a)}).next(()=>i)}Wn(e,t){let i={size:0,document:Yn.newInvalidDocument(t)};return Fp(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Tb(t))},(r,a)=>{i={document:this.jn(t,a),size:VD(a)}}).next(()=>i)}getEntries(e,t){let i=to();return this.zn(e,t,(r,a)=>{const c=this.jn(r,a);i=i.insert(r,c)}).next(()=>i)}Hn(e,t){let i=to(),r=new Ii(Xe.comparator);return this.zn(e,t,(a,c)=>{const h=this.jn(a,c);i=i.insert(a,h),r=r.insert(a,VD(c))}).next(()=>({documents:i,Jn:r}))}zn(e,t,i){if(t.isEmpty())return ce.resolve();let r=new On(mV);t.forEach(y=>r=r.add(y));const a=IDBKeyRange.bound(Tb(r.first()),Tb(r.last())),c=r.getIterator();let h=c.getNext();return Fp(e).Z({index:"documentKeyIndex",range:a},(y,w,x)=>{const T=Xe.fromSegments([...w.prefixPath,w.collectionGroup,w.documentId]);for(;h&&mV(h,T)<0;)i(h,null),h=c.getNext();h&&h.isEqual(T)&&(i(h,w),h=c.hasNext()?c.getNext():null),h?x.j(Tb(h)):x.done()}).next(()=>{for(;h;)i(h,null),h=c.hasNext()?c.getNext():null})}getAllFromCollection(e,t,i){const r=[t.popLast().toArray(),t.lastSegment(),FD(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Fp(e).W(IDBKeyRange.bound(r,a,!0)).next(c=>{let h=to();for(const y of c){const w=this.jn(Xe.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);h=h.insert(w.key,w)}return h})}getAllFromCollectionGroup(e,t,i,r){let a=to();const c=gV(t,i),h=gV(t,To.max());return Fp(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,h,!0)},(y,w,x)=>{const T=this.jn(Xe.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);a=a.insert(T.key,T),a.size===r&&x.done()}).next(()=>a)}newChangeBuffer(e){return new O3(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return pV(e).get("remoteDocumentGlobalKey").next(t=>(Ft(!!t),t))}Qn(e,t){return pV(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const i=function y3(n,e){let t;if(e.document)t=LL(n.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=Xe.fromSegments(e.noDocument.path),r=Sp(e.noDocument.readTime);t=Yn.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return dt();{const i=Xe.fromSegments(e.unknownDocument.path),r=Sp(e.unknownDocument.version);t=Yn.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new di(i[0],i[1]);return Ot.fromTimestamp(r)}(e.readTime)),t}(this.It,t);if(!i.isNoDocument()||!i.version.isEqual(Ot.min()))return i}return Yn.newInvalidDocument(e)}}function fV(n){return new R3(n)}class O3 extends hV{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new bh(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new On((a,c)=>Bt(a.canonicalString(),c.canonicalString()));return this.changes.forEach((a,c)=>{const h=this.Xn.get(a);if(t.push(this.Yn.removeEntry(e,a,h.readTime)),c.isValidDocument()){const y=KL(this.Yn.It,c);r=r.add(a.path.popLast()),i+=VD(y)-h.size,t.push(this.Yn.addEntry(e,a,y))}else if(i-=h.size,this.trackRemovals){const y=KL(this.Yn.It,c.convertToNoDocument(Ot.min()));t.push(this.Yn.addEntry(e,a,y))}}),r.forEach(a=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.Yn.updateMetadata(e,i)),ce.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(i=>(this.Xn.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:i,Jn:r})=>(r.forEach((a,c)=>{this.Xn.set(a,{size:c,readTime:i.get(a).readTime})}),i))}}function pV(n){return Er(n,"remoteDocumentGlobal")}function Fp(n){return Er(n,"remoteDocumentsV14")}function Tb(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function gV(n,e){const t=e.documentKey.path.toArray();return[n,FD(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function mV(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let a=0;a<t.length-2&&a<i.length-2;++a)if(r=Bt(t[a],i[a]),r)return r;return r=Bt(t.length,i.length),r||(r=Bt(t[t.length-2],i[i.length-2]),r||Bt(t[t.length-1],i[i.length-1]))}class k3{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class yV{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.getBaseDocument(e,t,i))).next(r=>(null!==i&&mb(i.mutation,r,Ro.empty(),di.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Gt()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Gt()){const r=_u();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(a=>{let c=yb();return a.forEach((h,y)=>{c=c.insert(h,y.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=_u();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Gt()))}populateOverlays(e,t,i){const r=[];return i.forEach(a=>{t.has(a)||r.push(a)}),this.documentOverlayCache.getOverlays(e,r).next(a=>{a.forEach((c,h)=>{t.set(c,h)})})}computeViews(e,t,i,r){let a=to();const c=_b(),h=_b();return t.forEach((y,w)=>{const x=i.get(w.key);r.has(w.key)&&(void 0===x||x.mutation instanceof Oc)?a=a.insert(w.key,w):void 0!==x&&(c.set(w.key,x.mutation.getFieldMask()),mb(x.mutation,w,x.mutation.getFieldMask(),di.now()))}),this.recalculateAndSaveOverlays(e,a).next(y=>(y.forEach((w,x)=>c.set(w,x)),t.forEach((w,x)=>{var T;return h.set(w,new k3(x,null!==(T=c.get(w))&&void 0!==T?T:null))}),h))}recalculateAndSaveOverlays(e,t){const i=_b();let r=new Ii((c,h)=>c-h),a=Gt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const h of c)h.keys().forEach(y=>{const w=t.get(y);if(null===w)return;let x=i.get(y)||Ro.empty();x=h.applyToLocalView(w,x),i.set(y,x);const T=(r.get(h.batchId)||Gt()).add(y);r=r.insert(h.batchId,T)})}).next(()=>{const c=[],h=r.getReverseIterator();for(;h.hasNext();){const y=h.getNext(),w=y.key,x=y.value,T=IL();x.forEach(P=>{if(!a.has(P)){const V=yL(t.get(P),i.get(P));null!==V&&T.set(P,V),a=a.add(P)}}),c.push(this.documentOverlayCache.saveOverlays(e,w,T))}return ce.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return Xe.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):gT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(a=>{const c=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-a.size):ce.resolve(_u());let h=-1,y=a;return c.next(w=>ce.forEach(w,(x,T)=>(h<T.largestBatchId&&(h=T.largestBatchId),a.get(x)?ce.resolve():this.getBaseDocument(e,x,T).next(P=>{y=y.insert(x,P)}))).next(()=>this.populateOverlays(e,w,a)).next(()=>this.computeViews(e,y,w,Gt())).next(x=>({batchId:h,changes:xL(x)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Xe(t)).next(i=>{let r=yb();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let a=yb();return this.indexManager.getCollectionParents(e,r).next(c=>ce.forEach(c,h=>{const y=(w=t,x=h.child(r),new Rc(x,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt));var w,x;return this.getDocumentsMatchingCollectionQuery(e,y,i).next(w=>{w.forEach((x,T)=>{a=a.insert(x,T)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.remoteDocumentCache.getAllFromCollection(e,t.path,i).next(a=>(r=a,this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId))).next(a=>{a.forEach((h,y)=>{const w=y.getKey();null===r.get(w)&&(r=r.insert(w,Yn.newInvalidDocument(w)))});let c=yb();return r.forEach((h,y)=>{const w=a.get(h);void 0!==w&&mb(w.mutation,y,Ro.empty(),di.now()),yT(t,y)&&(c=c.insert(h,y))}),c})}getBaseDocument(e,t,i){return null===i||1===i.mutation.type?this.remoteDocumentCache.getEntry(e,t):ce.resolve(Yn.newInvalidDocument(t))}}class F3{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return ce.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var i;return this.Zn.set(t.id,{id:(i=t).id,version:i.version,createTime:Cr(i.createTime)}),ce.resolve()}getNamedQuery(e,t){return ce.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(i=t).name,query:IT(i.bundledQuery),readTime:Cr(i.readTime)}),ce.resolve();var i}}class P3{constructor(){this.overlays=new Ii(Xe.comparator),this.es=new Map}getOverlay(e,t){return ce.resolve(this.overlays.get(t))}getOverlays(e,t){const i=_u();return ce.forEach(t,r=>this.getOverlay(e,r).next(a=>{null!==a&&i.set(r,a)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,a)=>{this.ue(e,t,a)}),ce.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.es.get(i);return void 0!==r&&(r.forEach(a=>this.overlays=this.overlays.remove(a)),this.es.delete(i)),ce.resolve()}getOverlaysForCollection(e,t,i){const r=_u(),a=t.length+1,c=new Xe(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const y=h.getNext().value,w=y.getKey();if(!t.isPrefixOf(w.path))break;w.path.length===a&&y.largestBatchId>i&&r.set(y.getKey(),y)}return ce.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let a=new Ii((w,x)=>w-x);const c=this.overlays.getIterator();for(;c.hasNext();){const w=c.getNext().value;if(w.getKey().getCollectionGroup()===t&&w.largestBatchId>i){let x=a.get(w.largestBatchId);null===x&&(x=_u(),a=a.insert(w.largestBatchId,x)),x.set(w.getKey(),w)}}const h=_u(),y=a.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((w,x)=>h.set(w,x)),!(h.size()>=r)););return ce.resolve(h)}ue(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const c=this.es.get(r.largestBatchId).delete(i.key);this.es.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new xT(t,i));let a=this.es.get(t);void 0===a&&(a=Gt(),this.es.set(t,a)),this.es.set(t,a.add(i.key))}}class MT{constructor(){this.ns=new On(Dr.ss),this.rs=new On(Dr.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const i=new Dr(e,t);this.ns=this.ns.add(i),this.rs=this.rs.add(i)}us(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.cs(new Dr(e,t))}hs(e,t){e.forEach(i=>this.removeReference(i,t))}ls(e){const t=new Xe(new dn([])),i=new Dr(t,e),r=new Dr(t,e+1),a=[];return this.rs.forEachInRange([i,r],c=>{this.cs(c),a.push(c.key)}),a}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new Xe(new dn([])),i=new Dr(t,e),r=new Dr(t,e+1);let a=Gt();return this.rs.forEachInRange([i,r],c=>{a=a.add(c.key)}),a}containsKey(e){const t=new Dr(e,0),i=this.ns.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Dr{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return Xe.comparator(e.key,t.key)||Bt(e._s,t._s)}static os(e,t){return Bt(e._s,t._s)||Xe.comparator(e.key,t.key)}}class N3{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new On(Dr.ss)}checkEmpty(e){return ce.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const a=this.ws;this.ws++;const c=new ET(a,t,i,r);this.mutationQueue.push(c);for(const h of r)this.gs=this.gs.add(new Dr(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ce.resolve(c)}lookupMutationBatch(e,t){return ce.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.ps(t+1),a=r<0?0:r;return ce.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Dr(t,0),r=new Dr(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([i,r],c=>{const h=this.ys(c._s);a.push(h)}),ce.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new On(Bt);return t.forEach(r=>{const a=new Dr(r,0),c=new Dr(r,Number.POSITIVE_INFINITY);this.gs.forEachInRange([a,c],h=>{i=i.add(h._s)})}),ce.resolve(this.Is(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let a=i;Xe.isDocumentKey(a)||(a=a.child(""));const c=new Dr(new Xe(a),0);let h=new On(Bt);return this.gs.forEachWhile(y=>{const w=y.key.path;return!!i.isPrefixOf(w)&&(w.length===r&&(h=h.add(y._s)),!0)},c),ce.resolve(this.Is(h))}Is(e){const t=[];return e.forEach(i=>{const r=this.ys(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){Ft(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let i=this.gs;return ce.forEach(t.mutations,r=>{const a=new Dr(r.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.gs=i})}An(e){}containsKey(e,t){const i=new Dr(t,0),r=this.gs.firstAfterOrEqual(i);return ce.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return ce.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class L3{constructor(e){this.Es=e,this.docs=new Ii(Xe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),a=r?r.size:0,c=this.Es(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ce.resolve(i?i.document.mutableCopy():Yn.newInvalidDocument(t))}getEntries(e,t){let i=to();return t.forEach(r=>{const a=this.docs.get(r);i=i.insert(r,a?a.document.mutableCopy():Yn.newInvalidDocument(r))}),ce.resolve(i)}getAllFromCollection(e,t,i){let r=to();const a=new Xe(t.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:h,value:{document:y}}=c.getNext();if(!t.isPrefixOf(h.path))break;h.path.length>t.length+1||aT(N1(y),i)<=0||(r=r.insert(y.key,y.mutableCopy()))}return ce.resolve(r)}getAllFromCollectionGroup(e,t,i,r){dt()}As(e,t){return ce.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new V3(this)}getSize(e){return ce.resolve(this.size)}}class V3 extends hV{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.Yn.addEntry(e,r)):this.Yn.removeEntry(i)}),ce.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class B3{constructor(e){this.persistence=e,this.Rs=new bh(t=>Dp(t),fb),this.lastRemoteSnapshotVersion=Ot.min(),this.highestTargetId=0,this.bs=0,this.Ps=new MT,this.targetCount=0,this.vs=kp.Pn()}forEachTarget(e,t){return this.Rs.forEach((i,r)=>t(r)),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.bs&&(this.bs=t),ce.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new kp(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,ce.resolve()}updateTargetData(e,t){return this.Dn(t),ce.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,t,i){let r=0;const a=[];return this.Rs.forEach((c,h)=>{h.sequenceNumber<=t&&null===i.get(h.targetId)&&(this.Rs.delete(c),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),r++)}),ce.waitFor(a).next(()=>r)}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,t){const i=this.Rs.get(t)||null;return ce.resolve(i)}addMatchingKeys(e,t,i){return this.Ps.us(t,i),ce.resolve()}removeMatchingKeys(e,t,i){this.Ps.hs(t,i);const r=this.persistence.referenceDelegate,a=[];return r&&t.forEach(c=>{a.push(r.markPotentiallyOrphaned(e,c))}),ce.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),ce.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Ps.ds(t);return ce.resolve(i)}containsKey(e,t){return ce.resolve(this.Ps.containsKey(t))}}class _V{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new Js(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new B3(this),this.indexManager=new D3,this.remoteDocumentCache=new L3(i=>this.referenceDelegate.xs(i)),this.It=new ZL(t),this.Ns=new F3(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new P3,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Vs[e.toKey()];return i||(i=new N3(t,this.referenceDelegate),this.Vs[e.toKey()]=i),i}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,i){He("MemoryPersistence","Starting transaction:",e);const r=new U3(this.Ss.next());return this.referenceDelegate.ks(),i(r).next(a=>this.referenceDelegate.Ms(r).next(()=>a)).toPromise().then(a=>(r.raiseOnCommittedEvent(),a))}Os(e,t){return ce.or(Object.values(this.Vs).map(i=>()=>i.containsKey(e,t)))}}class U3 extends V1{constructor(e){super(),this.currentSequenceNumber=e}}class jD{constructor(e){this.persistence=e,this.Fs=new MT,this.$s=null}static Bs(e){return new jD(e)}get Ls(){if(this.$s)return this.$s;throw dt()}addReference(e,t,i){return this.Fs.addReference(i,t),this.Ls.delete(i.toString()),ce.resolve()}removeReference(e,t,i){return this.Fs.removeReference(i,t),this.Ls.add(i.toString()),ce.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),ce.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(r=>this.Ls.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(a=>this.Ls.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}ks(){this.$s=new Set}Ms(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.Ls,i=>{const r=Xe.fromPath(i);return this.Us(e,r).next(a=>{a||t.removeEntry(r,Ot.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(i=>{i?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return ce.or([()=>ce.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Os(e,t)])}}class j3{constructor(e){this.It=e}$(e,t,i,r){const a=new wD("createOrUpgrade",t);var h;i<1&&r>=1&&(e.createObjectStore("owner"),(h=e).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",$L,{unique:!0}),h.createObjectStore("documentMutations"),vV(e),function(h){h.createObjectStore("remoteDocuments")}(e));let c=ce.resolve();return i<3&&r>=3&&(0!==i&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(e),vV(e)),c=c.next(()=>function(h){const y=h.store("targetGlobal"),w={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ot.min().toTimestamp(),targetCount:0};return y.put("targetGlobalKey",w)}(a))),i<4&&r>=4&&(0!==i&&(c=c.next(()=>function(h,y){return y.store("mutations").W().next(w=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",$L,{unique:!0});const x=y.store("mutations"),T=w.map(P=>x.put(P));return ce.waitFor(T)})}(e,a))),c=c.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(c=c.next(()=>this.qs(a))),i<6&&r>=6&&(c=c.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(a)))),i<7&&r>=7&&(c=c.next(()=>this.Gs(a))),i<8&&r>=8&&(c=c.next(()=>this.Qs(e,a))),i<9&&r>=9&&(c=c.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(c=c.next(()=>this.js(a))),i<11&&r>=11&&(c=c.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(c=c.next(()=>{!function(h){const y=h.createObjectStore("documentOverlays",{keyPath:h3});y.createIndex("collectionPathOverlayIndex",f3,{unique:!1}),y.createIndex("collectionGroupOverlayIndex",p3,{unique:!1})}(e)})),i<13&&r>=13&&(c=c.next(()=>function(h){const y=h.createObjectStore("remoteDocumentsV14",{keyPath:e3});y.createIndex("documentKeyIndex",t3),y.createIndex("collectionGroupIndex",n3)}(e)).next(()=>this.Ws(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(c=c.next(()=>this.zs(e,a))),i<15&&r>=15&&(c=c.next(()=>function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:l3}).createIndex("sequenceNumberIndex",u3,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:c3}).createIndex("documentKeyIndex",d3,{unique:!1})}(e))),c}Ks(e){let t=0;return e.store("remoteDocuments").Z((i,r)=>{t+=VD(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}qs(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.W().next(r=>ce.forEach(r,a=>{const c=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",c).next(h=>ce.forEach(h,y=>{Ft(y.userId===a.userId);const w=Mp(this.It,y);return aV(e,a.userId,w).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const a=[];return i.Z((c,h)=>{const y=new dn(c),w=[0,Fs(y)];a.push(t.get(w).next(x=>x?ce.resolve():t.put({targetId:0,path:Fs(y),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>ce.waitFor(a))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:a3});const i=t.store("collectionParents"),r=new ST,a=c=>{if(r.add(c)){const h=c.lastSegment(),y=c.popLast();return i.put({collectionId:h,parent:Fs(y)})}};return t.store("remoteDocuments").Z({X:!0},(c,h)=>{const y=new dn(c);return a(y.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([c,h,y],w)=>{const x=bu(h);return a(x.popLast())}))}js(e){const t=e.store("targets");return t.Z((i,r)=>{const a=xb(r),c=QL(this.It,a);return t.put(c)})}Ws(e,t){const i=t.store("remoteDocuments"),r=[];return i.Z((a,c)=>{const h=t.store("remoteDocumentsV14"),y=(w=c,w.document?new Xe(dn.fromString(w.document.name).popFirst(5)):w.noDocument?Xe.fromSegments(w.noDocument.path):w.unknownDocument?Xe.fromSegments(w.unknownDocument.path):dt()).path.toArray();var w;const x={prefixPath:y.slice(0,y.length-2),collectionGroup:y[y.length-2],documentId:y[y.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};r.push(h.put(x))}).next(()=>ce.waitFor(r))}zs(e,t){const i=t.store("mutations"),r=fV(this.It),a=new _V(jD.Bs,this.It.re);return i.W().next(c=>{const h=new Map;return c.forEach(y=>{var w;let x=null!==(w=h.get(y.userId))&&void 0!==w?w:Gt();Mp(this.It,y).keys().forEach(T=>x=x.add(T)),h.set(y.userId,x)}),ce.forEach(h,(y,w)=>{const x=new br(w),T=PD.oe(this.It,x),P=a.getIndexManager(x),V=BD.oe(x,this.It,P,a.referenceDelegate);return new yV(r,V,T,P).recalculateAndSaveOverlaysForDocumentKeys(new CT(t,Js.at),y).next()})})}}function vV(n){n.createObjectStore("targetDocuments",{keyPath:s3}).createIndex("documentTargetsIndex",o3,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",r3,{unique:!0}),n.createObjectStore("targetGlobal")}const TT="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class RT{constructor(e,t,i,r,a,c,h,y,w,x,T=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.Hs=a,this.window=c,this.document=h,this.Js=w,this.Ys=x,this.Xs=T,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=P=>Promise.resolve(),!RT.C())throw new Pe(pe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new T3(this,r),this.ii=t+"main",this.It=new ZL(y),this.ri=new xl(this.ii,this.Xs,new j3(this.It)),this.Cs=new I3(this.referenceDelegate,this.It),this.remoteDocumentCache=fV(this.It),this.Ns=new _3,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===x&&Ni("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Pe(pe.FAILED_PRECONDITION,TT);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new Js(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var i=(0,Ee.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,Ee.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,Ee.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>HD(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(ph(e))return He("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return He("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return Rb(e).get("owner").next(t=>ce.resolve(this.mi(t)))}gi(e){return HD(e).delete(this.clientId)}yi(){var e=this;return(0,Ee.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Er(i,"clientMetadata");return r.W().next(a=>{const c=e.Ii(a,18e5),h=a.filter(y=>-1===c.indexOf(y));return ce.forEach(h,y=>r.delete(y.clientId)).next(()=>h)})}).catch(()=>[]);if(e.oi)for(const i of t)e.oi.removeItem(e.Ti(i.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?ce.resolve(!0):Rb(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Pe(pe.FAILED_PRECONDITION,TT);return!1}}return!(!this.networkEnabled||!this.inForeground)||HD(e).W().next(i=>void 0===this.Ii(i,5e3).find(r=>{if(this.clientId!==r.clientId){const c=!this.inForeground&&r.inForeground,h=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||c&&h)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&He("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Ee.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new CT(t,Js.at);return e._i(i).next(()=>e.gi(i))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(i=>this.pi(i.updateTimeMs,t)&&!this.Ei(i.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>HD(e).W().next(t=>this.Ii(t,18e5).map(i=>i.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return BD.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new x3(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return PD.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,i){He("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",a=15===(c=this.Xs)?m3:14===c?YL:13===c?WL:12===c?g3:11===c?qL:void dt();var c;let h;return this.ri.runTransaction(e,r,a,y=>(h=new CT(y,this.Ss?this.Ss.next():Js.at),"readwrite-primary"===t?this.fi(h).next(w=>!!w||this.di(h)).next(w=>{if(!w)throw Ni(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Pe(pe.FAILED_PRECONDITION,L1);return i(h)}).next(w=>this.wi(h).next(()=>w)):this.Vi(h).next(()=>i(h)))).then(y=>(h.raiseOnCommittedEvent(),y))}Vi(e){return Rb(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Pe(pe.FAILED_PRECONDITION,TT)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Rb(e).put("owner",t)}static C(){return xl.C()}_i(e){const t=Rb(e);return t.get("owner").next(i=>this.mi(i)?(He("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ce.resolve())}pi(e,t){const i=Date.now();return!(e<i-t||e>i&&(Ni(`Detected an update time that is in the future: ${e} > ${i}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,gn.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const i=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return He("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Ni("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){Ni("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(e){}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Rb(n){return Er(n,"owner")}function HD(n){return Er(n,"clientMetadata")}function OT(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class kT{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Si=i,this.Di=r}static Ci(e,t){let i=Gt(),r=Gt();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new kT(e,t.fromCache,i,r)}}class bV{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,i,r){return this.ki(e,t).next(a=>a||this.Mi(e,t,r,i)).next(a=>a||this.Oi(e,t))}ki(e,t){if(sL(t))return ce.resolve(null);let i=eo(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=AD(t,null,"F"),i=eo(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const c=Gt(...a);return this.Ni.getDocuments(e,c).next(h=>this.indexManager.getMinOffset(e,i).next(y=>{const w=this.Fi(t,h);return this.$i(t,w,c,y.readTime)?this.ki(e,AD(t,null,"F")):this.Bi(e,w,t,y)}))})))}Mi(e,t,i,r){return sL(t)||r.isEqual(Ot.min())?this.Oi(e,t):this.Ni.getDocuments(e,i).next(a=>{const c=this.Fi(t,a);return this.$i(t,c,i,r)?this.Oi(e,t):(rT()<=uh.in.DEBUG&&He("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),mT(t)),this.Bi(e,c,t,P1(r,-1)))})}Fi(e,t){let i=new On(lL(e));return t.forEach((r,a)=>{yT(e,a)&&(i=i.add(a))}),i}$i(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}Oi(e,t){return rT()<=uh.in.DEBUG&&He("QueryEngine","Using full collection scan to execute query:",mT(t)),this.Ni.getDocumentsMatchingQuery(e,t,To.min())}Bi(e,t,i,r){return this.Ni.getDocumentsMatchingQuery(e,i,r).next(a=>(t.forEach(c=>{a=a.insert(c.key,c)}),a))}}class H3{constructor(e,t,i,r){this.persistence=e,this.Li=t,this.It=r,this.Ui=new Ii(Bt),this.qi=new bh(a=>Dp(a),fb),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(i)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yV(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function wV(n,e,t,i){return new H3(n,e,t,i)}function CV(n,e){return FT.apply(this,arguments)}function FT(){return FT=(0,Ee.Z)(function*(n,e){const t=et(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(a=>(r=a,t.Qi(e),t.mutationQueue.getAllMutationBatches(i))).next(a=>{const c=[],h=[];let y=Gt();for(const w of r){c.push(w.batchId);for(const x of w.mutations)y=y.add(x.key)}for(const w of a){h.push(w.batchId);for(const x of w.mutations)y=y.add(x.key)}return t.localDocuments.getDocuments(i,y).next(w=>({ji:w,removedBatchIds:c,addedBatchIds:h}))})})}),FT.apply(this,arguments)}function G3(n,e){const t=et(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),a=t.Gi.newChangeBuffer({trackRemovals:!0});return function(c,h,y,w){const x=y.batch,T=x.keys();let P=ce.resolve();return T.forEach(V=>{P=P.next(()=>w.getEntry(h,V)).next(U=>{const Q=y.docVersions.get(V);Ft(null!==Q),U.version.compareTo(Q)<0&&(x.applyToRemoteDocument(U,y),U.isValidDocument()&&(U.setReadTime(y.commitVersion),w.addEntry(U)))})}),P.next(()=>c.mutationQueue.removeMutationBatch(h,x))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let h=Gt();for(let y=0;y<c.mutationResults.length;++y)c.mutationResults[y].transformResults.length>0&&(h=h.add(c.batch.mutations[y].key));return h}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function EV(n){const e=et(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function $3(n,e){const t=et(n),i=e.snapshotVersion;let r=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=t.Gi.newChangeBuffer({trackRemovals:!0});r=t.Ui;const h=[];e.targetChanges.forEach((x,T)=>{const P=r.get(T);if(!P)return;h.push(t.Cs.removeMatchingKeys(a,x.removedDocuments,T).next(()=>t.Cs.addMatchingKeys(a,x.addedDocuments,T)));let V=P.withSequenceNumber(a.currentSequenceNumber);var U,Q,_e;e.targetMismatches.has(T)?V=V.withResumeToken(ur.EMPTY_BYTE_STRING,Ot.min()).withLastLimboFreeSnapshotVersion(Ot.min()):x.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(x.resumeToken,i)),r=r.insert(T,V),Q=V,_e=x,(0===(U=P).resumeToken.approximateByteSize()||Q.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=3e8||_e.addedDocuments.size+_e.modifiedDocuments.size+_e.removedDocuments.size>0)&&h.push(t.Cs.updateTargetData(a,V))});let y=to(),w=Gt();if(e.documentUpdates.forEach(x=>{e.resolvedLimboDocuments.has(x)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(a,x))}),h.push(DV(a,c,e.documentUpdates).next(x=>{y=x.Wi,w=x.zi})),!i.isEqual(Ot.min())){const x=t.Cs.getLastRemoteSnapshotVersion(a).next(T=>t.Cs.setTargetsMetadata(a,a.currentSequenceNumber,i));h.push(x)}return ce.waitFor(h).next(()=>c.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,y,w)).next(()=>y)}).then(a=>(t.Ui=r,a))}function DV(n,e,t){let i=Gt(),r=Gt();return t.forEach(a=>i=i.add(a)),e.getEntries(n,i).next(a=>{let c=to();return t.forEach((h,y)=>{const w=a.get(h);y.isFoundDocument()!==w.isFoundDocument()&&(r=r.add(h)),y.isNoDocument()&&y.version.isEqual(Ot.min())?(e.removeEntry(h,y.readTime),c=c.insert(h,y)):!w.isValidDocument()||y.version.compareTo(w.version)>0||0===y.version.compareTo(w.version)&&w.hasPendingWrites?(e.addEntry(y),c=c.insert(h,y)):He("LocalStore","Ignoring outdated watch update for ",h,". Current version:",w.version," Watch version:",y.version)}),{Wi:c,zi:r}})}function z3(n,e){const t=et(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Ym(n,e){const t=et(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Cs.getTargetData(i,e).next(a=>a?(r=a,ce.resolve(r)):t.Cs.allocateTargetId(i).next(c=>(r=new wh(e,c,0,i.currentSequenceNumber),t.Cs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Ui.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(i.targetId,i),t.qi.set(e,i.targetId)),i})}function Zm(n,e,t){return PT.apply(this,arguments)}function PT(){return PT=(0,Ee.Z)(function*(n,e,t){const i=et(n),r=i.Ui.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",a,c=>i.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!ph(c))throw c;He("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ui=i.Ui.remove(e),i.qi.delete(r.target)}),PT.apply(this,arguments)}function GD(n,e,t){const i=et(n);let r=Ot.min(),a=Gt();return i.persistence.runTransaction("Execute query","readonly",c=>function(h,y,w){const x=et(h),T=x.qi.get(w);return void 0!==T?ce.resolve(x.Ui.get(T)):x.Cs.getTargetData(y,w)}(i,c,eo(e)).next(h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.Cs.getMatchingKeysForTargetId(c,h.targetId).next(y=>{a=y})}).next(()=>i.Li.getDocumentsMatchingQuery(c,e,t?r:Ot.min(),t?a:Gt())).next(h=>(AV(i,aL(e),h),{documents:h,Hi:a})))}function xV(n,e){const t=et(n),i=et(t.Cs),r=t.Ui.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",a=>i.se(a,e).next(c=>c?c.target:null))}function IV(n,e){const t=et(n),i=t.Ki.get(e)||Ot.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.Gi.getAllFromCollectionGroup(r,e,P1(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(AV(t,e,r),r))}function AV(n,e,t){let i=Ot.min();t.forEach((r,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.Ki.set(e,i)}function NT(){return NT=(0,Ee.Z)(function*(n,e,t,i){const r=et(n);let a=Gt(),c=to();for(const w of t){const x=e.Ji(w.metadata.name);w.document&&(a=a.add(x));const T=e.Yi(w);T.setReadTime(e.Xi(w.metadata.readTime)),c=c.insert(x,T)}const h=r.Gi.newChangeBuffer({trackRemovals:!0}),y=yield Ym(r,(w=i,eo(Vm(dn.fromString(`__bundle__/docs/${w}`)))));var w;return r.persistence.runTransaction("Apply bundle documents","readwrite",w=>DV(w,h,c).next(x=>(h.apply(w),x)).next(x=>r.Cs.removeMatchingKeysForTargetId(w,y.targetId).next(()=>r.Cs.addMatchingKeys(w,a,y.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(w,x.Wi,x.zi)).next(()=>x.Wi)))}),NT.apply(this,arguments)}function W3(n,e){return LT.apply(this,arguments)}function LT(){return LT=(0,Ee.Z)(function*(n,e,t=Gt()){const i=yield Ym(n,eo(IT(e.bundledQuery))),r=et(n);return r.persistence.runTransaction("Save named query","readwrite",a=>{const c=Cr(e.readTime);if(i.snapshotVersion.compareTo(c)>=0)return r.Ns.saveNamedQuery(a,e);const h=i.withResumeToken(ur.EMPTY_BYTE_STRING,c);return r.Ui=r.Ui.insert(h.targetId,h),r.Cs.updateTargetData(a,h).next(()=>r.Cs.removeMatchingKeysForTargetId(a,i.targetId)).next(()=>r.Cs.addMatchingKeys(a,t,i.targetId)).next(()=>r.Ns.saveNamedQuery(a,e))})}),LT.apply(this,arguments)}function SV(n,e){return`firestore_clients_${n}_${e}`}function MV(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function VT(n,e){return`firestore_targets_${n}_${e}`}class $D{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static Zi(e,t,i){const r=JSON.parse(i);let a,c="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(a=new Pe(r.error.code,r.error.message))),c?new $D(e,t,r.state,a):(Ni("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ob{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Zi(e,t){const i=JSON.parse(t);let r,a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&(a="string"==typeof i.error.message&&"string"==typeof i.error.code,a&&(r=new Pe(i.error.code,i.error.message))),a?new Ob(e,i.state,r):(Ni("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class zD{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,a=RD();for(let c=0;r&&c<i.activeTargetIds.length;++c)r=$1(i.activeTargetIds[c]),a=a.add(i.activeTargetIds[c]);return r?new zD(e,a):(Ni("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class BT{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new BT(t.clientId,t.onlineState):(Ni("SharedClientState",`Failed to parse online state: ${e}`),null)}}class UT{constructor(){this.activeTargetIds=RD()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jT{constructor(e,t,i,r,a){this.window=e,this.Hs=t,this.persistenceKey=i,this.sr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Ii(Bt),this.started=!1,this.cr=[];const c=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=SV(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new UT),this.lr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ee.Z)(function*(){const t=yield e.syncEngine.vi();for(const r of t){if(r===e.sr)continue;const a=e.getItem(SV(e.persistenceKey,r));if(a){const c=zD.Zi(r,a);c&&(e.ur=e.ur.insert(c.clientId,c))}}e.gr();const i=e.storage.getItem(e.wr);if(i){const r=e.yr(i);r&&e.pr(r)}for(const r of e.cr)e.rr(r);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,i){this.Tr(e,t,i),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(VT(this.persistenceKey,e));if(i){const r=Ob.Zi(e,i);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(VT(this.persistenceKey,e))}updateQueryState(e,t,i){this.Rr(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Er(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return He("SharedClientState","READ",e,t),t}setItem(e,t){He("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){He("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const i=e;if(i.storageArea===this.storage){if(He("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ar)return void Ni("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,Ee.Z)(function*(){if(t.started){if(null!==i.key)if(t.lr.test(i.key)){if(null==i.newValue){const r=t.vr(i.key);return t.Vr(r,null)}{const r=t.Sr(i.key,i.newValue);if(r)return t.Vr(r.clientId,r)}}else if(t.dr.test(i.key)){if(null!==i.newValue){const r=t.Dr(i.key,i.newValue);if(r)return t.Cr(r)}}else if(t._r.test(i.key)){if(null!==i.newValue){const r=t.Nr(i.key,i.newValue);if(r)return t.kr(r)}}else if(i.key===t.wr){if(null!==i.newValue){const r=t.yr(i.newValue);if(r)return t.pr(r)}}else if(i.key===t.hr){const r=function(a){let c=Js.at;if(null!=a)try{const h=JSON.parse(a);Ft("number"==typeof h),c=h}catch(h){Ni("SharedClientState","Failed to read sequence number from WebStorage",h)}return c}(i.newValue);r!==Js.at&&t.sequenceNumberHandler(r)}else if(i.key===t.mr){const r=t.Mr(i.newValue);yield Promise.all(r.map(a=>t.syncEngine.Or(a)))}}else t.cr.push(i)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,i){const r=new $D(this.currentUser,e,t,i),a=MV(this.persistenceKey,this.currentUser,e);this.setItem(a,r.tr())}Er(e){const t=MV(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,i){const r=VT(this.persistenceKey,e),a=new Ob(e,t,i);this.setItem(r,a.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const i=this.vr(e);return zD.Zi(i,t)}Dr(e,t){const i=this.dr.exec(e),r=Number(i[1]);return $D.Zi(new br(void 0!==i[2]?i[2]:null),r,t)}Nr(e,t){const i=this._r.exec(e),r=Number(i[1]);return Ob.Zi(r,t)}yr(e){return BT.Zi(e)}Mr(e){return JSON.parse(e)}Cr(e){var t=this;return(0,Ee.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);He("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const i=t?this.ur.insert(e,t):this.ur.remove(e),r=this.Ir(this.ur),a=this.Ir(i),c=[],h=[];return a.forEach(y=>{r.has(y)||c.push(y)}),r.forEach(y=>{a.has(y)||h.push(y)}),this.syncEngine.Br(c,h).then(()=>{this.ur=i})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=RD();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class TV{constructor(){this.Lr=new UT,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,i){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new UT,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Y3{qr(e){}shutdown(){}}class RV{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){He("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){He("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Z3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class K3{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class Q3 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,i,r,a){const c=this.ao(e,t);He("RestConnection","Sending: ",c,i);const h={};return this.ho(h,r,a),this.lo(e,c,h,i).then(y=>(He("RestConnection","Received: ",y),y),y=>{throw yp("RestConnection",`${e} failed with error: `,y,"url: ",c,"request:",i),y})}fo(e,t,i,r,a,c){return this.co(e,t,i,r,a)}ho(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+km,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,a)=>e[a]=r),i&&i.headers.forEach((r,a)=>e[a]=r)}ao(e,t){return`${this.oo}/v1/${t}:${Z3[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,t,i,r){return new Promise((a,c)=>{const h=new YG;h.listenOnce(zG.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case iT.NO_ERROR:const w=h.getResponseJson();He("Connection","XHR received:",JSON.stringify(w)),a(w);break;case iT.TIMEOUT:He("Connection",'RPC "'+e+'" timed out'),c(new Pe(pe.DEADLINE_EXCEEDED,"Request time out"));break;case iT.HTTP_ERROR:const x=h.getStatus();if(He("Connection",'RPC "'+e+'" failed with status:',x,"response text:",h.getResponseText()),x>0){const T=h.getResponseJson().error;if(T&&T.status&&T.message){const P=function(V){const U=V.toLowerCase().replace(/_/g,"-");return Object.values(pe).indexOf(U)>=0?U:pe.UNKNOWN}(T.status);c(new Pe(P,T.message))}else c(new Pe(pe.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new Pe(pe.UNAVAILABLE,"Connection failed."));break;default:dt()}}finally{He("Connection",'RPC "'+e+'" completed.')}});const y=JSON.stringify(r);h.send(t,"POST",y,i,15)})}_o(e,t,i){const r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=GG(),c=$G(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new WG({})),this.ho(h.initMessageHeaders,t,i),h.encodeInitMessageHeaders=!0;const y=r.join("");He("Connection","Creating WebChannel: "+y,h);const w=a.createWebChannel(y,h);let x=!1,T=!1;const P=new K3({Hr:U=>{T?He("Connection","Not sending because WebChannel is closed:",U):(x||(He("Connection","Opening WebChannel transport."),w.open(),x=!0),He("Connection","WebChannel sending:",U),w.send(U))},Jr:()=>w.close()}),V=(U,Q,_e)=>{U.listen(Q,xe=>{try{_e(xe)}catch(Ke){setTimeout(()=>{throw Ke},0)}})};return V(w,_D.EventType.OPEN,()=>{T||He("Connection","WebChannel transport opened.")}),V(w,_D.EventType.CLOSE,()=>{T||(T=!0,He("Connection","WebChannel transport closed"),P.io())}),V(w,_D.EventType.ERROR,U=>{T||(T=!0,yp("Connection","WebChannel transport errored:",U),P.io(new Pe(pe.UNAVAILABLE,"The operation could not be completed")))}),V(w,_D.EventType.MESSAGE,U=>{var Q;if(!T){const _e=U.data[0];Ft(!!_e);const xe=_e,Ke=xe.error||(null===(Q=xe[0])||void 0===Q?void 0:Q.error);if(Ke){He("Connection","WebChannel received error:",Ke);const ft=Ke.status;let Je=function(Nt){const fn=Xi[Nt];if(void 0!==fn)return EL(fn)}(ft),Ct=Ke.message;void 0===Je&&(Je=pe.INTERNAL,Ct="Unknown error status: "+ft+" with message "+Ke.message),T=!0,P.io(new Pe(Je,Ct)),w.close()}else He("Connection","WebChannel received:",_e),P.ro(_e)}}),V(c,qG.STAT_EVENT,U=>{U.stat===M1.PROXY?He("Connection","Detected buffering proxy"):U.stat===M1.NOPROXY&&He("Connection","Detected no buffering proxy")}),setTimeout(()=>{P.so()},0),P}}function OV(){return"undefined"!=typeof window?window:null}function qD(){return"undefined"!=typeof document?document:null}function kb(n){return new j$(n,!0)}class HT{constructor(e,t,i=1e3,r=1.5,a=6e4){this.Hs=e,this.timerId=t,this.wo=i,this.mo=r,this.yo=a,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const t=Math.floor(this.po+this.Ro()),i=Math.max(0,Date.now()-this.To),r=Math.max(0,t-i);r>0&&He("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.po} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,r,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class kV{constructor(e,t,i,r,a,c,h,y){this.Hs=e,this.Po=i,this.vo=r,this.Vo=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=y,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new HT(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return(0,Ee.Z)(function*(){e.No()&&(yield e.close(0))})()}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,Ee.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var i=this;return(0,Ee.Z)(function*(){i.Lo(),i.Uo(),i.xo.cancel(),i.So++,4!==e?i.xo.reset():t&&t.code===pe.RESOURCE_EXHAUSTED?(Ni(t.toString()),Ni("Using maximum backoff delay to prevent overloading the backend."),i.xo.Eo()):t&&t.code===pe.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.qo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.So===t&&this.Go(i,r)},i=>{e(()=>{const r=new Pe(pe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Qo(r)})})}Go(e,t){const i=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{i(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(r=>{i(()=>this.Qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Mo(){var e=this;this.state=5,this.xo.Ao((0,Ee.Z)(function*(){e.state=0,e.start()}))}Qo(e){return He("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(He("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class X3 extends kV{constructor(e,t,i,r,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,c),this.It=a}jo(e,t){return this.Vo._o("Listen",e,t)}onMessage(e){this.xo.reset();const t=function $$(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(y=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===y?1:"REMOVE"===y?2:"CURRENT"===y?3:"RESET"===y?4:dt(),r=e.targetChange.targetIds||[],a=function(y,w){return y.gt?(Ft(void 0===w||"string"==typeof w),ur.fromBase64String(w||"")):(Ft(void 0===w||w instanceof Uint8Array),ur.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&function(y){const w=void 0===y.code?pe.UNKNOWN:EL(y.code);return new Pe(w,y.message||"")}(c);t=new SL(i,r,a,h||null)}else if("documentChange"in e){const i=e.documentChange,r=vu(n,i.document.name),a=Cr(i.document.updateTime),c=new Gr({mapValue:{fields:i.document.fields}}),h=Yn.newFoundDocument(r,a,c);t=new OD(i.targetIds||[],i.removedTargetIds||[],h.key,h)}else if("documentDelete"in e){const i=e.documentDelete,r=vu(n,i.document),a=i.readTime?Cr(i.readTime):Ot.min(),c=Yn.newNoDocument(r,a);t=new OD([],i.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const i=e.documentRemove,r=vu(n,i.document);t=new OD([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return dt();{const i=e.filter,a=new k$(i.count||0);t=new AL(i.targetId,a)}}var y;return t}(this.It,e),i=function(r){if(!("targetChange"in r))return Ot.min();const a=r.targetChange;return a.targetIds&&a.targetIds.length?Ot.min():a.readTime?Cr(a.readTime):Ot.min()}(e);return this.listener.Wo(t,i)}zo(e){const t={};t.database=Eb(this.It),t.addTarget=function(r,a){let c;const h=a.target;return c=xD(h)?{documents:VL(r,h)}:{query:BL(r,h)},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?c.resumeToken=OL(r,a.resumeToken):a.snapshotVersion.compareTo(Ot.min())>0&&(c.readTime=wb(r,a.snapshotVersion.toTimestamp())),c}(this.It,e);const i=function q$(n,e){const t=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return dt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Bo(t)}Ho(e){const t={};t.database=Eb(this.It),t.removeTarget=e,this.Bo(t)}}class J3 extends kV{constructor(e,t,i,r,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,c),this.It=a,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.Vo._o("Write",e,t)}onMessage(e){if(Ft(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function z$(n,e){return n&&n.length>0?(Ft(void 0!==e),n.map(t=>function(i,r){let a=Cr(i.updateTime?i.updateTime:r);return a.isEqual(Ot.min())&&(a=Cr(r)),new T$(a,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=Cr(e.commitTime);return this.listener.Zo(i,t)}return Ft(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Eb(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>Db(this.It,i))};this.Bo(t)}}class ez extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.Vo=i,this.It=r,this.nu=!1}su(){if(this.nu)throw new Pe(pe.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.Vo.co(e,t,i,r,a)).catch(r=>{throw"FirebaseError"===r.name?(r.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Pe(pe.UNKNOWN,r.toString())})}fo(e,t,i,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.Vo.fo(e,t,i,a,c,r)).catch(a=>{throw"FirebaseError"===a.name?(a.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Pe(pe.UNKNOWN,a.toString())})}terminate(){this.nu=!0}}class tz{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Ni(t),this.ou=!1):He("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class nz{constructor(e,t,i,r,a){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.qr(h=>{i.enqueueAndForget((0,Ee.Z)(function*(){var y;Dh(c)&&(He("RemoteStore","Restarting streams for network reachability change."),yield(y=(0,Ee.Z)(function*(w){const x=et(w);x._u.add(4),yield Km(x),x.gu.set("Unknown"),x._u.delete(4),yield Fb(x)}),function(w){return y.apply(this,arguments)})(c))}))}),this.gu=new tz(i,r)}}function Fb(n){return GT.apply(this,arguments)}function GT(){return GT=(0,Ee.Z)(function*(n){if(Dh(n))for(const e of n.wu)yield e(!0)}),GT.apply(this,arguments)}function Km(n){return $T.apply(this,arguments)}function $T(){return $T=(0,Ee.Z)(function*(n){for(const e of n.wu)yield e(!1)}),$T.apply(this,arguments)}function WD(n,e){const t=et(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),WT(t)?qT(t):Xm(t).ko()&&zT(t,e))}function Pb(n,e){const t=et(n),i=Xm(t);t.du.delete(e),i.ko()&&FV(t,e),0===t.du.size&&(i.ko()?i.Fo():Dh(t)&&t.gu.set("Unknown"))}function zT(n,e){n.yu.Ot(e.targetId),Xm(n).zo(e)}function FV(n,e){n.yu.Ot(e),Xm(n).Ho(e)}function qT(n){n.yu=new V$({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),se:e=>n.du.get(e)||null}),Xm(n).start(),n.gu.uu()}function WT(n){return Dh(n)&&!Xm(n).No()&&n.du.size>0}function Dh(n){return 0===et(n)._u.size}function PV(n){n.yu=void 0}function iz(n){return YT.apply(this,arguments)}function YT(){return YT=(0,Ee.Z)(function*(n){n.du.forEach((e,t)=>{zT(n,e)})}),YT.apply(this,arguments)}function rz(n,e){return ZT.apply(this,arguments)}function ZT(){return ZT=(0,Ee.Z)(function*(n,e){PV(n),WT(n)?(n.gu.hu(e),qT(n)):n.gu.set("Unknown")}),ZT.apply(this,arguments)}function sz(n,e,t){return KT.apply(this,arguments)}function KT(){return KT=(0,Ee.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof SL&&2===e.state&&e.cause)try{yield(i=(0,Ee.Z)(function*(r,a){const c=a.cause;for(const h of a.targetIds)r.du.has(h)&&(yield r.remoteSyncer.rejectListen(h,c),r.du.delete(h),r.yu.removeTarget(h))}),function(r,a){return i.apply(this,arguments)})(n,e)}catch(i){He("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield YD(n,i)}else if(e instanceof OD?n.yu.Gt(e):e instanceof AL?n.yu.Yt(e):n.yu.Wt(e),!t.isEqual(Ot.min()))try{const i=yield EV(n.localStore);t.compareTo(i)>=0&&(yield function(r,a){const c=r.yu.te(a);return c.targetChanges.forEach((h,y)=>{if(h.resumeToken.approximateByteSize()>0){const w=r.du.get(y);w&&r.du.set(y,w.withResumeToken(h.resumeToken,a))}}),c.targetMismatches.forEach(h=>{const y=r.du.get(h);if(!y)return;r.du.set(h,y.withResumeToken(ur.EMPTY_BYTE_STRING,y.snapshotVersion)),FV(r,h);const w=new wh(y.target,h,1,y.sequenceNumber);zT(r,w)}),r.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(i){He("RemoteStore","Failed to raise snapshot:",i),yield YD(n,i)}var i}),KT.apply(this,arguments)}function YD(n,e,t){return QT.apply(this,arguments)}function QT(){return QT=(0,Ee.Z)(function*(n,e,t){if(!ph(e))throw e;n._u.add(1),yield Km(n),n.gu.set("Offline"),t||(t=()=>EV(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ee.Z)(function*(){He("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield Fb(n)}))}),QT.apply(this,arguments)}function NV(n,e){return e().catch(t=>YD(n,t,e))}function Qm(n){return XT.apply(this,arguments)}function XT(){return XT=(0,Ee.Z)(function*(n){const e=et(n),t=xh(e);let i=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;oz(e);)try{const r=yield z3(e.localStore,i);if(null===r){0===e.fu.length&&t.Fo();break}i=r.batchId,az(e,r)}catch(r){yield YD(e,r)}LV(e)&&VV(e)}),XT.apply(this,arguments)}function oz(n){return Dh(n)&&n.fu.length<10}function az(n,e){n.fu.push(e);const t=xh(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function LV(n){return Dh(n)&&!xh(n).No()&&n.fu.length>0}function VV(n){xh(n).start()}function lz(n){return JT.apply(this,arguments)}function JT(){return JT=(0,Ee.Z)(function*(n){xh(n).eu()}),JT.apply(this,arguments)}function uz(n){return eR.apply(this,arguments)}function eR(){return eR=(0,Ee.Z)(function*(n){const e=xh(n);for(const t of n.fu)e.Xo(t.mutations)}),eR.apply(this,arguments)}function cz(n,e,t){return tR.apply(this,arguments)}function tR(){return tR=(0,Ee.Z)(function*(n,e,t){const i=n.fu.shift(),r=DT.from(i,e,t);yield NV(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Qm(n)}),tR.apply(this,arguments)}function dz(n,e){return nR.apply(this,arguments)}function nR(){return nR=(0,Ee.Z)(function*(n,e){var t;e&&xh(n).Yo&&(yield(t=(0,Ee.Z)(function*(i,r){if(CL(a=r.code)&&a!==pe.ABORTED){const c=i.fu.shift();xh(i).Oo(),yield NV(i,()=>i.remoteSyncer.rejectFailedWrite(c.batchId,r)),yield Qm(i)}var a}),function(i,r){return t.apply(this,arguments)})(n,e)),LV(n)&&VV(n)}),nR.apply(this,arguments)}function BV(n,e){return iR.apply(this,arguments)}function iR(){return iR=(0,Ee.Z)(function*(n,e){const t=et(n);t.asyncQueue.verifyOperationInProgress(),He("RemoteStore","RemoteStore received new credentials");const i=Dh(t);t._u.add(3),yield Km(t),i&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield Fb(t)}),iR.apply(this,arguments)}function rR(n,e){return sR.apply(this,arguments)}function sR(){return sR=(0,Ee.Z)(function*(n,e){const t=et(n);e?(t._u.delete(2),yield Fb(t)):e||(t._u.add(2),yield Km(t),t.gu.set("Unknown"))}),sR.apply(this,arguments)}function Xm(n){return n.pu||(n.pu=function(e,t,i){const r=et(e);return r.su(),new X3(t,r.Vo,r.authCredentials,r.appCheckCredentials,r.It,i)}(n.datastore,n.asyncQueue,{Yr:iz.bind(null,n),Zr:rz.bind(null,n),Wo:sz.bind(null,n)}),n.wu.push(function(){var e=(0,Ee.Z)(function*(t){t?(n.pu.Oo(),WT(n)?qT(n):n.gu.set("Unknown")):(yield n.pu.stop(),PV(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function xh(n){return n.Iu||(n.Iu=function(e,t,i){const r=et(e);return r.su(),new J3(t,r.Vo,r.authCredentials,r.appCheckCredentials,r.It,i)}(n.datastore,n.asyncQueue,{Yr:lz.bind(null,n),Zr:dz.bind(null,n),tu:uz.bind(null,n),Zo:cz.bind(null,n)}),n.wu.push(function(){var e=(0,Ee.Z)(function*(t){t?(n.Iu.Oo(),yield Qm(n)):(yield n.Iu.stop(),n.fu.length>0&&(He("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class oR{constructor(e,t,i,r,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=a,this.deferred=new wr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,i,r,a){const c=Date.now()+i,h=new oR(e,t,c,r,a);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Pe(pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jm(n,e){if(Ni("AsyncQueue",`${e}: ${n}`),ph(n))return new Pe(pe.UNAVAILABLE,`${e}: ${n}`);throw n}class ey{constructor(e){this.comparator=e?(t,i)=>e(t,i)||Xe.comparator(t.key,i.key):(t,i)=>Xe.comparator(t.key,i.key),this.keyedMap=yb(),this.sortedSet=new Ii(this.comparator)}static emptySet(e){return new ey(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ey)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(!r.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new ey;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class UV{constructor(){this.Tu=new Ii(Xe.comparator)}track(e){const t=e.doc.key,i=this.Tu.get(t);i?0!==e.type&&3===i.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==i.type?this.Tu=this.Tu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Tu=this.Tu.remove(t):1===e.type&&2===i.type?this.Tu=this.Tu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):dt():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,i)=>{e.push(i)}),e}}class ty{constructor(e,t,i,r,a,c,h,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=y}static fromInitialDocuments(e,t,i,r){const a=[];return t.forEach(c=>{a.push({type:0,doc:c})}),new ty(e,t,ey.emptySet(t),a,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pb(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class hz{constructor(){this.Au=void 0,this.listeners=[]}}class fz{constructor(){this.queries=new bh(e=>oL(e),pb),this.onlineState="Unknown",this.Ru=new Set}}function aR(n,e){return lR.apply(this,arguments)}function lR(){return lR=(0,Ee.Z)(function*(n,e){const t=et(n),i=e.query;let r=!1,a=t.queries.get(i);if(a||(r=!0,a=new hz),r)try{a.Au=yield t.onListen(i)}catch(c){const h=Jm(c,`Initialization of query '${mT(e.query)}' failed`);return void e.onError(h)}t.queries.set(i,a),a.listeners.push(e),e.bu(t.onlineState),a.Au&&e.Pu(a.Au)&&dR(t)}),lR.apply(this,arguments)}function uR(n,e){return cR.apply(this,arguments)}function cR(){return cR=(0,Ee.Z)(function*(n,e){const t=et(n),i=e.query;let r=!1;const a=t.queries.get(i);if(a){const c=a.listeners.indexOf(e);c>=0&&(a.listeners.splice(c,1),r=0===a.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),cR.apply(this,arguments)}function pz(n,e){const t=et(n);let i=!1;for(const r of e){const c=t.queries.get(r.query);if(c){for(const h of c.listeners)h.Pu(r)&&(i=!0);c.Au=r}}i&&dR(t)}function gz(n,e,t){const i=et(n),r=i.queries.get(e);if(r)for(const a of r.listeners)a.onError(t);i.queries.delete(e)}function dR(n){n.Ru.forEach(e=>{e.next()})}class hR{constructor(e,t,i){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=i||{}}Pu(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new ty(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||!(this.options.Nu&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=ty.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}class mz{constructor(e,t){this.payload=e,this.byteLength=t}ku(){return"metadata"in this.payload}}class jV{constructor(e){this.It=e}Ji(e){return vu(this.It,e)}Yi(e){return e.metadata.exists?LL(this.It,e.document,!1):Yn.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Cr(e)}}class yz{constructor(e,t,i){this.Mu=e,this.localStore=t,this.It=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=HV(e)}Ou(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const i=dn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Fu(e){const t=new Map,i=new jV(this.It);for(const r of e)if(r.metadata.queries){const a=i.Ji(r.metadata.name);for(const c of r.metadata.queries){const h=(t.get(c)||Gt()).add(a);t.set(c,h)}}return t}complete(){var e=this;return(0,Ee.Z)(function*(){const t=yield function q3(n,e,t,i){return NT.apply(this,arguments)}(e.localStore,new jV(e.It),e.documents,e.Mu.id),i=e.Fu(e.documents);for(const r of e.queries)yield W3(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,$u:e.collectionGroups,Bu:t}})()}}function HV(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class GV{constructor(e){this.key=e}}class $V{constructor(e){this.key=e}}class zV{constructor(e,t){this.query=e,this.Lu=t,this.Uu=null,this.current=!1,this.qu=Gt(),this.mutatedKeys=Gt(),this.Ku=lL(e),this.Gu=new ey(this.Ku)}get Qu(){return this.Lu}ju(e,t){const i=t?t.Wu:new UV,r=t?t.Gu:this.Gu;let a=t?t.mutatedKeys:this.mutatedKeys,c=r,h=!1;const y="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,w="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((x,T)=>{const P=r.get(x),V=yT(this.query,T)?T:null,U=!!P&&this.mutatedKeys.has(P.key),Q=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let _e=!1;P&&V?P.data.isEqual(V.data)?U!==Q&&(i.track({type:3,doc:V}),_e=!0):this.zu(P,V)||(i.track({type:2,doc:V}),_e=!0,(y&&this.Ku(V,y)>0||w&&this.Ku(V,w)<0)&&(h=!0)):!P&&V?(i.track({type:0,doc:V}),_e=!0):P&&!V&&(i.track({type:1,doc:P}),_e=!0,(y||w)&&(h=!0)),_e&&(V?(c=c.add(V),a=Q?a.add(x):a.delete(x)):(c=c.delete(x),a=a.delete(x)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const x="F"===this.query.limitType?c.last():c.first();c=c.delete(x.key),a=a.delete(x.key),i.track({type:1,doc:x})}return{Gu:c,Wu:i,$i:h,mutatedKeys:a}}zu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const a=e.Wu.Eu();a.sort((w,x)=>function(T,P){const V=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt()}};return V(T)-V(P)}(w.type,x.type)||this.Ku(w.doc,x.doc)),this.Hu(i);const c=t?this.Ju():[],h=0===this.qu.size&&this.current?1:0,y=h!==this.Uu;return this.Uu=h,0!==a.length||y?{snapshot:new ty(this.query,e.Gu,r,a,e.mutatedKeys,0===h,y,!1),Yu:c}:{Yu:c}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new UV,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(t=>this.Lu=this.Lu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Lu=this.Lu.delete(t)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.qu;this.qu=Gt(),this.Gu.forEach(i=>{this.Xu(i.key)&&(this.qu=this.qu.add(i.key))});const t=[];return e.forEach(i=>{this.qu.has(i)||t.push(new $V(i))}),this.qu.forEach(i=>{e.has(i)||t.push(new GV(i))}),t}Zu(e){this.Lu=e.Hi,this.qu=Gt();const t=this.ju(e.documents);return this.applyChanges(t,!0)}tc(){return ty.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}class _z{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class vz{constructor(e){this.key=e,this.ec=!1}}class bz{constructor(e,t,i,r,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.nc={},this.sc=new bh(h=>oL(h),pb),this.ic=new Map,this.rc=new Set,this.oc=new Ii(Xe.comparator),this.uc=new Map,this.cc=new MT,this.ac={},this.hc=new Map,this.lc=kp.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function wz(n,e){return fR.apply(this,arguments)}function fR(){return fR=(0,Ee.Z)(function*(n,e){const t=NR(n);let i,r;const a=t.sc.get(e);if(a)i=a.targetId,t.sharedClientState.addLocalQueryTarget(i),r=a.view.tc();else{const c=yield Ym(t.localStore,eo(e));t.isPrimaryClient&&WD(t.remoteStore,c);const h=t.sharedClientState.addLocalQueryTarget(c.targetId);i=c.targetId,r=yield pR(t,e,i,"current"===h)}return r}),fR.apply(this,arguments)}function pR(n,e,t,i){return gR.apply(this,arguments)}function gR(){return gR=(0,Ee.Z)(function*(n,e,t,i){n.dc=(x,T,P)=>{return(V=(0,Ee.Z)(function*(U,Q,_e,xe){let Ke=Q.view.ju(_e);Ke.$i&&(Ke=yield GD(U.localStore,Q.query,!1).then(({documents:Ct})=>Q.view.ju(Ct,Ke)));const ft=xe&&xe.targetChanges.get(Q.targetId),Je=Q.view.applyChanges(Ke,U.isPrimaryClient,ft);return xR(U,Q.targetId,Je.Yu),Je.snapshot}),function(U,Q,_e,xe){return V.apply(this,arguments)})(n,x,T,P);var V};const r=yield GD(n.localStore,e,!0),a=new zV(e,r.Hi),c=a.ju(r.documents),h=bb.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState),y=a.applyChanges(c,n.isPrimaryClient,h);xR(n,t,y.Yu);const w=new _z(e,t,a);return n.sc.set(e,w),n.ic.has(t)?n.ic.get(t).push(e):n.ic.set(t,[e]),y.snapshot}),gR.apply(this,arguments)}function Cz(n,e){return mR.apply(this,arguments)}function mR(){return mR=(0,Ee.Z)(function*(n,e){const t=et(n),i=t.sc.get(e),r=t.ic.get(i.targetId);if(r.length>1)return t.ic.set(i.targetId,r.filter(a=>!pb(a,e))),void t.sc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Zm(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),Pb(t.remoteStore,i.targetId),ny(t,i.targetId)}).catch(fh))):(ny(t,i.targetId),yield Zm(t.localStore,i.targetId,!0))}),mR.apply(this,arguments)}function yR(){return yR=(0,Ee.Z)(function*(n,e,t){const i=LR(n);try{const r=yield function(a,c){const h=et(a),y=di.now(),w=c.reduce((P,V)=>P.add(V.key),Gt());let x,T;return h.persistence.runTransaction("Locally write mutations","readwrite",P=>{let V=to(),U=Gt();return h.Gi.getEntries(P,w).next(Q=>{V=Q,V.forEach((_e,xe)=>{xe.isValidDocument()||(U=U.add(_e))})}).next(()=>h.localDocuments.getOverlayedDocuments(P,V)).next(Q=>{x=Q;const _e=[];for(const xe of c){const Ke=O$(xe,x.get(xe.key).overlayedDocument);null!=Ke&&_e.push(new Oc(xe.key,Ke,Q1(Ke.value.mapValue),hi.exists(!0)))}return h.mutationQueue.addMutationBatch(P,y,_e,c)}).next(Q=>{T=Q;const _e=Q.applyToLocalDocumentSet(x,U);return h.documentOverlayCache.saveOverlays(P,Q.batchId,_e)})}).then(()=>({batchId:T.batchId,changes:xL(x)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(a,c,h){let y=a.ac[a.currentUser.toKey()];y||(y=new Ii(Bt)),y=y.insert(c,h),a.ac[a.currentUser.toKey()]=y}(i,r.batchId,t),yield kc(i,r.changes),yield Qm(i.remoteStore)}catch(r){const a=Jm(r,"Failed to persist write");t.reject(a)}}),yR.apply(this,arguments)}function qV(n,e){return _R.apply(this,arguments)}function _R(){return _R=(0,Ee.Z)(function*(n,e){const t=et(n);try{const i=yield $3(t.localStore,e);e.targetChanges.forEach((r,a)=>{const c=t.uc.get(a);c&&(Ft(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?c.ec=!0:r.modifiedDocuments.size>0?Ft(c.ec):r.removedDocuments.size>0&&(Ft(c.ec),c.ec=!1))}),yield kc(t,i,e)}catch(i){yield fh(i)}}),_R.apply(this,arguments)}function WV(n,e,t){const i=et(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.sc.forEach((a,c)=>{const h=c.view.bu(e);h.snapshot&&r.push(h.snapshot)}),function(a,c){const h=et(a);h.onlineState=c;let y=!1;h.queries.forEach((w,x)=>{for(const T of x.listeners)T.bu(c)&&(y=!0)}),y&&dR(h)}(i.eventManager,e),r.length&&i.nc.Wo(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function Dz(n,e,t){return vR.apply(this,arguments)}function vR(){return vR=(0,Ee.Z)(function*(n,e,t){const i=et(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.uc.get(e),a=r&&r.key;if(a){let c=new Ii(Xe.comparator);c=c.insert(a,Yn.newNoDocument(a,Ot.min()));const h=Gt().add(a),y=new vb(Ot.min(),new Map,new On(Bt),c,h);yield qV(i,y),i.oc=i.oc.remove(a),i.uc.delete(e),IR(i)}else yield Zm(i.localStore,e,!1).then(()=>ny(i,e,t)).catch(fh)}),vR.apply(this,arguments)}function xz(n,e){return bR.apply(this,arguments)}function bR(){return bR=(0,Ee.Z)(function*(n,e){const t=et(n),i=e.batch.batchId;try{const r=yield G3(t.localStore,e);DR(t,i,null),ER(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield kc(t,r)}catch(r){yield fh(r)}}),bR.apply(this,arguments)}function Iz(n,e,t){return wR.apply(this,arguments)}function wR(){return wR=(0,Ee.Z)(function*(n,e,t){const i=et(n);try{const r=yield function(a,c){const h=et(a);return h.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let w;return h.mutationQueue.lookupMutationBatch(y,c).next(x=>(Ft(null!==x),w=x.keys(),h.mutationQueue.removeMutationBatch(y,x))).next(()=>h.mutationQueue.performConsistencyCheck(y)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(y,w,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,w)).next(()=>h.localDocuments.getDocuments(y,w))})}(i.localStore,e);DR(i,e,t),ER(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield kc(i,r)}catch(r){yield fh(r)}}),wR.apply(this,arguments)}function CR(){return CR=(0,Ee.Z)(function*(n,e){const t=et(n);Dh(t.remoteStore)||He("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(a){const c=et(a);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>c.mutationQueue.getHighestUnacknowledgedBatchId(h))}(t.localStore);if(-1===i)return void e.resolve();const r=t.hc.get(i)||[];r.push(e),t.hc.set(i,r)}catch(i){const r=Jm(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),CR.apply(this,arguments)}function ER(n,e){(n.hc.get(e)||[]).forEach(t=>{t.resolve()}),n.hc.delete(e)}function DR(n,e,t){const i=et(n);let r=i.ac[i.currentUser.toKey()];if(r){const a=r.get(e);a&&(t?a.reject(t):a.resolve(),r=r.remove(e)),i.ac[i.currentUser.toKey()]=r}}function ny(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.ic.get(e))n.sc.delete(i),t&&n.nc._c(i,t);n.ic.delete(e),n.isPrimaryClient&&n.cc.ls(e).forEach(i=>{n.cc.containsKey(i)||YV(n,i)})}function YV(n,e){n.rc.delete(e.path.canonicalString());const t=n.oc.get(e);null!==t&&(Pb(n.remoteStore,t),n.oc=n.oc.remove(e),n.uc.delete(t),IR(n))}function xR(n,e,t){for(const i of t)i instanceof GV?(n.cc.addReference(i.key,e),Sz(n,i)):i instanceof $V?(He("SyncEngine","Document no longer in limbo: "+i.key),n.cc.removeReference(i.key,e),n.cc.containsKey(i.key)||YV(n,i.key)):dt()}function Sz(n,e){const t=e.key,i=t.path.canonicalString();n.oc.get(t)||n.rc.has(i)||(He("SyncEngine","New document in limbo: "+t),n.rc.add(i),IR(n))}function IR(n){for(;n.rc.size>0&&n.oc.size<n.maxConcurrentLimboResolutions;){const e=n.rc.values().next().value;n.rc.delete(e);const t=new Xe(dn.fromString(e)),i=n.lc.next();n.uc.set(i,new vz(t)),n.oc=n.oc.insert(t,i),WD(n.remoteStore,new wh(eo(Vm(t.path)),i,2,Js.at))}}function kc(n,e,t){return AR.apply(this,arguments)}function AR(){return AR=(0,Ee.Z)(function*(n,e,t){const i=et(n),r=[],a=[],c=[];var h;i.sc.isEmpty()||(i.sc.forEach((h,y)=>{c.push(i.dc(y,e,t).then(w=>{if(w){i.isPrimaryClient&&i.sharedClientState.updateQueryState(y.targetId,w.fromCache?"not-current":"current"),r.push(w);const x=kT.Ci(y.targetId,w);a.push(x)}}))}),yield Promise.all(c),i.nc.Wo(r),yield(h=(0,Ee.Z)(function*(y,w){const x=et(y);try{yield x.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>ce.forEach(w,P=>ce.forEach(P.Si,V=>x.persistence.referenceDelegate.addReference(T,P.targetId,V)).next(()=>ce.forEach(P.Di,V=>x.persistence.referenceDelegate.removeReference(T,P.targetId,V)))))}catch(T){if(!ph(T))throw T;He("LocalStore","Failed to update sequence numbers: "+T)}for(const T of w){const P=T.targetId;if(!T.fromCache){const V=x.Ui.get(P),Q=V.withLastLimboFreeSnapshotVersion(V.snapshotVersion);x.Ui=x.Ui.insert(P,Q)}}}),function(y,w){return h.apply(this,arguments)})(i.localStore,a))}),AR.apply(this,arguments)}function Mz(n,e){return SR.apply(this,arguments)}function SR(){return SR=(0,Ee.Z)(function*(n,e){const t=et(n);if(!t.currentUser.isEqual(e)){He("SyncEngine","User change. New user:",e.toKey());const i=yield CV(t.localStore,e);t.currentUser=e,(r=t).hc.forEach(c=>{c.forEach(h=>{h.reject(new Pe(pe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.hc.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield kc(t,i.ji)}var r}),SR.apply(this,arguments)}function Tz(n,e){const t=et(n),i=t.uc.get(e);if(i&&i.ec)return Gt().add(i.key);{let r=Gt();const a=t.ic.get(e);if(!a)return r;for(const c of a){const h=t.sc.get(c);r=r.unionWith(h.view.Qu)}return r}}function Rz(n,e){return MR.apply(this,arguments)}function MR(){return MR=(0,Ee.Z)(function*(n,e){const t=et(n),i=yield GD(t.localStore,e.query,!0),r=e.view.Zu(i);return t.isPrimaryClient&&xR(t,e.targetId,r.Yu),r}),MR.apply(this,arguments)}function Oz(n,e){return TR.apply(this,arguments)}function TR(){return TR=(0,Ee.Z)(function*(n,e){const t=et(n);return IV(t.localStore,e).then(i=>kc(t,i))}),TR.apply(this,arguments)}function kz(n,e,t,i){return RR.apply(this,arguments)}function RR(){return RR=(0,Ee.Z)(function*(n,e,t,i){const r=et(n),a=yield function(c,h){const y=et(c),w=et(y.mutationQueue);return y.persistence.runTransaction("Lookup mutation documents","readonly",x=>w.Tn(x,h).next(T=>T?y.localDocuments.getDocuments(x,T):ce.resolve(null)))}(r.localStore,e);var h;null!==a?("pending"===t?yield Qm(r.remoteStore):"acknowledged"===t||"rejected"===t?(DR(r,e,i||null),ER(r,e),h=e,et(et(r.localStore).mutationQueue).An(h)):dt(),yield kc(r,a)):He("SyncEngine","Cannot apply mutation batch with id: "+e)}),RR.apply(this,arguments)}function OR(){return OR=(0,Ee.Z)(function*(n,e){const t=et(n);if(NR(t),LR(t),!0===e&&!0!==t.fc){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield ZV(t,i.toArray());t.fc=!0,yield rR(t.remoteStore,!0);for(const a of r)WD(t.remoteStore,a)}else if(!1===e&&!1!==t.fc){const i=[];let r=Promise.resolve();t.ic.forEach((a,c)=>{t.sharedClientState.isLocalQueryTarget(c)?i.push(c):r=r.then(()=>(ny(t,c),Zm(t.localStore,c,!0))),Pb(t.remoteStore,c)}),yield r,yield ZV(t,i),function(a){const c=et(a);c.uc.forEach((h,y)=>{Pb(c.remoteStore,y)}),c.cc.fs(),c.uc=new Map,c.oc=new Ii(Xe.comparator)}(t),t.fc=!1,yield rR(t.remoteStore,!1)}}),OR.apply(this,arguments)}function ZV(n,e,t){return kR.apply(this,arguments)}function kR(){return kR=(0,Ee.Z)(function*(n,e,t){const i=et(n),r=[],a=[];for(const c of e){let h;const y=i.ic.get(c);if(y&&0!==y.length){h=yield Ym(i.localStore,eo(y[0]));for(const w of y){const x=i.sc.get(w),T=yield Rz(i,x);T.snapshot&&a.push(T.snapshot)}}else{const w=yield xV(i.localStore,c);h=yield Ym(i.localStore,w),yield pR(i,KV(w),c,!1)}r.push(h)}return i.nc.Wo(a),r}),kR.apply(this,arguments)}function KV(n){return rL(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Pz(n){const e=et(n);return et(et(e.localStore).persistence).vi()}function Nz(n,e,t,i){return FR.apply(this,arguments)}function FR(){return FR=(0,Ee.Z)(function*(n,e,t,i){const r=et(n);if(r.fc)return void He("SyncEngine","Ignoring unexpected query state notification.");const a=r.ic.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const c=yield IV(r.localStore,aL(a[0])),h=vb.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield kc(r,c,h);break}case"rejected":yield Zm(r.localStore,e,!0),ny(r,e,i);break;default:dt()}}),FR.apply(this,arguments)}function Lz(n,e,t){return PR.apply(this,arguments)}function PR(){return PR=(0,Ee.Z)(function*(n,e,t){const i=NR(n);if(i.fc){for(const r of e){if(i.ic.has(r)){He("SyncEngine","Adding an already active target "+r);continue}const a=yield xV(i.localStore,r),c=yield Ym(i.localStore,a);yield pR(i,KV(a),c.targetId,!1),WD(i.remoteStore,c)}for(const r of t)i.ic.has(r)&&(yield Zm(i.localStore,r,!1).then(()=>{Pb(i.remoteStore,r),ny(i,r)}).catch(fh))}}),PR.apply(this,arguments)}function NR(n){const e=et(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=qV.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Tz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Dz.bind(null,e),e.nc.Wo=pz.bind(null,e.eventManager),e.nc._c=gz.bind(null,e.eventManager),e}function LR(n){const e=et(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Iz.bind(null,e),e}class QV{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ee.Z)(function*(){t.It=kb(e.databaseInfo.databaseId),t.sharedClientState=t.mc(e),t.persistence=t.gc(e),yield t.persistence.start(),t.localStore=t.yc(e),t.gcScheduler=t.Ic(e,t.localStore),t.indexBackfillerScheduler=t.Tc(e,t.localStore)})()}Ic(e,t){return null}Tc(e,t){return null}yc(e){return wV(this.persistence,new bV,e.initialUser,this.It)}gc(e){return new _V(jD.Bs,this.It)}mc(e){return new TV}terminate(){var e=this;return(0,Ee.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class XV extends QV{constructor(e,t,i){super(),this.Ec=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,Ee.Z)(function*(){yield t().call(i,e),yield i.Ec.initialize(i,e),yield LR(i.Ec.syncEngine),yield Qm(i.Ec.remoteStore),yield i.persistence.li(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}yc(e){return wV(this.persistence,new bV,e.initialUser,this.It)}Ic(e,t){return new S3(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Tc(e,t){const i=new c$(t,this.persistence);return new u$(e.asyncQueue,i)}gc(e){const t=OT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?no.withCacheSize(this.cacheSizeBytes):no.DEFAULT;return new RT(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,OV(),qD(),this.It,this.sharedClientState,!!this.forceOwnership)}mc(e){return new TV}}class Bz extends XV{constructor(e,t){super(e,t,!1),this.Ec=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,Ee.Z)(function*(){yield t().call(i,e);const r=i.Ec.syncEngine;i.sharedClientState instanceof jT&&(i.sharedClientState.syncEngine={Fr:kz.bind(null,r),$r:Nz.bind(null,r),Br:Lz.bind(null,r),vi:Pz.bind(null,r),Or:Oz.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.li(function(){var a=(0,Ee.Z)(function*(c){yield function Fz(n,e){return OR.apply(this,arguments)}(i.Ec.syncEngine,c),i.gcScheduler&&(c&&!i.gcScheduler.started?i.gcScheduler.start():c||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(c&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():c||i.indexBackfillerScheduler.stop())});return function(c){return a.apply(this,arguments)}}())})()}mc(e){const t=OV();if(!jT.C(t))throw new Pe(pe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=OT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new jT(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class VR{initialize(e,t){var i=this;return(0,Ee.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>WV(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=Mz.bind(null,i.syncEngine),yield rR(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new fz}createDatastore(e){const t=kb(e.databaseInfo.databaseId),i=new Q3(e.databaseInfo);return new ez(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,a=h=>WV(this.syncEngine,h,0),c=RV.C()?new RV:new Y3,new nz(t,i,r,a,c);var t,i,r,a,c}createSyncEngine(e,t){return function(i,r,a,c,h,y,w){const x=new bz(i,r,a,c,h,y);return w&&(x.fc=!0),x}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ee.Z)(function*(t){const i=et(t);He("RemoteStore","RemoteStore shutting down."),i._u.add(5),yield Km(i),i.mu.shutdown(),i.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function JV(n,e=10240){let t=0;return{read:()=>(0,Ee.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,Ee.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class ZD{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ac(this.observer.next,e)}error(e){this.observer.error?this.Ac(this.observer.error,e):Ni("Uncaught Error in snapshot listener:",e)}Rc(){this.muted=!0}Ac(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Uz{constructor(e,t){this.bc=e,this.It=t,this.metadata=new wr,this.buffer=new Uint8Array,this.Pc=new TextDecoder("utf-8"),this.vc().then(i=>{i&&i.ku()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==i?void 0:i.payload)}`))},i=>this.metadata.reject(i))}close(){return this.bc.cancel()}getMetadata(){var e=this;return(0,Ee.Z)(function*(){return e.metadata.promise})()}wc(){var e=this;return(0,Ee.Z)(function*(){return yield e.getMetadata(),e.vc()})()}vc(){var e=this;return(0,Ee.Z)(function*(){const t=yield e.Vc();if(null===t)return null;const i=e.Pc.decode(t),r=Number(i);isNaN(r)&&e.Sc(`length string (${i}) is not valid number`);const a=yield e.Dc(r);return new mz(JSON.parse(a),t.length+r)})()}Cc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Vc(){var e=this;return(0,Ee.Z)(function*(){for(;e.Cc()<0&&!(yield e.xc()););if(0===e.buffer.length)return null;const t=e.Cc();t<0&&e.Sc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}Dc(e){var t=this;return(0,Ee.Z)(function*(){for(;t.buffer.length<e;)(yield t.xc())&&t.Sc("Reached the end of bundle when more is expected.");const i=t.Pc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Sc(e){throw this.bc.cancel(),new Error(`Invalid bundle format: ${e}`)}xc(){var e=this;return(0,Ee.Z)(function*(){const t=yield e.bc.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class jz{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Ee.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Pe(pe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,Ee.Z)(function*(a,c){const h=et(a),y=Eb(h.It)+"/documents",w={documents:c.map(V=>Cb(h.It,V))},x=yield h.fo("BatchGetDocuments",y,w,c.length),T=new Map;x.forEach(V=>{const U=function G$(n,e){return"found"in e?function(t,i){Ft(!!i.found);const r=vu(t,i.found.name),a=Cr(i.found.updateTime),c=new Gr({mapValue:{fields:i.found.fields}});return Yn.newFoundDocument(r,a,c)}(n,e):"missing"in e?function(t,i){Ft(!!i.missing),Ft(!!i.readTime);const r=vu(t,i.missing),a=Cr(i.readTime);return Yn.newNoDocument(r,a)}(n,e):dt()}(h.It,V);T.set(U.key.toString(),U)});const P=[];return c.forEach(V=>{const U=T.get(V.toString());Ft(!!U),P.push(U)}),P}),function(a,c){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new Gm(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ee.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const a=Xe.fromPath(r);e.mutations.push(new _T(a,e.precondition(a)))}),yield(i=(0,Ee.Z)(function*(r,a){const c=et(r),h=Eb(c.It)+"/documents",y={writes:a.map(w=>Db(c.It,w))};yield c.co("Commit",h,y)}),function(r,a){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw dt();t=Ot.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new Pe(pe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ot.min())?hi.exists(!1):hi.updateTime(t):hi.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ot.min()))throw new Pe(pe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return hi.updateTime(t)}return hi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Hz{constructor(e,t,i,r,a){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=a,this.Nc=i.maxAttempts,this.xo=new HT(this.asyncQueue,"transaction_retry")}run(){this.Nc-=1,this.kc()}kc(){var e=this;this.xo.Ao((0,Ee.Z)(function*(){const t=new jz(e.datastore),i=e.Mc(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(a=>{e.Oc(a)}))}).catch(r=>{e.Oc(r)})}))}Mc(e){try{const t=this.updateFunction(e);return!lb(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Oc(e){this.Nc>0&&this.Fc(e)?(this.Nc-=1,this.asyncQueue.enqueueAndForget(()=>(this.kc(),Promise.resolve()))):this.deferred.reject(e)}Fc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!CL(t)}return!1}}class Gz{constructor(e,t,i,r){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=br.UNAUTHENTICATED,this.clientId=k1.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var c=(0,Ee.Z)(function*(h){He("FirestoreClient","Received user=",h.uid),yield a.authCredentialListener(h),a.user=h});return function(h){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(i,c=>(He("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,Ee.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Pe(pe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new wr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ee.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=Jm(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function eB(n,e){return BR.apply(this,arguments)}function BR(){return BR=(0,Ee.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),He("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,Ee.Z)(function*(a){i.isEqual(a)||(yield CV(e.localStore,a),i=a)});return function(a){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),BR.apply(this,arguments)}function tB(n,e){return UR.apply(this,arguments)}function UR(){return UR=(0,Ee.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield jR(n);He("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>BV(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,a)=>BV(e.remoteStore,a)),n.onlineComponents=e}),UR.apply(this,arguments)}function jR(n){return HR.apply(this,arguments)}function HR(){return HR=(0,Ee.Z)(function*(n){return n.offlineComponents||(He("FirestoreClient","Using default OfflineComponentProvider"),yield eB(n,new QV)),n.offlineComponents}),HR.apply(this,arguments)}function KD(n){return GR.apply(this,arguments)}function GR(){return GR=(0,Ee.Z)(function*(n){return n.onlineComponents||(He("FirestoreClient","Using default OnlineComponentProvider"),yield tB(n,new VR)),n.onlineComponents}),GR.apply(this,arguments)}function nB(n){return jR(n).then(e=>e.persistence)}function QD(n){return jR(n).then(e=>e.localStore)}function iB(n){return KD(n).then(e=>e.remoteStore)}function $R(n){return KD(n).then(e=>e.syncEngine)}function iy(n){return zR.apply(this,arguments)}function zR(){return zR=(0,Ee.Z)(function*(n){const e=yield KD(n),t=e.eventManager;return t.onListen=wz.bind(null,e.syncEngine),t.onUnlisten=Cz.bind(null,e.syncEngine),t}),zR.apply(this,arguments)}function rB(n,e,t={}){const i=new wr;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function(r,a,c,h,y){const w=new ZD({next:T=>{a.enqueueAndForget(()=>uR(r,x));const P=T.docs.has(c);!P&&T.fromCache?y.reject(new Pe(pe.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&T.fromCache&&h&&"server"===h.source?y.reject(new Pe(pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(T)},error:T=>y.reject(T)}),x=new hR(Vm(c.path),w,{includeMetadataChanges:!0,Nu:!0});return aR(r,x)}(yield iy(n),n.asyncQueue,e,t,i)})),i.promise}function sB(n,e,t={}){const i=new wr;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function(r,a,c,h,y){const w=new ZD({next:T=>{a.enqueueAndForget(()=>uR(r,x)),T.fromCache&&"server"===h.source?y.reject(new Pe(pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(T)},error:T=>y.reject(T)}),x=new hR(c,w,{includeMetadataChanges:!0,Nu:!0});return aR(r,x)}(yield iy(n),n.asyncQueue,e,t,i)})),i.promise}const oB=new Map;function qR(n,e,t){if(!t)throw new Pe(pe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function aB(n,e,t,i){if(!0===e&&!0===i)throw new Pe(pe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function lB(n){if(!Xe.isDocumentKey(n))throw new Pe(pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function uB(n){if(Xe.isDocumentKey(n))throw new Pe(pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function XD(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":dt()}function on(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Pe(pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=XD(n);throw new Pe(pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function cB(n,e){if(e<=0)throw new Pe(pe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class dB{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Pe(pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Pe(pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,aB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Nb{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dB({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Pe(pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Pe(pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dB(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new QG;switch(t.type){case"gapi":return new t$(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Pe(pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=oB.get(e);t&&(He("ComponentProvider","Removing Datastore"),oB.delete(e),t.terminate())}(this),Promise.resolve()}}class ei{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ei(this.firestore,e,this._key)}}class cs{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new cs(this.firestore,e,this._query)}}class wu extends cs{constructor(e,t,i){super(e,t,Vm(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ei(this.firestore,null,new Xe(e))}withConverter(e){return new wu(this.firestore,e,this._path)}}function hB(n,e,...t){if(n=(0,gn.m9)(n),qR("collection","path",e),n instanceof Nb){const i=dn.fromString(e,...t);return uB(i),new wu(n,null,i)}{if(!(n instanceof ei||n instanceof wu))throw new Pe(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(dn.fromString(e,...t));return uB(i),new wu(n.firestore,null,i)}}function JD(n,e,...t){if(n=(0,gn.m9)(n),1===arguments.length&&(e=k1.R()),qR("doc","path",e),n instanceof Nb){const i=dn.fromString(e,...t);return lB(i),new ei(n,null,new Xe(i))}{if(!(n instanceof ei||n instanceof wu))throw new Pe(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(dn.fromString(e,...t));return lB(i),new ei(n.firestore,n instanceof wu?n.converter:null,new Xe(i))}}function fB(n,e){return n=(0,gn.m9)(n),e=(0,gn.m9)(e),(n instanceof ei||n instanceof wu)&&(e instanceof ei||e instanceof wu)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function pB(n,e){return n=(0,gn.m9)(n),e=(0,gn.m9)(e),n instanceof cs&&e instanceof cs&&n.firestore===e.firestore&&pb(n._query,e._query)&&n.converter===e.converter}class eq{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new HT(this,"async_queue_retry"),this.jc=()=>{const t=qD();t&&He("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.bo()};const e=qD();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Wc(),this.zc(e)}enterRestrictedMode(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;const t=qD();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.jc)}}enqueue(e){if(this.Wc(),this.Lc)return new Promise(()=>{});const t=new wr;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Bc.push(e),this.Hc()))}Hc(){var e=this;return(0,Ee.Z)(function*(){if(0!==e.Bc.length){try{yield e.Bc[0](),e.Bc.shift(),e.xo.reset()}catch(t){if(!ph(t))throw t;He("AsyncQueue","Operation failed with retryable error: "+t)}e.Bc.length>0&&e.xo.Ao(()=>e.Hc())}})()}zc(e){const t=this.$c.then(()=>(this.Kc=!0,e().catch(i=>{throw this.qc=i,this.Kc=!1,Ni("INTERNAL UNHANDLED ERROR: ",function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),c}(i)),i}).then(i=>(this.Kc=!1,i))));return this.$c=t,t}enqueueAfterDelay(e,t,i){this.Wc(),this.Qc.indexOf(e)>-1&&(t=0);const r=oR.createAndSchedule(this,e,t,i,a=>this.Jc(a));return this.Uc.push(r),r}Wc(){this.qc&&dt()}verifyOperationInProgress(){}Yc(){var e=this;return(0,Ee.Z)(function*(){let t;do{t=e.$c,yield t}while(t!==e.$c)})()}Xc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}Zc(e){return this.Yc().then(()=>{this.Uc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Yc()})}ta(e){this.Qc.push(e)}Jc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function WR(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class tq{constructor(){this._progressObserver={},this._taskCompletionResolver=new wr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class fi extends Nb{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new eq,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||gB(this),this._firestoreClient.terminate()}}function Ji(n){return n._firestoreClient||gB(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function gB(n){var e;const t=n._freezeSettings(),i=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new f$(n._databaseId,a,n._persistenceKey,(h=t).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,h.useFetchStreams));var a,h;n._firestoreClient=new Gz(n._authCredentials,n._appCheckCredentials,n._queue,i)}function mB(n,e,t){const i=new wr;return n.asyncQueue.enqueue((0,Ee.Z)(function*(){try{yield eB(n,t),yield tB(n,e),i.resolve()}catch(r){const a=r;if(!("FirebaseError"===(c=a).name?c.code===pe.FAILED_PRECONDITION||c.code===pe.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw a;yp("Error enabling offline persistence. Falling back to persistence disabled: "+a),i.reject(a)}var c})).then(()=>i.promise)}function yB(n){if(n._initialized||n._terminated)throw new Pe(pe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Fc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Pe(pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Cu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Cu(ur.fromBase64String(e))}catch(t){throw new Pe(pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Cu(ur.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Pp{constructor(e){this._methodName=e}}class ex{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Pe(pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Pe(pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Bt(this._lat,e._lat)||Bt(this._long,e._long)}}const dq=/^__.*__$/;class hq{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new Oc(e,this.data,this.fieldMask,t,this.fieldTransforms):new Hm(e,this.data,t,this.fieldTransforms)}}class _B{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Oc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function vB(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt()}}class tx{constructor(e,t,i,r,a,c){this.settings=e,this.databaseId=t,this.It=i,this.ignoreUndefinedProperties=r,void 0===a&&this.ea(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(e){return new tx(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.sa({path:i,ra:!1});return r.oa(e),r}ua(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.sa({path:i,ra:!1});return r.ea(),r}ca(e){return this.sa({path:void 0,ra:!0})}aa(e){return rx(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ea(){if(this.path)for(let e=0;e<this.path.length;e++)this.oa(this.path.get(e))}oa(e){if(0===e.length)throw this.aa("Document fields must not be empty");if(vB(this.na)&&dq.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}class fq{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=i||kb(e)}fa(e,t,i,r=!1){return new tx({na:e,methodName:t,la:i,path:xi.emptyPath(),ra:!1,ha:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Np(n){const e=n._freezeSettings(),t=kb(n._databaseId);return new fq(n._databaseId,!!e.ignoreUndefinedProperties,t)}function nx(n,e,t,i,r,a={}){const c=n.fa(a.merge||a.mergeFields?2:0,e,t,r);QR("Data must be an object, but it was:",c,i);const h=CB(i,c);let y,w;if(a.merge)y=new Ro(c.fieldMask),w=c.fieldTransforms;else if(a.mergeFields){const x=[];for(const T of a.mergeFields){const P=XR(e,T,t);if(!c.contains(P))throw new Pe(pe.INVALID_ARGUMENT,`Field '${P}' is specified in your field mask but missing from your input data.`);DB(x,P)||x.push(P)}y=new Ro(x),w=c.fieldTransforms.filter(T=>y.covers(T.field))}else y=null,w=c.fieldTransforms;return new hq(new Gr(h),y,w)}class Lb extends Pp{_toFieldTransform(e){if(2!==e.na)throw e.aa(1===e.na?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Lb}}function bB(n,e,t){return new tx({na:3,la:e.settings.la,methodName:n._methodName,ra:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class YR extends Pp{_toFieldTransform(e){return new gb(e.path,new Um)}isEqual(e){return e instanceof YR}}class pq extends Pp{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=bB(this,e,!0),i=this.da.map(a=>Lp(a,t)),r=new xp(i);return new gb(e.path,r)}isEqual(e){return this===e}}class gq extends Pp{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=bB(this,e,!0),i=this.da.map(a=>Lp(a,t)),r=new Ip(i);return new gb(e.path,r)}isEqual(e){return this===e}}class mq extends Pp{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=new jm(e.It,dL(e.It,this._a));return new gb(e.path,t)}isEqual(e){return this===e}}function ZR(n,e,t,i){const r=n.fa(1,e,t);QR("Data must be an object, but it was:",r,i);const a=[],c=Gr.empty();bp(i,(y,w)=>{const x=ix(e,y,t);w=(0,gn.m9)(w);const T=r.ua(x);if(w instanceof Lb)a.push(x);else{const P=Lp(w,T);null!=P&&(a.push(x),c.set(x,P))}});const h=new Ro(a);return new _B(c,h,r.fieldTransforms)}function KR(n,e,t,i,r,a){const c=n.fa(1,e,t),h=[XR(e,i,t)],y=[r];if(a.length%2!=0)throw new Pe(pe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let P=0;P<a.length;P+=2)h.push(XR(e,a[P])),y.push(a[P+1]);const w=[],x=Gr.empty();for(let P=h.length-1;P>=0;--P)if(!DB(w,h[P])){const V=h[P];let U=y[P];U=(0,gn.m9)(U);const Q=c.ua(V);if(U instanceof Lb)w.push(V);else{const _e=Lp(U,Q);null!=_e&&(w.push(V),x.set(V,_e))}}const T=new Ro(w);return new _B(x,T,c.fieldTransforms)}function wB(n,e,t,i=!1){return Lp(t,n.fa(i?4:3,e))}function Lp(n,e){if(EB(n=(0,gn.m9)(n)))return QR("Unsupported field value:",e,n),CB(n,e);if(n instanceof Pp)return function(t,i){if(!vB(i.na))throw i.aa(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i.aa(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ra&&4!==e.na)throw e.aa("Nested arrays are not supported");return function(t,i){const r=[];let a=0;for(const c of t){let h=Lp(c,i.ca(a));null==h&&(h={nullValue:"NULL_VALUE"}),r.push(h),a++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,gn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return dL(i.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=di.fromDate(t);return{timestampValue:wb(i.It,r)}}if(t instanceof di){const r=new di(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:wb(i.It,r)}}if(t instanceof ex)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Cu)return{bytesValue:OL(i.It,t._byteString)};if(t instanceof ei){const r=i.databaseId,a=t.firestore._databaseId;if(!a.isEqual(r))throw i.aa(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:vT(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i.aa(`Unsupported field value: ${XD(t)}`)}(n,e)}function CB(n,e){const t={};return j1(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bp(n,(i,r)=>{const a=Lp(r,e.ia(i));null!=a&&(t[i]=a)}),{mapValue:{fields:t}}}function EB(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof di||n instanceof ex||n instanceof Cu||n instanceof ei||n instanceof Pp)}function QR(n,e,t){if(!EB(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=XD(t);throw e.aa("an object"===i?n+" a custom object":n+" "+i)}var i}function XR(n,e,t){if((e=(0,gn.m9)(e))instanceof Fc)return e._internalPath;if("string"==typeof e)return ix(n,e);throw rx("Field path arguments must be of type string or ",n,!1,void 0,t)}const yq=new RegExp("[~\\*/\\[\\]]");function ix(n,e,t){if(e.search(yq)>=0)throw rx(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Fc(...e.split("."))._internalPath}catch(i){throw rx(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function rx(n,e,t,i,r){const a=i&&!i.isEmpty(),c=void 0!==r;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let y="";return(a||c)&&(y+=" (found",a&&(y+=` in field ${i}`),c&&(y+=` in document ${r}`),y+=")"),new Pe(pe.INVALID_ARGUMENT,h+n+y)}function DB(n,e){return n.some(t=>t.isEqual(e))}class Vb{constructor(e,t,i,r,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new ei(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new _q(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(sx("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class _q extends Vb{data(){return super.data()}}function sx(n,e){return"string"==typeof e?ix(n,e):e instanceof Fc?e._internalPath:e._delegate._internalPath}class Vp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Pc extends Vb{constructor(e,t,i,r,a,c){super(e,t,i,r,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Bb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(sx("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Bb extends Pc{data(e={}){return super.data(e)}}class Ih{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Vp(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Bb(this._firestore,this._userDataWriter,i.key,i,new Vp(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Pe(pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(c=>({type:"added",doc:new Bb(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Vp(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:a++}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>r||3!==c.type).map(c=>{const h=new Bb(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Vp(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let y=-1,w=-1;return 0!==c.type&&(y=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),1!==c.type&&(a=a.add(c.doc),w=a.indexOf(c.doc.key)),{type:vq(c.type),doc:h,oldIndex:y,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function vq(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt()}}function xB(n,e){return n instanceof Pc&&e instanceof Pc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Ih&&e instanceof Ih&&n._firestore===e._firestore&&pB(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function IB(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Pe(pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ub{}function Ah(n,...e){for(const t of e)n=t._apply(n);return n}class bq extends Ub{constructor(e,t,i){super(),this.wa=e,this.ma=t,this.ga=i,this.type="where"}_apply(e){const t=Np(e.firestore),i=function(r,a,c,h,y,w,x){let T;if(y.isKeyField()){if("array-contains"===w||"array-contains-any"===w)throw new Pe(pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if("in"===w||"not-in"===w){OB(x,w);const V=[];for(const U of x)V.push(RB(h,r,U));T={arrayValue:{values:V}}}else T=RB(h,r,x)}else"in"!==w&&"not-in"!==w&&"array-contains-any"!==w||OB(x,w),T=wB(c,"where",x,"in"===w||"not-in"===w);const P=$r.create(y,w,T);return function(V,U){if(U.dt()){const _e=pT(V);if(null!==_e&&!_e.isEqual(U.field))throw new Pe(pe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${_e.toString()}' and '${U.field.toString()}'`);const xe=fT(V);null!==xe&&kB(0,U.field,xe)}const Q=function(_e,xe){for(const Ke of _e.filters)if(xe.indexOf(Ke.op)>=0)return Ke.op;return null}(V,function(_e){switch(_e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(U.op));if(null!==Q)throw new Pe(pe.INVALID_ARGUMENT,Q===U.op?`Invalid query. You cannot use more than one '${U.op.toString()}' filter.`:`Invalid query. You cannot use '${U.op.toString()}' filters with '${Q.toString()}' filters.`)}(r,P),P}(e._query,0,t,e.firestore._databaseId,this.wa,this.ma,this.ga);return new cs(e.firestore,e.converter,function(r,a){const c=r.filters.concat([a]);return new Rc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),c,r.limit,r.limitType,r.startAt,r.endAt)}(e._query,i))}}class Cq extends Ub{constructor(e,t){super(),this.wa=e,this.ya=t,this.type="orderBy"}_apply(e){const t=function(i,r,a){if(null!==i.startAt)throw new Pe(pe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Pe(pe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new Lm(r,a);return function(h,y){if(null===fT(h)){const w=pT(h);null!==w&&kB(0,w,y.field)}}(i,c),c}(e._query,this.wa,this.ya);return new cs(e.firestore,e.converter,function(i,r){const a=i.explicitOrderBy.concat([r]);return new Rc(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class AB extends Ub{constructor(e,t,i){super(),this.type=e,this.pa=t,this.Ia=i}_apply(e){return new cs(e.firestore,e.converter,AD(e._query,this.pa,this.Ia))}}class SB extends Ub{constructor(e,t,i){super(),this.type=e,this.Ta=t,this.Ea=i}_apply(e){const t=TB(e,this.type,this.Ta,this.Ea);return new cs(e.firestore,e.converter,(r=t,new Rc((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class MB extends Ub{constructor(e,t,i){super(),this.type=e,this.Ta=t,this.Ea=i}_apply(e){const t=TB(e,this.type,this.Ta,this.Ea);return new cs(e.firestore,e.converter,(r=t,new Rc((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function TB(n,e,t,i){if(t[0]=(0,gn.m9)(t[0]),t[0]instanceof Vb)return function(r,a,c,h,y){if(!h)throw new Pe(pe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const w=[];for(const x of Bm(r))if(x.field.isKeyField())w.push(Ep(a,h.key));else{const T=h.data.field(x.field);if(cT(T))throw new Pe(pe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+x.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===T){const P=x.field.canonicalString();throw new Pe(pe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${P}' (used as the orderBy) does not exist.`)}w.push(T)}return new vh(w,y)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=Np(n.firestore);return function(a,c,h,y,w,x){const T=a.explicitOrderBy;if(w.length>T.length)throw new Pe(pe.INVALID_ARGUMENT,`Too many arguments provided to ${y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const P=[];for(let V=0;V<w.length;V++){const U=w[V];if(T[V].field.isKeyField()){if("string"!=typeof U)throw new Pe(pe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${y}(), but got a ${typeof U}`);if(!gT(a)&&-1!==U.indexOf("/"))throw new Pe(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${y}() must be a plain document ID, but '${U}' contains a slash.`);const Q=a.path.child(dn.fromString(U));if(!Xe.isDocumentKey(Q))throw new Pe(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${y}() must result in a valid document path, but '${Q}' is not because it contains an odd number of segments.`);const _e=new Xe(Q);P.push(Ep(c,_e))}else{const Q=wB(h,y,U);P.push(Q)}}return new vh(P,x)}(n._query,n.firestore._databaseId,r,e,t,i)}}function RB(n,e,t){if("string"==typeof(t=(0,gn.m9)(t))){if(""===t)throw new Pe(pe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gT(e)&&-1!==t.indexOf("/"))throw new Pe(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(dn.fromString(t));if(!Xe.isDocumentKey(i))throw new Pe(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Ep(n,new Xe(i))}if(t instanceof ei)return Ep(n,t._key);throw new Pe(pe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${XD(t)}.`)}function OB(n,e){if(!Array.isArray(n)||0===n.length)throw new Pe(pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Pe(pe.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function kB(n,e,t){if(!t.isEqual(e))throw new Pe(pe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const Tq={maxAttempts:5};class JR{convertValue(e,t="none"){switch(Cp(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ai(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(wp(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw dt()}}convertObject(e,t){const i={};return bp(e.fields,(r,a)=>{i[r]=this.convertValue(a,t)}),i}convertGeoPoint(e){return new ex(Ai(e.latitude),Ai(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=G1(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(ab(e));default:return null}}convertTimestamp(e){const t=gh(e);return new di(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=dn.fromString(e);Ft(HL(i));const r=new mh(i.get(1),i.get(3)),a=new Xe(i.popFirst(5));return r.isEqual(t)||Ni(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function ox(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class Rq extends JR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ei(this.firestore,null,t)}}class FB{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Np(e)}set(e,t,i){this._verifyNotCommitted();const r=Sh(e,this._firestore),a=ox(r.converter,t,i),c=nx(this._dataReader,"WriteBatch.set",r._key,a,null!==r.converter,i);return this._mutations.push(c.toMutation(r._key,hi.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const a=Sh(e,this._firestore);let c;return c="string"==typeof(t=(0,gn.m9)(t))||t instanceof Fc?KR(this._dataReader,"WriteBatch.update",a._key,t,i,r):ZR(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(c.toMutation(a._key,hi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Sh(e,this._firestore);return this._mutations=this._mutations.concat(new Gm(t._key,hi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Pe(pe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Sh(n,e){if((n=(0,gn.m9)(n)).firestore!==e)throw new Pe(pe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Bp extends JR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ei(this.firestore,null,t)}}function PB(n,e,t){n=on(n,ei);const i=on(n.firestore,fi),r=ox(n.converter,e,t);return ry(i,[nx(Np(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,hi.none())])}function NB(n,e,t,...i){n=on(n,ei);const r=on(n.firestore,fi),a=Np(r);let c;return c="string"==typeof(e=(0,gn.m9)(e))||e instanceof Fc?KR(a,"updateDoc",n._key,e,t,i):ZR(a,"updateDoc",n._key,e),ry(r,[c.toMutation(n._key,hi.exists(!0))])}function LB(n,...e){var t,i,r;n=(0,gn.m9)(n);let a={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||WR(e[c])||(a=e[c],c++);const h={includeMetadataChanges:a.includeMetadataChanges};if(WR(e[c])){const T=e[c];e[c]=null===(t=T.next)||void 0===t?void 0:t.bind(T),e[c+1]=null===(i=T.error)||void 0===i?void 0:i.bind(T),e[c+2]=null===(r=T.complete)||void 0===r?void 0:r.bind(T)}let y,w,x;if(n instanceof ei)w=on(n.firestore,fi),x=Vm(n._key.path),y={next:T=>{e[c]&&e[c](eO(w,n,T))},error:e[c+1],complete:e[c+2]};else{const T=on(n,cs);w=on(T.firestore,fi),x=T._query;const P=new Bp(w);y={next:V=>{e[c]&&e[c](new Ih(w,P,T,V))},error:e[c+1],complete:e[c+2]},IB(n._query)}return function(T,P,V,U){const Q=new ZD(U),_e=new hR(P,Q,V);return T.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return aR(yield iy(T),_e)})),()=>{Q.Rc(),T.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return uR(yield iy(T),_e)}))}}(Ji(w),x,h,y)}function ry(n,e){return function(t,i){const r=new wr;return t.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function Ez(n,e,t){return yR.apply(this,arguments)}(yield $R(t),i,r)})),r.promise}(Ji(n),e)}function eO(n,e,t){const i=t.docs.get(e._key),r=new Bp(n);return new Pc(n,r,e._key,i,new Vp(t.hasPendingWrites,t.fromCache),e.converter)}class jq extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Np(e)}get(e){const t=Sh(e,this._firestore),i=new Rq(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return dt();const a=r[0];if(a.isFoundDocument())return new Vb(this._firestore,i,a.key,a,t.converter);if(a.isNoDocument())return new Vb(this._firestore,i,t._key,null,t.converter);throw dt()})}set(e,t,i){const r=Sh(e,this._firestore),a=ox(r.converter,t,i),c=nx(this._dataReader,"Transaction.set",r._key,a,null!==r.converter,i);return this._transaction.set(r._key,c),this}update(e,t,i,...r){const a=Sh(e,this._firestore);let c;return c="string"==typeof(t=(0,gn.m9)(t))||t instanceof Fc?KR(this._dataReader,"Transaction.update",a._key,t,i,r):ZR(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,c),this}delete(e){const t=Sh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Sh(e,this._firestore),i=new Bp(this._firestore);return super.get(e).then(r=>new Pc(this._firestore,i,t._key,r._document,new Vp(!1,!1),t.converter))}}function tO(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Pe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function BB(){if("undefined"==typeof Uint8Array)throw new Pe("unimplemented","Uint8Arrays are not available in this environment.")}function UB(){if(!function d$(){return"undefined"!=typeof atob}())throw new Pe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){km=hp.SDK_VERSION,(0,hp._registerComponent)(new zE.wA("firestore",(t,{instanceIdentifier:i,options:r})=>{const a=t.getProvider("app").getImmediate(),c=new fi(new JG(t.getProvider("auth-internal")),new n$(t.getProvider("app-check-internal")),function(h,y){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Pe(pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mh(h.options.projectId,y)}(a,i),a);return r=Object.assign({useFetchStreams:e},r),c._setSettings(r),c},"PUBLIC").setMultipleInstances(!0)),(0,hp.registerVersion)(T1,"3.5.0",n),(0,hp.registerVersion)(T1,"3.5.0","esm2017")}();class jb{constructor(e){this._delegate=e}static fromBase64String(e){return UB(),new jb(Cu.fromBase64String(e))}static fromUint8Array(e){return BB(),new jb(Cu.fromUint8Array(e))}toBase64(){return UB(),this._delegate.toBase64()}toUint8Array(){return BB(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function nO(n){return function Kq(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class Qq{enableIndexedDbPersistence(e,t){return function iq(n,e){yB(n=on(n,fi));const t=Ji(n),i=n._freezeSettings(),r=new VR;return mB(t,r,new XV(r,i.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function rq(n){yB(n=on(n,fi));const e=Ji(n),t=n._freezeSettings(),i=new VR;return mB(e,i,new Bz(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function sq(n){if(n._initialized&&!n._terminated)throw new Pe(pe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new wr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ee.Z)(function*(){try{yield(t=(0,Ee.Z)(function*(i){if(!xl.C())return Promise.resolve();const r=i+"main";yield xl.delete(r)}),function(i){return t.apply(this,arguments)})(OT(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class jB{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof mh||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&yp("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function Xz(n,e,t,i={}){var r;const a=(n=on(n,Nb))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&yp("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let c,h;if("string"==typeof i.mockUserToken)c=i.mockUserToken,h=br.MOCK_USER;else{c=(0,gn.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new Pe(pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new br(y)}n._authCredentials=new XG(new R1(c,h))}}(this._delegate,e,t,i)}enableNetwork(){return function aq(n){return function $z(n){return n.asyncQueue.enqueue((0,Ee.Z)(function*(){const e=yield nB(n),t=yield iB(n);return e.setNetworkEnabled(!0),function(i){const r=et(i);return r._u.delete(0),Fb(r)}(t)}))}(Ji(n=on(n,fi)))}(this._delegate)}disableNetwork(){return function lq(n){return function zz(n){return n.asyncQueue.enqueue((0,Ee.Z)(function*(){const e=yield nB(n),t=yield iB(n);return e.setNetworkEnabled(!1),(i=(0,Ee.Z)(function*(r){const a=et(r);a._u.add(0),yield Km(a),a.gu.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(Ji(n=on(n,fi)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,aB("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function oq(n){return function(e){const t=new wr;return e.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function Az(n,e){return CR.apply(this,arguments)}(yield $R(e),t)})),t.promise}(Ji(n=on(n,fi)))}(this._delegate)}onSnapshotsInSync(e){return function Uq(n,e){return function Yz(n,e){const t=new ZD(e);return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return i=yield iy(n),r=t,et(i).Ru.add(r),void r.next();var i,r})),()=>{t.Rc(),n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return i=yield iy(n),r=t,void et(i).Ru.delete(r);var i,r}))}}(Ji(n=on(n,fi)),WR(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Pe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new sy(this,hB(this._delegate,e))}catch(t){throw Ps(t,"collection()","Firestore.collection()")}}doc(e){try{return new va(this,JD(this._delegate,e))}catch(t){throw Ps(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ns(this,function Jz(n,e){if(n=on(n,Nb),qR("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Pe(pe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new cs(n,null,(t=e,new Rc(dn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Ps(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Hq(n,e,t){n=on(n,fi);const i=Object.assign(Object.assign({},Tq),t);return function(r){if(r.maxAttempts<1)throw new Pe(pe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function Zz(n,e,t){const i=new wr;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){const r=yield(a=n,KD(a).then(c=>c.datastore));var a;new Hz(n.asyncQueue,r,t,e,i).run()})),i.promise}(Ji(n),r=>e(new jq(n,r)),i)}(this._delegate,t=>e(new HB(this,t)))}batch(){return Ji(this._delegate),new GB(new FB(this._delegate,e=>ry(this._delegate,e)))}loadBundle(e){return function uq(n,e){const t=Ji(n=on(n,fi)),i=new tq;return function Kz(n,e,t,i){const r=function(a,c){let h;return h="string"==typeof a?(new TextEncoder).encode(a):a,y=function(y,w){if(y instanceof Uint8Array)return JV(y,w);if(y instanceof ArrayBuffer)return JV(new Uint8Array(y),w);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new Uz(y,c);var y}(t,kb(e));n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){!function Vz(n,e,t){const i=et(n);var r;(r=(0,Ee.Z)(function*(a,c,h){try{const y=yield c.getMetadata();if(yield function(P,V){const U=et(P),Q=Cr(V.createTime);return U.persistence.runTransaction("hasNewerBundle","readonly",_e=>U.Ns.getBundleMetadata(_e,V.id)).then(_e=>!!_e&&_e.createTime.compareTo(Q)>=0)}(a.localStore,y))return yield c.close(),h._completeWith({taskState:"Success",documentsLoaded:(P=y).totalDocuments,bytesLoaded:P.totalBytes,totalDocuments:P.totalDocuments,totalBytes:P.totalBytes}),Promise.resolve(new Set);h._updateProgress(HV(y));const w=new yz(y,a.localStore,c.It);let x=yield c.wc();for(;x;){const P=yield w.Ou(x);P&&h._updateProgress(P),x=yield c.wc()}const T=yield w.complete();return yield kc(a,T.Bu,void 0),yield function(P,V){const U=et(P);return U.persistence.runTransaction("Save bundle","readwrite",Q=>U.Ns.saveBundleMetadata(Q,V))}(a.localStore,y),h._completeWith(T.progress),Promise.resolve(T.$u)}catch(y){return yp("SyncEngine",`Loading bundle failed with ${y}`),h._failWith(y),Promise.resolve(new Set)}var P}),function(a,c,h){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield $R(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function cq(n,e){return function Qz(n,e){return n.asyncQueue.enqueue((0,Ee.Z)(function*(){return function(t,i){const r=et(t);return r.persistence.runTransaction("Get named query","readonly",a=>r.Ns.getNamedQuery(a,i))}(yield QD(n),e)}))}(Ji(n=on(n,fi)),e).then(t=>t?new cs(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Ns(this,t):null)}}class ax extends JR{constructor(e){super(),this.firestore=e}convertBytes(e){return new jb(new Cu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return va.forKey(t,this.firestore,null)}}class HB{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new ax(e)}get(e){const t=jp(e);return this._delegate.get(t).then(i=>new Hb(this._firestore,new Pc(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=jp(e);return i?(tO("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const a=jp(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,i,...r),this}delete(e){const t=jp(e);return this._delegate.delete(t),this}}class GB{constructor(e){this._delegate=e}set(e,t,i){const r=jp(e);return i?(tO("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const a=jp(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,i,...r),this}delete(e){const t=jp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Up{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new Bb(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Gb(this._firestore,i),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=Up.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let a=r.get(t);return a||(a=new Up(e,new ax(e),t),r.set(t,a)),a}}Up.INSTANCES=new WeakMap;class va{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new ax(e)}static forPath(e,t,i){if(e.length%2!=0)throw new Pe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new va(t,new ei(t._delegate,i,new Xe(e)))}static forKey(e,t,i){return new va(t,new ei(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new sy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new sy(this.firestore,hB(this._delegate,e))}catch(t){throw Ps(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,gn.m9)(e))instanceof ei&&fB(this._delegate,e)}set(e,t){t=tO("DocumentReference.set",t);try{return t?PB(this._delegate,e,t):PB(this._delegate,e)}catch(i){throw Ps(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?NB(this._delegate,e):NB(this._delegate,e,t,...i)}catch(r){throw Ps(r,"updateDoc()","DocumentReference.update()")}}delete(){return function Vq(n){return ry(on(n.firestore,fi),[new Gm(n._key,hi.none())])}(this._delegate)}onSnapshot(...e){const t=$B(e),i=zB(e,r=>new Hb(this.firestore,new Pc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return LB(this._delegate,t,i)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function kq(n){n=on(n,ei);const e=on(n.firestore,fi),t=Ji(e),i=new Bp(e);return function qz(n,e){const t=new wr;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return(i=(0,Ee.Z)(function*(r,a,c){try{const h=yield function(y,w){const x=et(y);return x.persistence.runTransaction("read document","readonly",T=>x.localDocuments.getDocument(T,w))}(r,a);h.isFoundDocument()?c.resolve(h):h.isNoDocument()?c.resolve(null):c.reject(new Pe(pe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const y=Jm(h,`Failed to get document '${a} from cache`);c.reject(y)}}),function(r,a,c){return i.apply(this,arguments)})(yield QD(n),e,t);var i})),t.promise}(t,n._key).then(r=>new Pc(e,i,n._key,r,new Vp(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function Fq(n){n=on(n,ei);const e=on(n.firestore,fi);return rB(Ji(e),n._key,{source:"server"}).then(t=>eO(e,n,t))}(this._delegate):function Oq(n){n=on(n,ei);const e=on(n.firestore,fi);return rB(Ji(e),n._key).then(t=>eO(e,n,t))}(this._delegate),t.then(i=>new Hb(this.firestore,new Pc(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new va(this.firestore,this._delegate.withConverter(e?Up.getInstance(this.firestore,e):null))}}function Ps(n,e,t){return n.message=n.message.replace(e,t),n}function $B(n){for(const e of n)if("object"==typeof e&&!nO(e))return e;return{}}function zB(n,e){var t,i;let r;return r=nO(n[0])?n[0]:nO(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{r.next&&r.next(e(a))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class Hb{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new va(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return xB(this._delegate,e._delegate)}}class Gb extends Hb{data(e){const t=this._delegate.data(e);return function KG(n,e){n||dt()}(void 0!==t),t}}class Ns{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new ax(e)}where(e,t,i){try{return new Ns(this.firestore,Ah(this._delegate,function wq(n,e,t){const i=e,r=sx("where",n);return new bq(r,i,t)}(e,t,i)))}catch(r){throw Ps(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Ns(this.firestore,Ah(this._delegate,function Eq(n,e="asc"){const t=e,i=sx("orderBy",n);return new Cq(i,t)}(e,t)))}catch(i){throw Ps(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ns(this.firestore,Ah(this._delegate,function Dq(n){return cB("limit",n),new AB("limit",n,"F")}(e)))}catch(t){throw Ps(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Ns(this.firestore,Ah(this._delegate,function xq(n){return cB("limitToLast",n),new AB("limitToLast",n,"L")}(e)))}catch(t){throw Ps(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ns(this.firestore,Ah(this._delegate,function Iq(...n){return new SB("startAt",n,!0)}(...e)))}catch(t){throw Ps(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ns(this.firestore,Ah(this._delegate,function Aq(...n){return new SB("startAfter",n,!1)}(...e)))}catch(t){throw Ps(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ns(this.firestore,Ah(this._delegate,function Sq(...n){return new MB("endBefore",n,!1)}(...e)))}catch(t){throw Ps(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ns(this.firestore,Ah(this._delegate,function Mq(...n){return new MB("endAt",n,!0)}(...e)))}catch(t){throw Ps(t,"endAt()","Query.endAt()")}}isEqual(e){return pB(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function Nq(n){n=on(n,cs);const e=on(n.firestore,fi),t=Ji(e),i=new Bp(e);return function Wz(n,e){const t=new wr;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return(i=(0,Ee.Z)(function*(r,a,c){try{const h=yield GD(r,a,!0),y=new zV(a,h.Hi),w=y.ju(h.documents),x=y.applyChanges(w,!1);c.resolve(x.snapshot)}catch(h){const y=Jm(h,`Failed to execute query '${a} against cache`);c.reject(y)}}),function(r,a,c){return i.apply(this,arguments)})(yield QD(n),e,t);var i})),t.promise}(t,n._query).then(r=>new Ih(e,i,n,r))}(this._delegate):"server"===(null==e?void 0:e.source)?function Lq(n){n=on(n,cs);const e=on(n.firestore,fi),t=Ji(e),i=new Bp(e);return sB(t,n._query,{source:"server"}).then(r=>new Ih(e,i,n,r))}(this._delegate):function Pq(n){n=on(n,cs);const e=on(n.firestore,fi),t=Ji(e),i=new Bp(e);return IB(n._query),sB(t,n._query).then(r=>new Ih(e,i,n,r))}(this._delegate),t.then(i=>new iO(this.firestore,new Ih(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=$B(e),i=zB(e,r=>new iO(this.firestore,new Ih(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return LB(this._delegate,t,i)}withConverter(e){return new Ns(this.firestore,this._delegate.withConverter(e?Up.getInstance(this.firestore,e):null))}}class Jq{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Gb(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class iO{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Ns(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Gb(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Jq(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new Gb(this._firestore,i))})}isEqual(e){return xB(this._delegate,e._delegate)}}class sy extends Ns{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new va(this.firestore,e):null}doc(e){try{return new va(this.firestore,void 0===e?JD(this._delegate):JD(this._delegate,e))}catch(t){throw Ps(t,"doc()","CollectionReference.doc()")}}add(e){return function Bq(n,e){const t=on(n.firestore,fi),i=JD(n),r=ox(n.converter,e);return ry(t,[nx(Np(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,hi.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new va(this.firestore,t))}isEqual(e){return fB(this._delegate,e._delegate)}withConverter(e){return new sy(this.firestore,this._delegate.withConverter(e?Up.getInstance(this.firestore,e):null))}}function jp(n){return on(n,ei)}class rO{constructor(...e){this._delegate=new Fc(...e)}static documentId(){return new rO(xi.keyField().canonicalString())}isEqual(e){return(e=(0,gn.m9)(e))instanceof Fc&&this._delegate._internalPath.isEqual(e._internalPath)}}class Hp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function $q(){return new YR("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Hp(e)}static delete(){const e=function Gq(){return new Lb("deleteField")}();return e._methodName="FieldValue.delete",new Hp(e)}static arrayUnion(...e){const t=function zq(...n){return new pq("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Hp(t)}static arrayRemove(...e){const t=function qq(...n){return new gq("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Hp(t)}static increment(e){const t=function Wq(n){return new mq("increment",n)}(e);return t._methodName="FieldValue.increment",new Hp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const e6={Firestore:jB,GeoPoint:ex,Timestamp:di,Blob:jb,Transaction:HB,WriteBatch:GB,DocumentReference:va,DocumentSnapshot:Hb,Query:Ns,QueryDocumentSnapshot:Gb,QuerySnapshot:iO,CollectionReference:sy,FieldPath:rO,FieldValue:Hp,setLogLevel:function Xq(n){!function ZG(n){hh.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function n6(n){(function t6(n,e){n.INTERNAL.registerComponent(new zE.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},e6)))})(n,(e,t)=>new jB(e,t,new Qq)),n.registerVersion("@firebase/firestore-compat","0.1.25")}(zH.Z);var lx=F(5363),i6=F(6063);class r6 extends Pt.x{constructor(e=1/0,t=1/0,i=i6.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:a,_windowTime:c}=this;t||(i.push(e),!r&&i.push(a.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,a=r.slice();for(let c=0;c<a.length&&!e.closed;c+=i?1:2)e.next(a[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,a=(r?1:2)*e;if(e<1/0&&a<i.length&&i.splice(0,i.length-a),!r){const c=t.now();let h=0;for(let y=1;y<i.length&&i[y]<=c;y+=2)h=y;h&&i.splice(0,h+1)}}}function qB(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=null!=n?n:1/0,(0,UP.B)({connector:()=>new r6(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function WB(n,e){return(0,Fi.m)(e)?Rn(()=>n,e):Rn(()=>n)}var sO=F(9468);F(5867);const ZB=new Map,u6={activated:!1,tokenObservers:[]},c6={initialized:!1,enabled:!1};function xr(n){return ZB.get(n)||u6}function Il(n,e){ZB.set(n,e)}function cx(){return c6}class g6{constructor(e,t,i,r,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=r,r>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Ee.Z)(function*(){t.stop();try{t.pending=new gn.BH,yield function m6(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new gn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Ls=new gn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function QB(n){if(!xr(n).activated)throw Ls.create("use-before-activation",{appName:n.name})}function uO(n,e){return cO.apply(this,arguments)}function cO(){return cO=(0,Ee.Z)(function*({url:n,body:e},t){var i,r;const a={"Content-Type":"application/json"},c=t.getImmediate({optional:!0});if(c){const V=yield c.getHeartbeatsHeader();V&&(a["X-Firebase-Client"]=V)}const h={method:"POST",body:JSON.stringify(e),headers:a};let y,w;try{y=yield fetch(n,h)}catch(V){throw Ls.create("fetch-network-error",{originalErrorMessage:null===(i=V)||void 0===i?void 0:i.message})}if(200!==y.status)throw Ls.create("fetch-status-error",{httpStatus:y.status});try{w=yield y.json()}catch(V){throw Ls.create("fetch-parse-error",{originalErrorMessage:null===(r=V)||void 0===r?void 0:r.message})}const x=w.ttl.match(/^([\d.]+)(s)$/);if(!x||!x[2]||isNaN(Number(x[1])))throw Ls.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${w.ttl}`});const T=1e3*Number(x[1]),P=Date.now();return{token:w.token,expireTimeMillis:P+T,issuedAtTimeMillis:P}}),cO.apply(this,arguments)}function b6(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:e}}}const $b="firebase-app-check-store";let fx=null;function JB(){return fx||(fx=new Promise((n,e)=>{var t;try{const i=indexedDB.open("firebase-app-check-database",1);i.onsuccess=r=>{n(r.target.result)},i.onerror=r=>{var a;e(Ls.create("storage-open",{originalErrorMessage:null===(a=r.target.error)||void 0===a?void 0:a.message}))},i.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore($b,{keyPath:"compositeKey"})}}catch(i){e(Ls.create("storage-open",{originalErrorMessage:null===(t=i)||void 0===t?void 0:t.message}))}}),fx)}function dO(){return dO=(0,Ee.Z)(function*(n,e){const i=(yield JB()).transaction($b,"readwrite"),a=i.objectStore($b).put({compositeKey:n,value:e});return new Promise((c,h)=>{a.onsuccess=y=>{c()},i.onerror=y=>{var w;h(Ls.create("storage-set",{originalErrorMessage:null===(w=y.target.error)||void 0===w?void 0:w.message}))}})}),dO.apply(this,arguments)}const zb=new uh.Yd("@firebase/app-check");function r2(n,e){return(0,gn.hl)()?function D6(n,e){return function e2(n,e){return dO.apply(this,arguments)}(function n2(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{zb.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function s2(){return cx().enabled}function o2(){return gO.apply(this,arguments)}function gO(){return gO=(0,Ee.Z)(function*(){const n=cx();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),gO.apply(this,arguments)}const T6={error:"UNKNOWN_ERROR"};function R6(n){return gn.US.encodeString(JSON.stringify(n),!1)}function px(n){return mO.apply(this,arguments)}function mO(){return mO=(0,Ee.Z)(function*(n,e=!1){const t=n.app;QB(t);const i=xr(t);let a,r=i.token;if(!r){const y=yield i.cachedTokenPromise;y&&gx(y)&&(r=y)}if(!e&&r&&gx(r))return{token:r.token};let h,c=!1;if(s2()){i.exchangeTokenPromise||(i.exchangeTokenPromise=uO(b6(t,yield o2()),n.heartbeatServiceProvider).then(w=>(i.exchangeTokenPromise=void 0,w)),c=!0);const y=yield i.exchangeTokenPromise;return yield r2(t,y),Il(t,Object.assign(Object.assign({},i),{token:y})),{token:y.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(y=>(i.exchangeTokenPromise=void 0,y)),c=!0),r=yield i.exchangeTokenPromise}catch(y){"appCheck/throttled"===y.code?zb.warn(y.message):zb.error(y),a=y}return r?(h={token:r.token},Il(t,Object.assign(Object.assign({},i),{token:r})),yield r2(t,r)):h=k6(a),c&&l2(t,h),h}),mO.apply(this,arguments)}function _O(n,e){const t=xr(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Il(n,Object.assign(Object.assign({},t),{tokenObservers:i}))}function a2(n){const{app:e}=n,t=xr(e);let i=t.tokenRefresher;i||(i=function O6(n){const{app:e}=n;return new g6((0,Ee.Z)(function*(){let i;if(i=xr(e).token?yield px(n,!0):yield px(n),i.error)throw i.error}),()=>!0,()=>{const t=xr(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),Il(e,Object.assign(Object.assign({},t),{tokenRefresher:i}))),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function l2(n,e){const t=xr(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch(r){}}function gx(n){return n.expireTimeMillis-Date.now()>0}function k6(n){return{token:R6(T6),error:n}}class F6{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=xr(this.app);for(const t of e)_O(this.app,t.next);return Promise.resolve()}}const m2="app-check-internal";!function Y6(){(0,hp._registerComponent)(new zE.wA("app-check",n=>function P6(n,e){return new F6(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(m2).initialize()})),(0,hp._registerComponent)(new zE.wA(m2,n=>function N6(n){return{getToken:e=>px(n,e),addTokenListener:e=>function yO(n,e,t,i){const{app:r}=n,a=xr(r),c={next:t,error:i,type:e};if(Il(r,Object.assign(Object.assign({},a),{tokenObservers:[...a.tokenObservers,c]})),a.token&&gx(a.token)){const h=a.token;Promise.resolve().then(()=>{t({token:h.token}),a2(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>a2(n))}(n,"INTERNAL",e),removeTokenListener:e=>_O(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,hp.registerVersion)("@firebase/app-check","0.5.12")}();class CO{constructor(){return(0,as.vb)("app-check")}}"undefined"!=typeof window&&window,F(127);const _2=new u.OlP("angularfire2.auth.use-emulator"),v2=new u.OlP("angularfire2.auth.settings"),b2=new u.OlP("angularfire2.auth.tenant-id"),w2=new u.OlP("angularfire2.auth.langugage-code"),C2=new u.OlP("angularfire2.auth.use-device-language"),E2=new u.OlP("angularfire.auth.persistence"),D2=(n,e,t,i,r,a,c,h)=>(0,Dl.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const y=e.runOutsideAngular(()=>n.auth());if(t&&y.useEmulator(...t),i&&(y.tenantId=i),y.languageCode=r,a&&y.useDeviceLanguage(),c)for(const[w,x]of Object.entries(c))y.settings[w]=x;return h&&y.setPersistence(h),y},[t,i,r,a,c,h]);let x2=(()=>{class n{constructor(t,i,r,a,c,h,y,w,x,T,P,V){const U=new Pt.x,Q=it(void 0).pipe((0,lx.Q)(c.outsideAngular),Rn(()=>a.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,6786)))),(0,tt.U)(()=>(0,Dl.on)(t,a,i)),(0,tt.U)(_e=>D2(_e,a,h,w,x,T,y,P)),qB({bufferSize:1,refCount:!1}));if(Or(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=it(null);else{Q.pipe(ae()).subscribe();const xe=Q.pipe(Rn(Je=>Je.getRedirectResult().then(Ct=>Ct,()=>null)),as.iC,qB({bufferSize:1,refCount:!1})),Ke=Q.pipe(Rn(Je=>new Ln.y(Ct=>({unsubscribe:a.runOutsideAngular(()=>Je.onAuthStateChanged(Nt=>Ct.next(Nt),Nt=>Ct.error(Nt),()=>Ct.complete()))})))),ft=Q.pipe(Rn(Je=>new Ln.y(Ct=>({unsubscribe:a.runOutsideAngular(()=>Je.onIdTokenChanged(Nt=>Ct.next(Nt),Nt=>Ct.error(Nt),()=>Ct.complete()))}))));this.authState=xe.pipe(WB(Ke),(0,sO.R)(c.outsideAngular),(0,lx.Q)(c.insideAngular)),this.user=xe.pipe(WB(ft),(0,sO.R)(c.outsideAngular),(0,lx.Q)(c.insideAngular)),this.idToken=this.user.pipe(Rn(Je=>Je?(0,pn.D)(Je.getIdToken()):it(null))),this.idTokenResult=this.user.pipe(Rn(Je=>Je?(0,pn.D)(Je.getIdTokenResult()):it(null))),this.credential=(0,hc.T)(xe,U,this.authState.pipe(D(Je=>!Je))).pipe((0,tt.U)(Je=>null!=Je&&Je.user?Je:null),(0,sO.R)(c.outsideAngular),(0,lx.Q)(c.insideAngular))}return(0,Dl.pX)(this,Q,a,{spy:{apply:(_e,xe,Ke)=>{(_e.startsWith("signIn")||_e.startsWith("createUser"))&&Ke.then(ft=>U.next(ft))}}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Dl.Dh),u.LFG(Dl.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(as.HU),u.LFG(_2,8),u.LFG(v2,8),u.LFG(b2,8),u.LFG(w2,8),u.LFG(C2,8),u.LFG(E2,8),u.LFG(CO,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function I2(n,e){return function eW(n,e=vc.z){return new Ln.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=i&&i()}})}(n,e)}function DO(n,e){return I2(n,e).pipe((0,tt.U)(t=>({payload:t,type:"query"})))}function yx(n,e){return DO(n,e).pipe(fr(void 0),yM(),(0,tt.U)(([t,i])=>{const r=i.payload.docChanges(),a=r.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((c,h)=>{const y=r.find(x=>x.doc.ref.isEqual(c.ref)),w=null==t?void 0:t.payload.docs.find(x=>x.ref.isEqual(c.ref));y&&JSON.stringify(y.doc.metadata)===JSON.stringify(c.metadata)||!y&&w&&JSON.stringify(w.metadata)===JSON.stringify(c.metadata)||a.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:c}})}),a}))}function A2(n,e,t){return yx(n,t).pipe(kt((i,r)=>function nW(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function iW(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return xO(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return xO(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return xO(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(a=>a.payload),e),[]),Nw(),(0,tt.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function xO(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function S2(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class M2{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=yx(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,tt.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(fr(void 0),yM(),D(([i,r])=>r.length>0||!i),(0,tt.U)(([i,r])=>r),as.iC)}auditTrail(e){return this.stateChanges(e).pipe(kt((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=S2(e);return A2(this.query,t,this.afs.schedulers.outsideAngular).pipe(as.iC)}valueChanges(e={}){return DO(this.query,this.afs.schedulers.outsideAngular).pipe((0,tt.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),as.iC)}get(e){return(0,pn.D)(this.query.get(e)).pipe(as.iC)}add(e){return this.ref.add(e)}doc(e){return new T2(this.ref.doc(e),this.afs)}}class T2{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:a}=R2(i,t);return new M2(r,a,this.afs)}snapshotChanges(){return function tW(n,e){return I2(n,e).pipe(fr(void 0),yM(),(0,tt.U)(([t,i])=>i.exists?null!=t&&t.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(as.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,tt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,pn.D)(this.ref.get(e)).pipe(as.iC)}}class rW{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?yx(this.query,this.afs.schedulers.outsideAngular).pipe((0,tt.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),D(t=>t.length>0),as.iC):yx(this.query,this.afs.schedulers.outsideAngular).pipe(as.iC)}auditTrail(e){return this.stateChanges(e).pipe(kt((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=S2(e);return A2(this.query,t,this.afs.schedulers.outsideAngular).pipe(as.iC)}valueChanges(e={}){return DO(this.query,this.afs.schedulers.outsideAngular).pipe((0,tt.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),as.iC)}get(e){return(0,pn.D)(this.query.get(e)).pipe(as.iC)}}const sW=new u.OlP("angularfire2.enableFirestorePersistence"),oW=new u.OlP("angularfire2.firestore.persistenceSettings"),aW=new u.OlP("angularfire2.firestore.settings"),lW=new u.OlP("angularfire2.firestore.use-emulator");function R2(n,e=(t=>t)){return{query:e(n),ref:n}}let uW=(()=>{class n{constructor(t,i,r,a,c,h,y,w,x,T,P,V,U,Q,_e,xe,Ke){this.schedulers=y;const ft=(0,Dl.on)(t,h,i),Je=x;T&&D2(ft,h,P,U,Q,_e,V,xe),[this.firestore,this.persistenceEnabled$]=(0,Dl.cc)(`${ft.name}.firestore`,"AngularFirestore",ft.name,()=>{const Ct=h.runOutsideAngular(()=>ft.firestore());if(a&&Ct.settings(a),Je&&Ct.useEmulator(...Je),r&&!Or(c)){const Nt=()=>{try{return(0,pn.D)(Ct.enablePersistence(w||void 0).then(()=>!0,()=>!1))}catch(fn){return"undefined"!=typeof console&&console.warn(fn),it(!1)}};return[Ct,h.runOutsideAngular(Nt)]}return[Ct,it(!1)]},[a,Je,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:c}=R2(r,i),h=this.schedulers.ngZone.run(()=>a);return new M2(h,c,this)}collectionGroup(t,i){const r=i||(c=>c),a=this.firestore.collectionGroup(t);return new rW(r(a),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new T2(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Dl.Dh),u.LFG(Dl.xv,8),u.LFG(sW,8),u.LFG(aW,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(as.HU),u.LFG(oW,8),u.LFG(lW,8),u.LFG(x2,8),u.LFG(_2,8),u.LFG(v2,8),u.LFG(b2,8),u.LFG(w2,8),u.LFG(C2,8),u.LFG(E2,8),u.LFG(CO,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),cW=(()=>{class n{constructor(t){this.store=t,this.addFeedback=i=>this.store.collection("feedbacks").add(i),this.getFeedbacks=()=>this.store.collection("feedbacks").snapshotChanges()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(uW))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const dW=["*",[["mat-toolbar-row"]]],hW=["*","mat-toolbar-row"],fW=zf(class{constructor(n){this._elementRef=n}});let pW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),gW=(()=>{class n extends fW{constructor(t,i,r){super(t),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(os),u.Y36(ne))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,i,r){if(1&t&&u.Suo(r,pW,5),2&t){let a;u.iGM(a=u.CRH())&&(i._toolbarRows=a)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,i){2&t&&u.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[u.qOj],ngContentSelectors:hW,decls:2,vars:0,template:function(t,i){1&t&&(u.F$t(dW),u.Hsn(0),u.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),mW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[yi,yi]}),n})(),yW=(()=>{class n{constructor(t,i){this.dialog=t,this.feedbacksService=i}openDialog(t,i){this.dialog.open($H,{width:"270px",enterAnimationDuration:t,exitAnimationDuration:i,position:{right:"10px",top:"70px"}}).afterClosed().subscribe({next:a=>{a&&this.feedbacksService.addFeedback(a).catch(c=>{console.log("erreur de sauvegarde: ",c)})}})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36($E),u.Y36(cW))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-header"]],decls:9,vars:0,consts:[["color","primary"],[1,"title"],[1,"spacer"],["mat-flat-button","","color","warning",3,"click"]],template:function(t,i){1&t&&(u.TgZ(0,"header")(1,"mat-toolbar",0)(2,"div")(3,"span",1),u._uU(4,"NICONET VITRES"),u.qZA()(),u._UZ(5,"span",2),u.TgZ(6,"div")(7,"button",3),u.NdJ("click",function(){return i.openDialog("1000ms","500ms")}),u._uU(8,"Laissez une \xe9valuation"),u.qZA()()()())},dependencies:[gW,EE],styles:[".spacer[_ngcontent-%COMP%]{flex:1 1 auto}.mat-menu-panel[_ngcontent-%COMP%]{background-color:#3f51b5!important;color:#fff!important}@media only screen and (max-width: 480px){.title[_ngcontent-%COMP%]{font-size:16px}}@media only screen and (max-width: 481px){.mat-flat-button[_ngcontent-%COMP%]{padding:0}.title[_ngcontent-%COMP%]{font-size:18px}}@media only screen and (max-width: 768px){.title[_ngcontent-%COMP%]{font-size:18px}}"]}),n})(),_W=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-footer"]],decls:3,vars:0,consts:[["fxLayout","row","fxLayoutAlign","center center"]],template:function(t,i){1&t&&(u.TgZ(0,"footer",0)(1,"p"),u._uU(2,"Niconet vitres 2022 - Tous droits r\xe9serv\xe9s"),u.qZA()())},dependencies:[gc,pl],styles:["footer[_ngcontent-%COMP%]{background-color:#6c6c6c;padding:5px;color:#fff}p[_ngcontent-%COMP%]{height:100%;margin:0;padding:0}"]}),n})(),vW=(()=>{class n{constructor(){this.title="niconet"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(t,i){1&t&&u._UZ(0,"app-header")(1,"router-outlet")(2,"app-footer")},dependencies:[vo,yW,_W]}),n})();function O2(n){return new u.vHH(3e3,!1)}function e4(){return"undefined"!=typeof window&&void 0!==window.document}function IO(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Mh(n){switch(n.length){case 0:return new xm;case 1:return n[0];default:return new RE(n)}}function k2(n,e,t,i,r=new Map,a=new Map){const c=[],h=[];let y=-1,w=null;if(i.forEach(x=>{const T=x.get("offset"),P=T==y,V=P&&w||new Map;x.forEach((U,Q)=>{let _e=Q,xe=U;if("offset"!==Q)switch(_e=e.normalizePropertyName(_e,c),xe){case"!":xe=r.get(Q);break;case So:xe=a.get(Q);break;default:xe=e.normalizeStyleValue(Q,_e,xe,c)}V.set(_e,xe)}),P||h.push(V),w=V,y=T}),c.length)throw function HW(n){return new u.vHH(3502,!1)}();return h}function AO(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&SO(t,"start",n)));break;case"done":n.onDone(()=>i(t&&SO(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&SO(t,"destroy",n)))}}function SO(n,e,t){const i=t.totalTime,a=MO(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==i?n.totalTime:i,!!t.disabled),c=n._data;return null!=c&&(a._data=c),a}function MO(n,e,t,i,r="",a=0,c){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:a,disabled:!!c}}function Oo(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function F2(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let TO=(n,e)=>!1,P2=(n,e,t)=>[],N2=null;function RO(n){const e=n.parentNode||n.host;return e===N2?null:e}(IO()||"undefined"!=typeof Element)&&(e4()?(N2=(()=>document.documentElement)(),TO=(n,e)=>{for(;e;){if(e===n)return!0;e=RO(e)}return!1}):TO=(n,e)=>n.contains(e),P2=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let Gp=null,L2=!1;const V2=TO,B2=P2;let U2=(()=>{class n{validateStyleProperty(t){return function n4(n){Gp||(Gp=function i4(){return"undefined"!=typeof document?document.body:null}()||{},L2=!!Gp.style&&"WebkitAppearance"in Gp.style);let e=!0;return Gp.style&&!function t4(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Gp.style,!e&&L2&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Gp.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return V2(t,i)}getParentElement(t){return RO(t)}query(t,i,r){return B2(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,a,c,h=[],y){return new xm(r,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),OO=(()=>{class n{}return n.NOOP=new U2,n})();const kO="ng-enter",_x="ng-leave",vx="ng-trigger",bx=".ng-trigger",H2="ng-animating",FO=".ng-animating";function Nc(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:PO(parseFloat(e[1]),e[2])}function PO(n,e){return"s"===e?1e3*n:n}function wx(n,e,t){return n.hasOwnProperty("duration")?n:function o4(n,e,t){let r,a=0,c="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return e.push(O2()),{duration:0,delay:0,easing:""};r=PO(parseFloat(h[1]),h[2]);const y=h[3];null!=y&&(a=PO(parseFloat(y),h[4]));const w=h[5];w&&(c=w)}else r=n;if(!t){let h=!1,y=e.length;r<0&&(e.push(function bW(){return new u.vHH(3100,!1)}()),h=!0),a<0&&(e.push(function wW(){return new u.vHH(3101,!1)}()),h=!0),h&&e.splice(y,0,O2())}return{duration:r,delay:a,easing:c}}(n,e,t)}function qb(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function G2(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Th(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function z2(n,e,t){return t?e+":"+t+";":""}function q2(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=z2(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=z2(0,c4(t),n.style[t]));n.setAttribute("style",e)}function Eu(n,e,t){n.style&&(e.forEach((i,r)=>{const a=LO(r);t&&!t.has(r)&&t.set(r,n.style[a]),n.style[a]=i}),IO()&&q2(n))}function $p(n,e){n.style&&(e.forEach((t,i)=>{const r=LO(i);n.style[r]=""}),IO()&&q2(n))}function Wb(n){return Array.isArray(n)?1==n.length?n[0]:ME(n):n}const NO=new RegExp("{{\\s*(.+?)\\s*}}","g");function W2(n){let e=[];if("string"==typeof n){let t;for(;t=NO.exec(n);)e.push(t[1]);NO.lastIndex=0}return e}function Yb(n,e,t){const i=n.toString(),r=i.replace(NO,(a,c)=>{let h=e[c];return null==h&&(t.push(function EW(n){return new u.vHH(3003,!1)}()),h=""),h.toString()});return r==i?n:r}function Cx(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const u4=/-+([a-z0-9])/g;function LO(n){return n.replace(u4,(...e)=>e[1].toUpperCase())}function c4(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ko(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function DW(n){return new u.vHH(3004,!1)}()}}function Y2(n,e){return window.getComputedStyle(n)[e]}function m4(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function y4(n,e,t){if(":"==n[0]){const y=function _4(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function VW(n){return new u.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof y)return void e.push(y);n=y}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function LW(n){return new u.vHH(3015,!1)}()),e;const r=i[1],a=i[2],c=i[3];e.push(Z2(r,c));"<"==a[0]&&!("*"==r&&"*"==c)&&e.push(Z2(c,r))}(i,t,e)):t.push(n),t}const Ix=new Set(["true","1"]),Ax=new Set(["false","0"]);function Z2(n,e){const t=Ix.has(n)||Ax.has(n),i=Ix.has(e)||Ax.has(e);return(r,a)=>{let c="*"==n||n==r,h="*"==e||e==a;return!c&&t&&"boolean"==typeof r&&(c=r?Ix.has(n):Ax.has(n)),!h&&i&&"boolean"==typeof a&&(h=a?Ix.has(e):Ax.has(e)),c&&h}}const v4=new RegExp("s*:selfs*,?","g");function VO(n,e,t,i){return new b4(n).build(e,t,i)}class b4{constructor(e){this._driver=e}build(e,t,i){const r=new E4(t);return this._resetContextStyleTimingState(r),ko(this,Wb(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const a=[],c=[];return"@"==e.name.charAt(0)&&t.errors.push(function IW(){return new u.vHH(3006,!1)}()),e.definitions.forEach(h=>{if(this._resetContextStyleTimingState(t),0==h.type){const y=h,w=y.name;w.toString().split(/\s*,\s*/).forEach(x=>{y.name=x,a.push(this.visitState(y,t))}),y.name=w}else if(1==h.type){const y=this.visitTransition(h,t);i+=y.queryCount,r+=y.depCount,c.push(y)}else t.errors.push(function AW(){return new u.vHH(3007,!1)}())}),{type:7,name:e.name,states:a,transitions:c,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const a=new Set,c=r||{};i.styles.forEach(h=>{h instanceof Map&&h.forEach(y=>{W2(y).forEach(w=>{c.hasOwnProperty(w)||a.add(w)})})}),a.size&&(Cx(a.values()),t.errors.push(function SW(n,e){return new u.vHH(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=ko(this,Wb(e.animation),t);return{type:1,matchers:m4(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:zp(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>ko(this,i,t)),options:zp(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const a=e.steps.map(c=>{t.currentTime=i;const h=ko(this,c,t);return r=Math.max(r,t.currentTime),h});return t.currentTime=r,{type:3,steps:a,options:zp(e.options)}}visitAnimate(e,t){const i=function x4(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return BO(wx(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=BO(0,0,"");return a.dynamic=!0,a.strValue=t,a}const r=wx(t,e);return BO(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,a=e.styles?e.styles:Os({});if(5==a.type)r=this.visitKeyframes(a,t);else{let c=e.styles,h=!1;if(!c){h=!0;const w={};i.easing&&(w.easing=i.easing),c=Os(w)}t.currentTime+=i.duration+i.delay;const y=this.visitStyle(c,t);y.isEmptyStep=h,r=y}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let h of r)"string"==typeof h?h===So?i.push(h):t.errors.push(new u.vHH(3002,!1)):i.push(G2(h));let a=!1,c=null;return i.forEach(h=>{if(h instanceof Map&&(h.has("easing")&&(c=h.get("easing"),h.delete("easing")),!a))for(let y of h.values())if(y.toString().indexOf("{{")>=0){a=!0;break}}),{type:6,styles:i,easing:c,offset:e.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,a=t.currentTime;i&&a>0&&(a-=i.duration+i.delay),e.styles.forEach(c=>{"string"!=typeof c&&c.forEach((h,y)=>{const w=t.collectedStyles.get(t.currentQuerySelector),x=w.get(y);let T=!0;x&&(a!=r&&a>=x.startTime&&r<=x.endTime&&(t.errors.push(function TW(n,e,t,i,r){return new u.vHH(3010,!1)}()),T=!1),a=x.startTime),T&&w.set(y,{startTime:a,endTime:r}),t.options&&function l4(n,e,t){const i=e.params||{},r=W2(n);r.length&&r.forEach(a=>{i.hasOwnProperty(a)||t.push(function CW(n){return new u.vHH(3001,!1)}())})}(h,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function RW(){return new u.vHH(3011,!1)}()),i;let a=0;const c=[];let h=!1,y=!1,w=0;const x=e.steps.map(xe=>{const Ke=this._makeStyleAst(xe,t);let ft=null!=Ke.offset?Ke.offset:function D4(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(Ke.styles),Je=0;return null!=ft&&(a++,Je=Ke.offset=ft),y=y||Je<0||Je>1,h=h||Je<w,w=Je,c.push(Je),Ke});y&&t.errors.push(function OW(){return new u.vHH(3012,!1)}()),h&&t.errors.push(function kW(){return new u.vHH(3200,!1)}());const T=e.steps.length;let P=0;a>0&&a<T?t.errors.push(function FW(){return new u.vHH(3202,!1)}()):0==a&&(P=1/(T-1));const V=T-1,U=t.currentTime,Q=t.currentAnimateTimings,_e=Q.duration;return x.forEach((xe,Ke)=>{const ft=P>0?Ke==V?1:P*Ke:c[Ke],Je=ft*_e;t.currentTime=U+Q.delay+Je,Q.duration=Je,this._validateStyleAst(xe,t),xe.offset=ft,i.styles.push(xe)}),i}visitReference(e,t){return{type:8,animation:ko(this,Wb(e.animation),t),options:zp(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:zp(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:zp(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[a,c]=function w4(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(v4,"")),n=n.replace(/@\*/g,bx).replace(/@\w+/g,t=>bx+"-"+t.slice(1)).replace(/:animating/g,FO),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+a:a,Oo(t.collectedStyles,t.currentQuerySelector,new Map);const h=ko(this,Wb(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:a,limit:r.limit||0,optional:!!r.optional,includeSelf:c,animation:h,originalSelector:e.selector,options:zp(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function PW(){return new u.vHH(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:wx(e.timings,t.errors,!0);return{type:12,animation:ko(this,Wb(e.animation),t),timings:i,options:null}}}class E4{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function zp(n){return n?(n=qb(n)).params&&(n.params=function C4(n){return n?qb(n):null}(n.params)):n={},n}function BO(n,e,t){return{duration:n,delay:e,easing:t}}function UO(n,e,t,i,r,a,c=null,h=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:a,totalTime:r+a,easing:c,subTimeline:h}}class Sx{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const S4=new RegExp(":enter","g"),T4=new RegExp(":leave","g");function jO(n,e,t,i,r,a=new Map,c=new Map,h,y,w=[]){return(new R4).buildKeyframes(n,e,t,i,r,a,c,h,y,w)}class R4{buildKeyframes(e,t,i,r,a,c,h,y,w,x=[]){w=w||new Sx;const T=new HO(e,t,w,r,a,x,[]);T.options=y;const P=y.delay?Nc(y.delay):0;T.currentTimeline.delayNextStep(P),T.currentTimeline.setStyles([c],null,T.errors,y),ko(this,i,T);const V=T.timelines.filter(U=>U.containsAnimation());if(V.length&&h.size){let U;for(let Q=V.length-1;Q>=0;Q--){const _e=V[Q];if(_e.element===t){U=_e;break}}U&&!U.allowOnlyTimelineStyles()&&U.setStyles([h],null,T.errors,y)}return V.length?V.map(U=>U.buildKeyframes()):[UO(t,[],[],[],0,P,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),a=t.currentTimeline.currentTime,c=this._visitSubInstructions(i,r,r.options);a!=c&&t.transformIntoNewTimeline(c)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){var r;for(const a of e){const c=null==a?void 0:a.delay;if(c){const h="number"==typeof c?c:Nc(Yb(c,null!==(r=null==a?void 0:a.params)&&void 0!==r?r:{},t.errors));i.delayNextStep(h)}}}_visitSubInstructions(e,t,i){let a=t.currentTimeline.currentTime;const c=null!=i.duration?Nc(i.duration):null,h=null!=i.delay?Nc(i.delay):null;return 0!==c&&e.forEach(y=>{const w=t.appendInstructionToTimeline(y,c,h);a=Math.max(a,w.duration+w.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),ko(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const a=e.options;if(a&&(a.params||a.delay)&&(r=t.createSubContext(a),r.transformIntoNewTimeline(),null!=a.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Mx);const c=Nc(a.delay);r.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>ko(this,c,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?Nc(e.options.delay):0;e.steps.forEach(c=>{const h=t.createSubContext(e.options);a&&h.delayNextStep(a),ko(this,c,h),r=Math.max(r,h.currentTimeline.currentTime),i.push(h.currentTimeline)}),i.forEach(c=>t.currentTimeline.mergeTimelineCollectedStyles(c)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return wx(t.params?Yb(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(i.duration),this.visitStyle(a,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const a=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(a):i.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,a=i.duration,h=t.createSubContext().currentTimeline;h.easing=i.easing,e.styles.forEach(y=>{h.forwardTime((y.offset||0)*a),h.setStyles(y.styles,y.easing,t.errors,t.options),h.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(h),t.transformIntoNewTimeline(r+a),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},a=r.delay?Nc(r.delay):0;a&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Mx);let c=i;const h=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=h.length;let y=null;h.forEach((w,x)=>{t.currentQueryIndex=x;const T=t.createSubContext(e.options,w);a&&T.delayNextStep(a),w===t.element&&(y=T.currentTimeline),ko(this,e.animation,T),T.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,T.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(c),y&&(t.currentTimeline.mergeTimelineCollectedStyles(y),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,a=e.timings,c=Math.abs(a.duration),h=c*(t.currentQueryTotal-1);let y=c*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":y=h-y;break;case"full":y=i.currentStaggerTime}const x=t.currentTimeline;y&&x.delayNextStep(y);const T=x.currentTime;ko(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-T+(r.startTime-i.currentTimeline.startTime)}}const Mx={};class HO{constructor(e,t,i,r,a,c,h,y){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=a,this.errors=c,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Mx,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=y||new Tx(this._driver,t,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=Nc(i.duration)),null!=i.delay&&(r.delay=Nc(i.delay));const a=i.params;if(a){let c=r.params;c||(c=this.options.params={}),Object.keys(a).forEach(h=>{(!t||!c.hasOwnProperty(h))&&(c[h]=Yb(a[h],c,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,a=new HO(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=Mx,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+e.delay,easing:""},a=new O4(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(a),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,a,c){let h=[];if(r&&h.push(this.element),e.length>0){e=(e=e.replace(S4,"."+this._enterClassName)).replace(T4,"."+this._leaveClassName);let w=this._driver.query(this.element,e,1!=i);0!==i&&(w=i<0?w.slice(w.length+i,w.length):w.slice(0,i)),h.push(...w)}return!a&&0==h.length&&c.push(function NW(n){return new u.vHH(3014,!1)}()),h}}class Tx{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Tx(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||So),this._currentKeyframe.set(t,So);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){var a;t&&this._previousKeyframe.set("easing",t);const c=r&&r.params||{},h=function k4(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let a of i)t.set(a,So)}else Th(r,t)}),t}(e,this._globalTimelineStyles);for(let[y,w]of h){const x=Yb(w,c,i);this._pendingStyles.set(y,x),this._localTimelineStyles.has(y)||this._backFill.set(y,null!==(a=this._globalTimelineStyles.get(y))&&void 0!==a?a:So),this._updateStyle(y,x)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((h,y)=>{const w=Th(h,new Map,this._backFill);w.forEach((x,T)=>{"!"===x?e.add(T):x===So&&t.add(T)}),i||w.set("offset",y/this.duration),r.push(w)});const a=e.size?Cx(e.values()):[],c=t.size?Cx(t.values()):[];if(i){const h=r[0],y=new Map(h);h.set("offset",0),y.set("offset",1),r=[h,y]}return UO(this.element,r,a,c,this.duration,this.startTime,this.easing,!1)}}class O4 extends Tx{constructor(e,t,i,r,a,c,h=!1){super(e,t,c.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=a,this._stretchStartingKeyframe=h,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],c=i+t,h=t/c,y=Th(e[0]);y.set("offset",0),a.push(y);const w=Th(e[0]);w.set("offset",X2(h)),a.push(w);const x=e.length-1;for(let T=1;T<=x;T++){let P=Th(e[T]);const V=P.get("offset");P.set("offset",X2((t+V*i)/c)),a.push(P)}i=c,t=0,r="",e=a}return UO(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function X2(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class GO{}const F4=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class P4 extends GO{normalizePropertyName(e,t){return LO(e)}normalizeStyleValue(e,t,i,r){let a="";const c=i.toString().trim();if(F4.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)a="px";else{const h=i.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&r.push(function xW(n,e){return new u.vHH(3005,!1)}())}return c+a}}function J2(n,e,t,i,r,a,c,h,y,w,x,T,P){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:a,toState:i,toStyles:c,timelines:h,queriedElements:y,preStyleProps:w,postStyleProps:x,totalTime:T,errors:P}}const $O={};class eU{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function N4(n,e,t,i,r){return n.some(a=>a(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(null==e?void 0:e.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,a,c,h,y,w,x){var T;const P=[],V=this.ast.options&&this.ast.options.params||$O,Q=this.buildStyles(i,h&&h.params||$O,P),_e=y&&y.params||$O,xe=this.buildStyles(r,_e,P),Ke=new Set,ft=new Map,Je=new Map,Ct="void"===r,Nt={params:L4(_e,V),delay:null===(T=this.ast.options)||void 0===T?void 0:T.delay},fn=x?[]:jO(e,t,this.ast.animation,a,c,Q,xe,Nt,w,P);let Ir=0;if(fn.forEach(Al=>{Ir=Math.max(Al.duration+Al.delay,Ir)}),P.length)return J2(t,this._triggerName,i,r,Ct,Q,xe,[],[],ft,Je,Ir,P);fn.forEach(Al=>{const Kb=Al.element,Qb=Oo(ft,Kb,new Set);Al.preStyleProps.forEach(ay=>Qb.add(ay));const Xb=Oo(Je,Kb,new Set);Al.postStyleProps.forEach(ay=>Xb.add(ay)),Kb!==t&&Ke.add(Kb)});const Fx=Cx(Ke.values());return J2(t,this._triggerName,i,r,Ct,Q,xe,fn,Fx,ft,Je,Ir)}}function L4(n,e){const t=qb(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class V4{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=qb(this.defaultParams);return Object.keys(e).forEach(a=>{const c=e[a];null!==c&&(r[a]=c)}),this.styles.styles.forEach(a=>{"string"!=typeof a&&a.forEach((c,h)=>{c&&(c=Yb(c,r,t));const y=this.normalizer.normalizePropertyName(h,t);c=this.normalizer.normalizeStyleValue(h,y,c,t),i.set(y,c)})}),i}}class U4{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new V4(r.style,r.options&&r.options.params||{},i))}),tU(this.states,"true","1"),tU(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new eU(e,r,this.states))}),this.fallbackTransition=function j4(n,e,t){return new eU(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,h)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(c=>c.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function tU(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const H4=new Sx;class G4{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],a=VO(this._driver,t,i,[]);if(i.length)throw function GW(n){return new u.vHH(3503,!1)}();this._animations.set(e,a)}_buildPlayer(e,t,i){const r=e.element,a=k2(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],a=this._animations.get(e);let c;const h=new Map;if(a?(c=jO(this._driver,t,a,kO,_x,new Map,new Map,i,H4,r),c.forEach(x=>{const T=Oo(h,x.element,new Map);x.postStyleProps.forEach(P=>T.set(P,null))})):(r.push(function $W(){return new u.vHH(3300,!1)}()),c=[]),r.length)throw function zW(n){return new u.vHH(3504,!1)}();h.forEach((x,T)=>{x.forEach((P,V)=>{x.set(V,this._driver.computeStyle(T,V,So))})});const w=Mh(c.map(x=>{const T=h.get(x.element);return this._buildPlayer(x,new Map,T)}));return this._playersById.set(e,w),w.onDestroy(()=>this.destroy(e)),this.players.push(w),w}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function qW(n){return new u.vHH(3301,!1)}();return t}listen(e,t,i,r){const a=MO(t,"","","");return AO(this._getPlayer(e),i,a,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const a=this._getPlayer(e);switch(i){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const nU="ng-animate-queued",zO="ng-animate-disabled",Y4=[],iU={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Z4={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ba="__ng_removed";class qO{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function J4(n){return null!=n?n:null}(i?e.value:e),i){const a=qb(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const Zb="void",WO=new qO(Zb);class K4{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,wa(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function WW(n,e){return new u.vHH(3302,!1)}();if(null==i||0==i.length)throw function YW(n){return new u.vHH(3303,!1)}();if(!function e8(n){return"start"==n||"done"==n}(i))throw function ZW(n,e){return new u.vHH(3400,!1)}();const a=Oo(this._elementListeners,e,[]),c={name:t,phase:i,callback:r};a.push(c);const h=Oo(this._engine.statesByElement,e,new Map);return h.has(t)||(wa(e,vx),wa(e,vx+"-"+t),h.set(t,WO)),()=>{this._engine.afterFlush(()=>{const y=a.indexOf(c);y>=0&&a.splice(y,1),this._triggers.has(t)||h.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function KW(n){return new u.vHH(3401,!1)}();return t}trigger(e,t,i,r=!0){const a=this._getTrigger(t),c=new YO(this.id,t,e);let h=this._engine.statesByElement.get(e);h||(wa(e,vx),wa(e,vx+"-"+t),this._engine.statesByElement.set(e,h=new Map));let y=h.get(t);const w=new qO(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&y&&w.absorbOptions(y.options),h.set(t,w),y||(y=WO),w.value!==Zb&&y.value===w.value){if(!function i8(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const a=t[r];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(y.params,w.params)){const Q=[],_e=a.matchStyles(y.value,y.params,Q),xe=a.matchStyles(w.value,w.params,Q);Q.length?this._engine.reportError(Q):this._engine.afterFlush(()=>{$p(e,_e),Eu(e,xe)})}return}const P=Oo(this._engine.playersByElement,e,[]);P.forEach(Q=>{Q.namespaceId==this.id&&Q.triggerName==t&&Q.queued&&Q.destroy()});let V=a.matchTransition(y.value,w.value,e,w.params),U=!1;if(!V){if(!r)return;V=a.fallbackTransition,U=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:V,fromState:y,toState:w,player:c,isFallbackTransition:U}),U||(wa(e,nU),c.onStart(()=>{oy(e,nU)})),c.onDone(()=>{let Q=this.players.indexOf(c);Q>=0&&this.players.splice(Q,1);const _e=this._engine.playersByElement.get(e);if(_e){let xe=_e.indexOf(c);xe>=0&&_e.splice(xe,1)}}),this.players.push(c),P.push(c),c}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,bx,!0);i.forEach(r=>{if(r[ba])return;const a=this._engine.fetchNamespacesByElement(r);a.size?a.forEach(c=>c.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const a=this._engine.statesByElement.get(e),c=new Map;if(a){const h=[];if(a.forEach((y,w)=>{if(c.set(w,y.value),this._triggers.has(w)){const x=this.trigger(e,w,Zb,r);x&&h.push(x)}}),h.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,c),i&&Mh(h).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(a=>{const c=a.name;if(r.has(c))return;r.add(c);const y=this._triggers.get(c).fallbackTransition,w=i.get(c)||WO,x=new qO(Zb),T=new YO(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:y,fromState:w,toState:x,player:T,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const a=i.players.length?i.playersByQueriedElement.get(e):[];if(a&&a.length)r=!0;else{let c=e;for(;c=c.parentNode;)if(i.statesByElement.get(c)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const a=e[ba];(!a||a===iU)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){wa(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const a=i.element,c=this._elementListeners.get(a);c&&c.forEach(h=>{if(h.name==i.triggerName){const y=MO(a,i.triggerName,i.fromState.value,i.toState.value);y._data=e,AO(i.player,h.phase,y,h.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const a=i.transition.ast.depCount,c=r.transition.ast.depCount;return 0==a||0==c?a-c:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class Q4{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,a)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new K4(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let c=!1,h=this.driver.getParentElement(t);for(;h;){const y=r.get(h);if(y){const w=i.indexOf(y);i.splice(w+1,0,e),c=!0;break}h=this.driver.getParentElement(h)}c||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const a=this._fetchNamespace(r.namespaceId);a&&t.add(a)}return t}trigger(e,t,i,r){if(Rx(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!Rx(t))return;const a=t[ba];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const c=this.collectedLeaveElements.indexOf(t);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){const c=this._fetchNamespace(e);c&&c.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),wa(e,zO)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),oy(e,zO))}removeNode(e,t,i,r){if(Rx(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const c=this.namespacesByHostElement.get(t);c&&c.id!==e&&c.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,a){this.collectedLeaveElements.push(t),t[ba]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,i,r,a){return Rx(t)?this._fetchNamespace(e).listen(t,i,r,a):()=>{}}_buildInstruction(e,t,i,r,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,bx,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,FO,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Mh(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const i=e[ba];if(i&&i.setForRemoval){if(e[ba]=iU,i.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,i.setForRemoval)}!(null===(t=e.classList)||void 0===t)&&t.contains(zO)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)wa(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?Mh(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function QW(n){return new u.vHH(3402,!1)}()}_flushAnimations(e,t){const i=new Sx,r=[],a=new Map,c=[],h=new Map,y=new Map,w=new Map,x=new Set;this.disabledNodes.forEach(gt=>{x.add(gt);const Et=this.driver.query(gt,".ng-animate-queued",!0);for(let Tt=0;Tt<Et.length;Tt++)x.add(Et[Tt])});const T=this.bodyNode,P=Array.from(this.statesByElement.keys()),V=oU(P,this.collectedEnterElements),U=new Map;let Q=0;V.forEach((gt,Et)=>{const Tt=kO+Q++;U.set(Et,Tt),gt.forEach(Jt=>wa(Jt,Tt))});const _e=[],xe=new Set,Ke=new Set;for(let gt=0;gt<this.collectedLeaveElements.length;gt++){const Et=this.collectedLeaveElements[gt],Tt=Et[ba];Tt&&Tt.setForRemoval&&(_e.push(Et),xe.add(Et),Tt.hasAnimation?this.driver.query(Et,".ng-star-inserted",!0).forEach(Jt=>xe.add(Jt)):Ke.add(Et))}const ft=new Map,Je=oU(P,Array.from(xe));Je.forEach((gt,Et)=>{const Tt=_x+Q++;ft.set(Et,Tt),gt.forEach(Jt=>wa(Jt,Tt))}),e.push(()=>{V.forEach((gt,Et)=>{const Tt=U.get(Et);gt.forEach(Jt=>oy(Jt,Tt))}),Je.forEach((gt,Et)=>{const Tt=ft.get(Et);gt.forEach(Jt=>oy(Jt,Tt))}),_e.forEach(gt=>{this.processLeaveNode(gt)})});const Ct=[],Nt=[];for(let gt=this._namespaceList.length-1;gt>=0;gt--)this._namespaceList[gt].drainQueuedTransitions(t).forEach(Tt=>{const Jt=Tt.player,Si=Tt.element;if(Ct.push(Jt),this.collectedEnterElements.length){const ds=Si[ba];if(ds&&ds.setForMove){if(ds.previousTriggersValues&&ds.previousTriggersValues.has(Tt.triggerName)){const qp=ds.previousTriggersValues.get(Tt.triggerName),Ca=this.statesByElement.get(Tt.element);if(Ca&&Ca.has(Tt.triggerName)){const Px=Ca.get(Tt.triggerName);Px.value=qp,Ca.set(Tt.triggerName,Px)}}return void Jt.destroy()}}const Du=!T||!this.driver.containsElement(T,Si),Fo=ft.get(Si),Rh=U.get(Si),vi=this._buildInstruction(Tt,i,Rh,Fo,Du);if(vi.errors&&vi.errors.length)return void Nt.push(vi);if(Du)return Jt.onStart(()=>$p(Si,vi.fromStyles)),Jt.onDestroy(()=>Eu(Si,vi.toStyles)),void r.push(Jt);if(Tt.isFallbackTransition)return Jt.onStart(()=>$p(Si,vi.fromStyles)),Jt.onDestroy(()=>Eu(Si,vi.toStyles)),void r.push(Jt);const IU=[];vi.timelines.forEach(ds=>{ds.stretchStartingKeyframe=!0,this.disabledNodes.has(ds.element)||IU.push(ds)}),vi.timelines=IU,i.append(Si,vi.timelines),c.push({instruction:vi,player:Jt,element:Si}),vi.queriedElements.forEach(ds=>Oo(h,ds,[]).push(Jt)),vi.preStyleProps.forEach((ds,qp)=>{if(ds.size){let Ca=y.get(qp);Ca||y.set(qp,Ca=new Set),ds.forEach((Px,QO)=>Ca.add(QO))}}),vi.postStyleProps.forEach((ds,qp)=>{let Ca=w.get(qp);Ca||w.set(qp,Ca=new Set),ds.forEach((Px,QO)=>Ca.add(QO))})});if(Nt.length){const gt=[];Nt.forEach(Et=>{gt.push(function XW(n,e){return new u.vHH(3505,!1)}())}),Ct.forEach(Et=>Et.destroy()),this.reportError(gt)}const fn=new Map,Ir=new Map;c.forEach(gt=>{const Et=gt.element;i.has(Et)&&(Ir.set(Et,Et),this._beforeAnimationBuild(gt.player.namespaceId,gt.instruction,fn))}),r.forEach(gt=>{const Et=gt.element;this._getPreviousPlayers(Et,!1,gt.namespaceId,gt.triggerName,null).forEach(Jt=>{Oo(fn,Et,[]).push(Jt),Jt.destroy()})});const Fx=_e.filter(gt=>lU(gt,y,w)),Al=new Map;sU(Al,this.driver,Ke,w,So).forEach(gt=>{lU(gt,y,w)&&Fx.push(gt)});const Qb=new Map;V.forEach((gt,Et)=>{sU(Qb,this.driver,new Set(gt),y,"!")}),Fx.forEach(gt=>{var Et,Tt;const Jt=Al.get(gt),Si=Qb.get(gt);Al.set(gt,new Map([...Array.from(null!==(Et=null==Jt?void 0:Jt.entries())&&void 0!==Et?Et:[]),...Array.from(null!==(Tt=null==Si?void 0:Si.entries())&&void 0!==Tt?Tt:[])]))});const Xb=[],ay=[],xU={};c.forEach(gt=>{const{element:Et,player:Tt,instruction:Jt}=gt;if(i.has(Et)){if(x.has(Et))return Tt.onDestroy(()=>Eu(Et,Jt.toStyles)),Tt.disabled=!0,Tt.overrideTotalTime(Jt.totalTime),void r.push(Tt);let Si=xU;if(Ir.size>1){let Fo=Et;const Rh=[];for(;Fo=Fo.parentNode;){const vi=Ir.get(Fo);if(vi){Si=vi;break}Rh.push(Fo)}Rh.forEach(vi=>Ir.set(vi,Si))}const Du=this._buildAnimation(Tt.namespaceId,Jt,fn,a,Qb,Al);if(Tt.setRealPlayer(Du),Si===xU)Xb.push(Tt);else{const Fo=this.playersByElement.get(Si);Fo&&Fo.length&&(Tt.parentPlayer=Mh(Fo)),r.push(Tt)}}else $p(Et,Jt.fromStyles),Tt.onDestroy(()=>Eu(Et,Jt.toStyles)),ay.push(Tt),x.has(Et)&&r.push(Tt)}),ay.forEach(gt=>{const Et=a.get(gt.element);if(Et&&Et.length){const Tt=Mh(Et);gt.setRealPlayer(Tt)}}),r.forEach(gt=>{gt.parentPlayer?gt.syncPlayerEvents(gt.parentPlayer):gt.destroy()});for(let gt=0;gt<_e.length;gt++){const Et=_e[gt],Tt=Et[ba];if(oy(Et,_x),Tt&&Tt.hasAnimation)continue;let Jt=[];if(h.size){let Du=h.get(Et);Du&&Du.length&&Jt.push(...Du);let Fo=this.driver.query(Et,FO,!0);for(let Rh=0;Rh<Fo.length;Rh++){let vi=h.get(Fo[Rh]);vi&&vi.length&&Jt.push(...vi)}}const Si=Jt.filter(Du=>!Du.destroyed);Si.length?t8(this,Et,Si):this.processLeaveNode(Et)}return _e.length=0,Xb.forEach(gt=>{this.players.push(gt),gt.onDone(()=>{gt.destroy();const Et=this.players.indexOf(gt);this.players.splice(Et,1)}),gt.play()}),Xb}elementContainsData(e,t){let i=!1;const r=t[ba];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,a){let c=[];if(t){const h=this.playersByQueriedElement.get(e);h&&(c=h)}else{const h=this.playersByElement.get(e);if(h){const y=!a||a==Zb;h.forEach(w=>{w.queued||!y&&w.triggerName!=r||c.push(w)})}}return(i||r)&&(c=c.filter(h=>!(i&&i!=h.namespaceId||r&&r!=h.triggerName))),c}_beforeAnimationBuild(e,t,i){const a=t.element,c=t.isRemovalTransition?void 0:e,h=t.isRemovalTransition?void 0:t.triggerName;for(const y of t.timelines){const w=y.element,x=w!==a,T=Oo(i,w,[]);this._getPreviousPlayers(w,x,c,h,t.toState).forEach(V=>{const U=V.getRealPlayer();U.beforeDestroy&&U.beforeDestroy(),V.destroy(),T.push(V)})}$p(a,t.fromStyles)}_buildAnimation(e,t,i,r,a,c){const h=t.triggerName,y=t.element,w=[],x=new Set,T=new Set,P=t.timelines.map(U=>{const Q=U.element;x.add(Q);const _e=Q[ba];if(_e&&_e.removedBeforeQueried)return new xm(U.duration,U.delay);const xe=Q!==y,Ke=function n8(n){const e=[];return aU(n,e),e}((i.get(Q)||Y4).map(fn=>fn.getRealPlayer())).filter(fn=>!!fn.element&&fn.element===Q),ft=a.get(Q),Je=c.get(Q),Ct=k2(0,this._normalizer,0,U.keyframes,ft,Je),Nt=this._buildPlayer(U,Ct,Ke);if(U.subTimeline&&r&&T.add(Q),xe){const fn=new YO(e,h,Q);fn.setRealPlayer(Nt),w.push(fn)}return Nt});w.forEach(U=>{Oo(this.playersByQueriedElement,U.element,[]).push(U),U.onDone(()=>function X4(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,U.element,U))}),x.forEach(U=>wa(U,H2));const V=Mh(P);return V.onDestroy(()=>{x.forEach(U=>oy(U,H2)),Eu(y,t.toStyles)}),T.forEach(U=>{Oo(r,U,[]).push(V)}),V}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new xm(e.duration,e.delay)}}class YO{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new xm,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>AO(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Oo(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Rx(n){return n&&1===n.nodeType}function rU(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function sU(n,e,t,i,r){const a=[];t.forEach(y=>a.push(rU(y)));const c=[];i.forEach((y,w)=>{const x=new Map;y.forEach(T=>{const P=e.computeStyle(w,T,r);x.set(T,P),(!P||0==P.length)&&(w[ba]=Z4,c.push(w))}),n.set(w,x)});let h=0;return t.forEach(y=>rU(y,a[h++])),c}function oU(n,e){const t=new Map;if(n.forEach(h=>t.set(h,[])),0==e.length)return t;const r=new Set(e),a=new Map;function c(h){if(!h)return 1;let y=a.get(h);if(y)return y;const w=h.parentNode;return y=t.has(w)?w:r.has(w)?1:c(w),a.set(h,y),y}return e.forEach(h=>{const y=c(h);1!==y&&t.get(y).push(h)}),t}function wa(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function oy(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function t8(n,e,t){Mh(t).onDone(()=>n.processLeaveNode(e))}function aU(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof RE?aU(i.players,e):e.push(i)}}function lU(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(a=>r.add(a)):e.set(n,i),t.delete(n),!0}class Ox{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,a)=>{},this._transitionEngine=new Q4(e,t,i),this._timelineEngine=new G4(e,t,i),this._transitionEngine.onRemovalComplete=(r,a)=>this.onRemovalComplete(r,a)}registerTrigger(e,t,i,r,a){const c=e+"-"+r;let h=this._triggerCache[c];if(!h){const y=[],x=VO(this._driver,a,y,[]);if(y.length)throw function jW(n,e){return new u.vHH(3404,!1)}();h=function B4(n,e,t){return new U4(n,e,t)}(r,x,this._normalizer),this._triggerCache[c]=h}this._transitionEngine.registerTrigger(t,r,h)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[a,c]=F2(i);this._timelineEngine.command(a,t,c,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,a){if("@"==i.charAt(0)){const[c,h]=F2(i);return this._timelineEngine.listen(c,t,h,a)}return this._transitionEngine.listen(e,t,i,r,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let s8=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&Eu(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Eu(this._element,this._initialStyles),this._endStyles&&(Eu(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&($p(this._element,this._startStyles),this._endStyles=null),this._endStyles&&($p(this._element,this._endStyles),this._endStyles=null),Eu(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function ZO(n){let e=null;return n.forEach((t,i)=>{(function o8(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class uU{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:Y2(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class a8{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return V2(e,t)}getParentElement(e){return RO(e)}query(e,t,i){return B2(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,a,c=[]){const y={duration:i,delay:r,fill:0==r?"both":"forwards"};a&&(y.easing=a);const w=new Map,x=c.filter(V=>V instanceof uU);(function d4(n,e){return 0===n||0===e})(i,r)&&x.forEach(V=>{V.currentSnapshot.forEach((U,Q)=>w.set(Q,U))});let T=function a4(n){return n.length?n[0]instanceof Map?n:n.map(e=>G2(e)):[]}(t).map(V=>Th(V));T=function h4(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((a,c)=>{i.has(c)||r.push(c),i.set(c,a)}),r.length)for(let a=1;a<e.length;a++){let c=e[a];r.forEach(h=>c.set(h,Y2(n,h)))}}return e}(e,T,w);const P=function r8(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=ZO(e[0]),e.length>1&&(i=ZO(e[e.length-1]))):e instanceof Map&&(t=ZO(e)),t||i?new s8(n,t,i):null}(e,T);return new uU(e,T,y,P)}}let l8=(()=>{class n extends AE{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:u.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?ME(t):t;return cU(this._renderer,null,i,"register",[r]),new u8(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(ne))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class u8 extends class SE{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new c8(this._id,e,t||{},this._renderer)}}class c8{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return cU(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function cU(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const dU="@.disabled";let d8=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(a,c)=>{const h=null==c?void 0:c.parentNode(a);h&&c.removeChild(h,a)}}createRenderer(t,i){const a=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let x=this._rendererCache.get(a);return x||(x=new hU("",a,this.engine,()=>this._rendererCache.delete(a)),this._rendererCache.set(a,x)),x}const c=i.id,h=i.id+"-"+this._currentId;this._currentId++,this.engine.register(h,t);const y=x=>{Array.isArray(x)?x.forEach(y):this.engine.registerTrigger(c,h,t,x.name,x)};return i.data.animation.forEach(y),new h8(this,h,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[c,h]=a;c(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(Ox),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class hU{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?a=>t.destroyNode(a):null}get data(){return this.delegate.data}destroy(){var e;this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),null===(e=this._onDestroy)||void 0===e||e.call(this)}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==dU?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class h8 extends hU{constructor(e,t,i,r,a){super(t,i,r,a),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==dU?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function f8(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.slice(1),c="";return"@"!=a.charAt(0)&&([a,c]=function p8(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(a)),this.engine.listen(this.namespaceId,r,a,c,h=>{this.factory.scheduleListenerCallback(h._data||-1,i,h)})}return this.delegate.listen(e,t,i)}}let g8=(()=>{class n extends Ox{constructor(t,i,r,a){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ne),u.LFG(OO),u.LFG(GO),u.LFG(u.z2F))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const fU=[{provide:AE,useClass:l8},{provide:GO,useFactory:function m8(){return new P4}},{provide:Ox,useClass:g8},{provide:u.FYo,useFactory:function y8(n,e,t){return new d8(n,e,t)},deps:[Yo,Ox,u.R0b]}],KO=[{provide:OO,useFactory:()=>new a8},{provide:u.QbO,useValue:"BrowserAnimations"},...fU],pU=[{provide:OO,useClass:U2},{provide:u.QbO,useValue:"NoopAnimations"},...fU];let _8=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?pU:KO}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:KO,imports:[Ha]}),n})(),CU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[cu]]}),n})(),UY=(()=>{class n{constructor(t,i){Or(i)&&!t&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(t,i=[]){return{ngModule:n,providers:t.serverLoaded?[{provide:Co,useValue:Object.assign(Object.assign({},Bd),t)},{provide:Wy,useValue:i,multi:!0},{provide:pc,useValue:!0}]:[{provide:Co,useValue:Object.assign(Object.assign({},Bd),t)},{provide:Wy,useValue:i,multi:!0}]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(pc),u.LFG(u.Lbi))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[mw,BP,CU],mw,BP,CU]}),n})();const $Y={provide:new u.OlP("mat-menu-scroll-strategy"),deps:[dp],useFactory:function GY(n){return()=>n.scrollStrategies.reposition()}};let zY=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[$Y],imports:[Kr,yi,U_,fM,dM,yi]}),n})();const DU_firebaseConfig={apiKey:"AIzaSyBPY7goT4XgquArR8MMOk_BVL4RLYOX3o8",authDomain:"my-fasting.firebaseapp.com",projectId:"my-fasting",storageBucket:"my-fasting.appspot.com",messagingSenderId:"191415009122",appId:"1:191415009122:web:0c0c3b01ec989a843df63b"};let qY=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n,bootstrap:[vW]}),n.\u0275inj=u.cJS({imports:[Ha,uj,_8,mW,UY,wP,yC,rM,dE,Bj,oj,zY,wE,HH,Dl.hO.initializeApp(DU_firebaseConfig)]}),n})();(0,u.G48)(),ql().bootstrapModule(qY).catch(n=>console.error(n))},5867:(nt,be,F)=>{F.d(be,{C6:()=>u.getApps,Mq:()=>u.getApp});var u=F(9681);(0,u.registerVersion)("firebase","9.10.0","app")},127:(nt,be,F)=>{F.d(be,{Z:()=>u.Z});var u=F(3942);u.Z.registerVersion("firebase","9.10.0","app-compat")},6786:(nt,be,F)=>{F.r(be);var u=F(5861),te=F(3942),L=F(2090),ue=F(9681);function de(_,p){var g={};for(var b in _)Object.prototype.hasOwnProperty.call(_,b)&&p.indexOf(b)<0&&(g[b]=_[b]);if(null!=_&&"function"==typeof Object.getOwnPropertySymbols){var S=0;for(b=Object.getOwnPropertySymbols(_);S<b.length;S++)p.indexOf(b[S])<0&&Object.prototype.propertyIsEnumerable.call(_,b[S])&&(g[b[S]]=_[b[S]])}return g}var Be=F(1877),Ue=F(4859);const tn=function ti(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Li=function en(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},An=new L.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Sl=new Be.Yd("@firebase/auth");function Mi(_,...p){Sl.logLevel<=Be.in.ERROR&&Sl.error(`Auth (${ue.SDK_VERSION}): ${_}`,...p)}function nn(_,...p){throw Ti(_,...p)}function kn(_,...p){return Ti(_,...p)}function io(_,p,g){const b=Object.assign(Object.assign({},Li()),{[p]:g});return new L.LL("auth","Firebase",b).create(p,{appName:_.name})}function Vi(_,p,g){if(!(p instanceof g))throw g.name!==p.constructor.name&&nn(_,"argument-error"),io(_,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ti(_,...p){if("string"!=typeof _){const g=p[0],b=[...p.slice(1)];return b[0]&&(b[0].appName=_.name),_._errorFactory.create(g,...b)}return An.create(_,...p)}function Le(_,p,...g){if(!_)throw Ti(p,...g)}function Ri(_){const p="INTERNAL ASSERTION FAILED: "+_;throw Mi(p),new Error(p)}function qe(_,p){_||Ri(p)}const Bi=new Map;function Zn(_){qe(_ instanceof Function,"Expected a class definition");let p=Bi.get(_);return p?(qe(p instanceof _,"Instance stored in cache mismatched with class"),p):(p=new _,Bi.set(_,p),p)}function cr(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function wn(){return"http:"===Kn()||"https:"===Kn()}function Kn(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class ht{constructor(p,g){this.shortDelay=p,this.longDelay=g,qe(g>p,"Short delay should be less than long delay!"),this.isMobile=(0,L.uI)()||(0,L.b$)()}get(){return function Sn(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(wn()||(0,L.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ln(_,p){qe(_.emulator,"Emulator should always be set here");const{url:g}=_.emulator;return p?`${g}${p.startsWith("/")?p.slice(1):p}`:g}class qr{static initialize(p,g,b){this.fetchImpl=p,g&&(this.headersImpl=g),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Ri("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Ri("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Ri("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Oi={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Ui=new ht(3e4,6e4);function ot(_,p){return _.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:_.tenantId}):p}function mn(_,p,g,b){return un.apply(this,arguments)}function un(){return(un=(0,u.Z)(function*(_,p,g,b,S={}){return Wr(_,S,(0,u.Z)(function*(){let R={},j={};b&&("GET"===p?j=b:R={body:JSON.stringify(b)});const se=(0,L.xO)(Object.assign({key:_.config.apiKey},j)).slice(1),Ne=yield _._getAdditionalHeaders();return Ne["Content-Type"]="application/json",_.languageCode&&(Ne["X-Firebase-Locale"]=_.languageCode),qr.fetch()(H(_,_.config.apiHost,g,se),Object.assign({method:p,headers:Ne,referrerPolicy:"no-referrer"},R))}))})).apply(this,arguments)}function Wr(_,p,g){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,u.Z)(function*(_,p,g){_._canInitEmulator=!1;const b=Object.assign(Object.assign({},Oi),p);try{const S=new q(_),R=yield Promise.race([g(),S.promise]);S.clearNetworkTimeout();const j=yield R.json();if("needConfirmation"in j)throw W(_,"account-exists-with-different-credential",j);if(R.ok&&!("errorMessage"in j))return j;{const se=R.ok?j.errorMessage:j.error.message,[Ne,Me]=se.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ne)throw W(_,"credential-already-in-use",j);if("EMAIL_EXISTS"===Ne)throw W(_,"email-already-in-use",j);if("USER_DISABLED"===Ne)throw W(_,"user-disabled",j);const at=b[Ne]||Ne.toLowerCase().replace(/[_\s]+/g,"-");if(Me)throw io(_,at,Me);nn(_,at)}}catch(S){if(S instanceof L.ZR)throw S;nn(_,"network-request-failed")}})).apply(this,arguments)}function K(_,p,g,b){return G.apply(this,arguments)}function G(){return(G=(0,u.Z)(function*(_,p,g,b,S={}){const R=yield mn(_,p,g,b,S);return"mfaPendingCredential"in R&&nn(_,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function H(_,p,g,b){const S=`${p}${g}?${b}`;return _.config.emulator?ln(_.config,S):`${_.config.apiScheme}://${S}`}class q{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((g,b)=>{this.timer=setTimeout(()=>b(kn(this.auth,"network-request-failed")),Ui.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function W(_,p,g){const b={appName:_.name};g.email&&(b.email=g.email),g.phoneNumber&&(b.phoneNumber=g.phoneNumber);const S=kn(_,p,b);return S.customData._tokenResponse=g,S}function $e(){return($e=(0,u.Z)(function*(_,p){return mn(_,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function _t(_,p){return cn.apply(this,arguments)}function cn(){return(cn=(0,u.Z)(function*(_,p){return mn(_,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function yn(_,p){return ji.apply(this,arguments)}function ji(){return(ji=(0,u.Z)(function*(_,p){return mn(_,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function zt(_){if(_)try{const p=new Date(Number(_));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function Qn(){return(Qn=(0,u.Z)(function*(_,p=!1){const g=(0,L.m9)(_),b=yield g.getIdToken(p),S=bi(b);Le(S&&S.exp&&S.auth_time&&S.iat,g.auth,"internal-error");const R="object"==typeof S.firebase?S.firebase:void 0,j=null==R?void 0:R.sign_in_provider;return{claims:S,token:b,authTime:zt(Ar(S.auth_time)),issuedAtTime:zt(Ar(S.iat)),expirationTime:zt(Ar(S.exp)),signInProvider:j||null,signInSecondFactor:(null==R?void 0:R.sign_in_second_factor)||null}})).apply(this,arguments)}function Ar(_){return 1e3*Number(_)}function bi(_){var p;const[g,b,S]=_.split(".");if(void 0===g||void 0===b||void 0===S)return Mi("JWT malformed, contained fewer than 3 sections"),null;try{const R=(0,L.tV)(b);return R?JSON.parse(R):(Mi("Failed to decode base64 JWT payload"),null)}catch(R){return Mi("Caught error parsing JWT payload as JSON",null===(p=R)||void 0===p?void 0:p.toString()),null}}function Hi(_,p){return er.apply(this,arguments)}function er(){return(er=(0,u.Z)(function*(_,p,g=!1){if(g)return p;try{return yield p}catch(b){throw b instanceof L.ZR&&Ml(b)&&_.auth.currentUser===_&&(yield _.auth.signOut()),b}})).apply(this,arguments)}function Ml({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class Po{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var g;if(p){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const S=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(p=!1){var g=this;if(!this.isRunning)return;const b=this.getInterval(p);this.timerId=setTimeout((0,u.Z)(function*(){yield g.iteration()}),b)}iteration(){var p=this;return(0,u.Z)(function*(){var g;try{yield p.user.getIdToken(!0)}catch(b){return void("auth/network-request-failed"===(null===(g=b)||void 0===g?void 0:g.code)&&p.schedule(!0))}p.schedule()})()}}class Fn{constructor(p,g){this.createdAt=p,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=zt(this.lastLoginAt),this.creationTime=zt(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ea(_){return tr.apply(this,arguments)}function tr(){return(tr=(0,u.Z)(function*(_){var p;const g=_.auth,b=yield _.getIdToken(),S=yield Hi(_,yn(g,{idToken:b}));Le(null==S?void 0:S.users.length,g,"internal-error");const R=S.users[0];_._notifyReloadListener(R);const j=null!==(p=R.providerUserInfo)&&void 0!==p&&p.length?nr(R.providerUserInfo):[],se=_n(_.providerData,j),at=!!_.isAnonymous&&!(_.email&&R.passwordHash||null!=se&&se.length),ut={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:se,metadata:new Fn(R.createdAt,R.lastLoginAt),isAnonymous:at};Object.assign(_,ut)})).apply(this,arguments)}function At(){return(At=(0,u.Z)(function*(_){const p=(0,L.m9)(_);yield Ea(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function _n(_,p){return[..._.filter(b=>!p.some(S=>S.providerId===b.providerId)),...p]}function nr(_){return _.map(p=>{var{providerId:g}=p,b=de(p,["providerId"]);return{providerId:g,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function jn(){return(jn=(0,u.Z)(function*(_,p){const g=yield Wr(_,{},(0,u.Z)(function*(){const b=(0,L.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:S,apiKey:R}=_.config,j=H(_,S,"/v1/token",`key=${R}`),se=yield _._getAdditionalHeaders();return se["Content-Type"]="application/x-www-form-urlencoded",qr.fetch()(j,{method:"POST",headers:se,body:b})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Sr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){Le(p.idToken,"internal-error"),Le(void 0!==p.idToken,"internal-error"),Le(void 0!==p.refreshToken,"internal-error");const g="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function ro(_){const p=bi(_);return Le(p,"internal-error"),Le(void 0!==p.exp,"internal-error"),Le(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,g)}getToken(p,g=!1){var b=this;return(0,u.Z)(function*(){return Le(!b.accessToken||b.refreshToken,p,"user-token-expired"),g||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(p,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,g){var b=this;return(0,u.Z)(function*(){const{accessToken:S,refreshToken:R,expiresIn:j}=yield function fs(_,p){return jn.apply(this,arguments)}(p,g);b.updateTokensAndExpiration(S,R,Number(j))})()}updateTokensAndExpiration(p,g,b){this.refreshToken=g||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(p,g){const{refreshToken:b,accessToken:S,expirationTime:R}=g,j=new Sr;return b&&(Le("string"==typeof b,"internal-error",{appName:p}),j.refreshToken=b),S&&(Le("string"==typeof S,"internal-error",{appName:p}),j.accessToken=S),R&&(Le("number"==typeof R,"internal-error",{appName:p}),j.expirationTime=R),j}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Sr,this.toJSON())}_performRefresh(){return Ri("not implemented")}}function Qt(_,p){Le("string"==typeof _||void 0===_,"internal-error",{appName:p})}class Gi{constructor(p){var{uid:g,auth:b,stsTokenManager:S}=p,R=de(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Po(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=b,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.providerData=R.providerData?[...R.providerData]:[],this.metadata=new Fn(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(p){var g=this;return(0,u.Z)(function*(){const b=yield Hi(g,g.stsTokenManager.getToken(g.auth,p));return Le(b,g.auth,"internal-error"),g.accessToken!==b&&(g.accessToken=b,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),b})()}getIdTokenResult(p){return function Mn(_){return Qn.apply(this,arguments)}(this,p)}reload(){return function Ye(_){return At.apply(this,arguments)}(this)}_assign(p){this!==p&&(Le(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(g=>Object.assign({},g)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new Gi(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){Le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,g=!1){var b=this;return(0,u.Z)(function*(){let S=!1;p.idToken&&p.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(p),S=!0),g&&(yield Ea(b)),yield b.auth._persistUserIfCurrent(b),S&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var p=this;return(0,u.Z)(function*(){const g=yield p.getIdToken();return yield Hi(p,function Te(_,p){return $e.apply(this,arguments)}(p.auth,{idToken:g})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,g){var b,S,R,j,se,Ne,Me,at;const ut=null!==(b=g.displayName)&&void 0!==b?b:void 0,Yt=null!==(S=g.email)&&void 0!==S?S:void 0,Xn=null!==(R=g.phoneNumber)&&void 0!==R?R:void 0,Ms=null!==(j=g.photoURL)&&void 0!==j?j:void 0,wo=null!==(se=g.tenantId)&&void 0!==se?se:void 0,_f=null!==(Ne=g._redirectEventId)&&void 0!==Ne?Ne:void 0,_g=null!==(Me=g.createdAt)&&void 0!==Me?Me:void 0,Od=null!==(at=g.lastLoginAt)&&void 0!==at?at:void 0,{uid:vf,emailVerified:vg,isAnonymous:bg,providerData:kd,stsTokenManager:wg}=g;Le(vf&&wg,p,"internal-error");const My=Sr.fromJSON(this.name,wg);Le("string"==typeof vf,p,"internal-error"),Qt(ut,p.name),Qt(Yt,p.name),Le("boolean"==typeof vg,p,"internal-error"),Le("boolean"==typeof bg,p,"internal-error"),Qt(Xn,p.name),Qt(Ms,p.name),Qt(wo,p.name),Qt(_f,p.name),Qt(_g,p.name),Qt(Od,p.name);const Ei=new Gi({uid:vf,auth:p,email:Yt,emailVerified:vg,displayName:ut,isAnonymous:bg,photoURL:Ms,phoneNumber:Xn,tenantId:wo,stsTokenManager:My,createdAt:_g,lastLoginAt:Od});return kd&&Array.isArray(kd)&&(Ei.providerData=kd.map(bf=>Object.assign({},bf))),_f&&(Ei._redirectEventId=_f),Ei}static _fromIdTokenResponse(p,g,b=!1){return(0,u.Z)(function*(){const S=new Sr;S.updateFromServerResponse(g);const R=new Gi({uid:g.localId,auth:p,stsTokenManager:S,isAnonymous:b});return yield Ea(R),R})()}}const It=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(g,b){var S=this;return(0,u.Z)(function*(){S.storage[g]=b})()}_get(g){var b=this;return(0,u.Z)(function*(){const S=b.storage[g];return void 0===S?null:S})()}_remove(g){var b=this;return(0,u.Z)(function*(){delete b.storage[g]})()}_addListener(g,b){}_removeListener(g,b){}}return _.type="NONE",_})();function Yr(_,p,g){return`firebase:${_}:${p}:${g}`}class Cn{constructor(p,g,b){this.persistence=p,this.auth=g,this.userKey=b;const{config:S,name:R}=this.auth;this.fullUserKey=Yr(this.userKey,S.apiKey,R),this.fullPersistenceKey=Yr("persistence",S.apiKey,R),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,u.Z)(function*(){const g=yield p.persistence._get(p.fullUserKey);return g?Gi._fromJSON(p.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var g=this;return(0,u.Z)(function*(){if(g.persistence===p)return;const b=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=p,b?g.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,g,b="authUser"){return(0,u.Z)(function*(){if(!g.length)return new Cn(Zn(It),p,b);const S=(yield Promise.all(g.map(function(){var Me=(0,u.Z)(function*(at){if(yield at._isAvailable())return at});return function(at){return Me.apply(this,arguments)}}()))).filter(Me=>Me);let R=S[0]||Zn(It);const j=Yr(b,p.config.apiKey,p.name);let se=null;for(const Me of g)try{const at=yield Me._get(j);if(at){const ut=Gi._fromJSON(p,at);Me!==R&&(se=ut),R=Me;break}}catch(at){}const Ne=S.filter(Me=>Me._shouldAllowMigration);return R._shouldAllowMigration&&Ne.length?(R=Ne[0],se&&(yield R._set(j,se.toJSON())),yield Promise.all(g.map(function(){var Me=(0,u.Z)(function*(at){if(at!==R)try{yield at._remove(j)}catch(ut){}});return function(at){return Me.apply(this,arguments)}}())),new Cn(R,p,b)):new Cn(R,p,b)})()}}function Da(_){const p=_.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Bs(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(Mr(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Lo(p))return"Blackberry";if(Tl(p))return"Webos";if(ni(p))return"Safari";if((p.includes("chrome/")||Vs(p))&&!p.includes("edge/"))return"Chrome";if(pi(p))return"Android";{const b=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==b?void 0:b.length))return b[1]}return"Other"}function Mr(_=(0,L.z$)()){return/firefox\//i.test(_)}function ni(_=(0,L.z$)()){const p=_.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Vs(_=(0,L.z$)()){return/crios\//i.test(_)}function Bs(_=(0,L.z$)()){return/iemobile/i.test(_)}function pi(_=(0,L.z$)()){return/android/i.test(_)}function Lo(_=(0,L.z$)()){return/blackberry/i.test(_)}function Tl(_=(0,L.z$)()){return/webos/i.test(_)}function Kt(_=(0,L.z$)()){return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function ir(_=(0,L.z$)()){return Kt(_)||pi(_)||Tl(_)||Lo(_)||/windows phone/i.test(_)||Bs(_)}function Ia(_,p=[]){let g;switch(_){case"Browser":g=Da((0,L.z$)());break;case"Worker":g=`${Da((0,L.z$)())}-${_}`;break;default:g=_}const b=p.length?p.join(","):"FirebaseCore-web";return`${g}/JsCore/${ue.SDK_VERSION}/${b}`}class xu{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,g){const b=R=>new Promise((j,se)=>{try{j(p(R))}catch(Ne){se(Ne)}});b.onAbort=g,this.queue.push(b);const S=this.queue.length-1;return()=>{this.queue[S]=()=>Promise.resolve()}}runMiddleware(p){var g=this;return(0,u.Z)(function*(){var b;if(g.auth.currentUser===p)return;const S=[];try{for(const R of g.queue)yield R(p),R.onAbort&&S.push(R.onAbort)}catch(R){S.reverse();for(const j of S)try{j()}catch(se){}throw g.auth._errorFactory.create("login-blocked",{originalMessage:null===(b=R)||void 0===b?void 0:b.message})}})()}}class rr{constructor(p,g,b){this.app=p,this.heartbeatServiceProvider=g,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new kh(this),this.idTokenSubscription=new kh(this),this.beforeStateQueue=new xu(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=An,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(p,g){var b=this;return g&&(this._popupRedirectResolver=Zn(g)),this._initializationPromise=this.queue((0,u.Z)(function*(){var S,R;if(!b._deleted&&(b.persistenceManager=yield Cn.create(b,p),!b._deleted)){if(null!==(S=b._popupRedirectResolver)&&void 0!==S&&S._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch(j){}yield b.initializeCurrentUser(g),b.lastNotifiedUid=(null===(R=b.currentUser)||void 0===R?void 0:R.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,u.Z)(function*(){if(p._deleted)return;const g=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||g){if(p.currentUser&&g&&p.currentUser.uid===g.uid)return p._currentUser._assign(g),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(g,!0)}})()}initializeCurrentUser(p){var g=this;return(0,u.Z)(function*(){var b;const S=yield g.assertedPersistence.getCurrentUser();let R=S,j=!1;if(p&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const se=null===(b=g.redirectUser)||void 0===b?void 0:b._redirectEventId,Ne=null==R?void 0:R._redirectEventId,Me=yield g.tryRedirectSignIn(p);(!se||se===Ne)&&(null==Me?void 0:Me.user)&&(R=Me.user,j=!0)}if(!R)return g.directlySetCurrentUser(null);if(!R._redirectEventId){if(j)try{yield g.beforeStateQueue.runMiddleware(R)}catch(se){R=S,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(se))}return R?g.reloadAndSetCurrentUserOrClear(R):g.directlySetCurrentUser(null)}return Le(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===R._redirectEventId?g.directlySetCurrentUser(R):g.reloadAndSetCurrentUserOrClear(R)})()}tryRedirectSignIn(p){var g=this;return(0,u.Z)(function*(){let b=null;try{b=yield g._popupRedirectResolver._completeRedirectFn(g,p,!0)}catch(S){yield g._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(p){var g=this;return(0,u.Z)(function*(){var b;try{yield Ea(p)}catch(S){if("auth/network-request-failed"!==(null===(b=S)||void 0===b?void 0:b.code))return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function bt(){if("undefined"==typeof navigator)return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var p=this;return(0,u.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var g=this;return(0,u.Z)(function*(){const b=p?(0,L.m9)(p):null;return b&&Le(b.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(b&&b._clone(g))})()}_updateCurrentUser(p,g=!1){var b=this;return(0,u.Z)(function*(){if(!b._deleted)return p&&Le(b.tenantId===p.tenantId,b,"tenant-id-mismatch"),g||(yield b.beforeStateQueue.runMiddleware(p)),b.queue((0,u.Z)(function*(){yield b.directlySetCurrentUser(p),b.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,u.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var g=this;return this.queue((0,u.Z)(function*(){yield g.assertedPersistence.setPersistence(Zn(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new L.LL("auth","Firebase",p())}onAuthStateChanged(p,g,b){return this.registerStateListener(this.authStateSubscription,p,g,b)}beforeAuthStateChanged(p,g){return this.beforeStateQueue.pushCallback(p,g)}onIdTokenChanged(p,g,b){return this.registerStateListener(this.idTokenSubscription,p,g,b)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,g){var b=this;return(0,u.Z)(function*(){const S=yield b.getOrInitRedirectPersistenceManager(g);return null===p?S.removeCurrentUser():S.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var g=this;return(0,u.Z)(function*(){if(!g.redirectPersistenceManager){const b=p&&Zn(p)||g._popupRedirectResolver;Le(b,g,"argument-error"),g.redirectPersistenceManager=yield Cn.create(g,[Zn(b._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(p){var g=this;return(0,u.Z)(function*(){var b,S;return g._isInitialized&&(yield g.queue((0,u.Z)(function*(){}))),(null===(b=g._currentUser)||void 0===b?void 0:b._redirectEventId)===p?g._currentUser:(null===(S=g.redirectUser)||void 0===S?void 0:S._redirectEventId)===p?g.redirectUser:null})()}_persistUserIfCurrent(p){var g=this;return(0,u.Z)(function*(){if(p===g.currentUser)return g.queue((0,u.Z)(function*(){return g.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(g=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,g,b,S){if(this._deleted)return()=>{};const R="function"==typeof g?g:g.next.bind(g),j=this._isInitialized?Promise.resolve():this._initializationPromise;return Le(j,this,"internal-error"),j.then(()=>R(this.currentUser)),"function"==typeof g?p.addObserver(g,b,S):p.addObserver(g)}directlySetCurrentUser(p){var g=this;return(0,u.Z)(function*(){g.currentUser&&g.currentUser!==p&&g._currentUser._stopProactiveRefresh(),p&&g.isProactiveRefreshEnabled&&p._startProactiveRefresh(),g.currentUser=p,p?yield g.assertedPersistence.setCurrentUser(p):yield g.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return Le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Ia(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,u.Z)(function*(){var g;const b={"X-Client-Version":p.clientVersion};p.app.options.appId&&(b["X-Firebase-gmpid"]=p.app.options.appId);const S=yield null===(g=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return S&&(b["X-Firebase-Client"]=S),b})()}}function ii(_){return(0,L.m9)(_)}class kh{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,L.ne)(g=>this.observer=g)}get next(){return Le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Vc(_){const p=_.indexOf(":");return p<0?"":_.substr(0,p+1)}function Tr(_){if(!_)return null;const p=Number(_);return isNaN(p)?null:p}class Aa{constructor(p,g){this.providerId=p,this.signInMethod=g}toJSON(){return Ri("not implemented")}_getIdTokenResponse(p){return Ri("not implemented")}_linkToIdToken(p,g){return Ri("not implemented")}_getReauthenticationResolver(p){return Ri("not implemented")}}function Fh(_,p){return Bc.apply(this,arguments)}function Bc(){return(Bc=(0,u.Z)(function*(_,p){return mn(_,"POST","/v1/accounts:resetPassword",ot(_,p))})).apply(this,arguments)}function Ph(_,p){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,u.Z)(function*(_,p){return mn(_,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Vo(_,p){return Uc.apply(this,arguments)}function Uc(){return(Uc=(0,u.Z)(function*(_,p){return mn(_,"POST","/v1/accounts:update",ot(_,p))})).apply(this,arguments)}function jc(){return(jc=(0,u.Z)(function*(_,p){return K(_,"POST","/v1/accounts:signInWithPassword",ot(_,p))})).apply(this,arguments)}function Au(_,p){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,u.Z)(function*(_,p){return mn(_,"POST","/v1/accounts:sendOobCode",ot(_,p))})).apply(this,arguments)}function Gc(_,p){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,u.Z)(function*(_,p){return Au(_,p)})).apply(this,arguments)}function $c(_,p){return zc.apply(this,arguments)}function zc(){return(zc=(0,u.Z)(function*(_,p){return Au(_,p)})).apply(this,arguments)}function qc(_,p){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,u.Z)(function*(_,p){return Au(_,p)})).apply(this,arguments)}function Nh(_,p){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,u.Z)(function*(_,p){return Au(_,p)})).apply(this,arguments)}function Uo(){return(Uo=(0,u.Z)(function*(_,p){return K(_,"POST","/v1/accounts:signInWithEmailLink",ot(_,p))})).apply(this,arguments)}function Ol(){return(Ol=(0,u.Z)(function*(_,p){return K(_,"POST","/v1/accounts:signInWithEmailLink",ot(_,p))})).apply(this,arguments)}class Ma extends Aa{constructor(p,g,b,S=null){super("password",b),this._email=p,this._password=g,this._tenantId=S}static _fromEmailAndPassword(p,g){return new Ma(p,g,"password")}static _fromEmailAndCode(p,g,b=null){return new Ma(p,g,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(p){var g=this;return(0,u.Z)(function*(){switch(g.signInMethod){case"password":return function Yp(_,p){return jc.apply(this,arguments)}(p,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function Wc(_,p){return Uo.apply(this,arguments)}(p,{email:g._email,oobCode:g._password});default:nn(p,"internal-error")}})()}_linkToIdToken(p,g){var b=this;return(0,u.Z)(function*(){switch(b.signInMethod){case"password":return Ph(p,{idToken:g,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function Su(_,p){return Ol.apply(this,arguments)}(p,{idToken:g,email:b._email,oobCode:b._password});default:nn(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Kr(_,p){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,u.Z)(function*(_,p){return K(_,"POST","/v1/accounts:signInWithIdp",ot(_,p))})).apply(this,arguments)}class Pn extends Aa{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const g=new Pn(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(g.idToken=p.idToken),p.accessToken&&(g.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(g.nonce=p.nonce),p.pendingToken&&(g.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(g.accessToken=p.oauthToken,g.secret=p.oauthTokenSecret):nn("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:S}=g,R=de(g,["providerId","signInMethod"]);if(!b||!S)return null;const j=new Pn(b,S);return j.idToken=R.idToken||void 0,j.accessToken=R.accessToken||void 0,j.secret=R.secret,j.nonce=R.nonce,j.pendingToken=R.pendingToken||null,j}_getIdTokenResponse(p){return Kr(p,this.buildRequest())}_linkToIdToken(p,g){const b=this.buildRequest();return b.idToken=g,Kr(p,b)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,Kr(p,g)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),p.postBody=(0,L.xO)(g)}return p}}function Ta(_,p){return gs.apply(this,arguments)}function gs(){return(gs=(0,u.Z)(function*(_,p){return mn(_,"POST","/v1/accounts:sendVerificationCode",ot(_,p))})).apply(this,arguments)}function Yc(){return(Yc=(0,u.Z)(function*(_,p){return K(_,"POST","/v1/accounts:signInWithPhoneNumber",ot(_,p))})).apply(this,arguments)}function Nn(){return(Nn=(0,u.Z)(function*(_,p){const g=yield K(_,"POST","/v1/accounts:signInWithPhoneNumber",ot(_,p));if(g.temporaryProof)throw W(_,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Vh={USER_NOT_FOUND:"user-not-found"};function sr(){return(sr=(0,u.Z)(function*(_,p){return K(_,"POST","/v1/accounts:signInWithPhoneNumber",ot(_,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Vh)})).apply(this,arguments)}class Hn extends Aa{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,g){return new Hn({verificationId:p,verificationCode:g})}static _fromTokenResponse(p,g){return new Hn({phoneNumber:p,temporaryProof:g})}_getIdTokenResponse(p){return function Or(_,p){return Yc.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,g){return function Lh(_,p){return Nn.apply(this,arguments)}(p,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Zp(_,p){return sr.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:g,verificationId:b,verificationCode:S}=this.params;return p&&g?{temporaryProof:p,phoneNumber:g}:{sessionInfo:b,code:S}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:g,verificationCode:b,phoneNumber:S,temporaryProof:R}=p;return b||g||S||R?new Hn({verificationId:g,verificationCode:b,phoneNumber:S,temporaryProof:R}):null}}class kr{constructor(p){var g,b,S,R,j,se;const Ne=(0,L.zd)((0,L.pd)(p)),Me=null!==(g=Ne.apiKey)&&void 0!==g?g:null,at=null!==(b=Ne.oobCode)&&void 0!==b?b:null,ut=function Zc(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=Ne.mode)&&void 0!==S?S:null);Le(Me&&at&&ut,"argument-error"),this.apiKey=Me,this.operation=ut,this.code=at,this.continueUrl=null!==(R=Ne.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==(j=Ne.languageCode)&&void 0!==j?j:null,this.tenantId=null!==(se=Ne.tenantId)&&void 0!==se?se:null}static parseLink(p){const g=function Ra(_){const p=(0,L.zd)((0,L.pd)(_)).link,g=p?(0,L.zd)((0,L.pd)(p)).deep_link_id:null,b=(0,L.zd)((0,L.pd)(_)).deep_link_id;return(b?(0,L.zd)((0,L.pd)(b)).link:null)||b||g||p||_}(p);try{return new kr(g)}catch(b){return null}}}let kl=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(g,b){return Ma._fromEmailAndPassword(g,b)}static credentialWithLink(g,b){const S=kr.parseLink(b);return Le(S,"argument-error"),Ma._fromEmailAndCode(g,S.code,S.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class $i{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class so extends $i{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class ki extends so{static credentialFromJSON(p){const g="string"==typeof p?JSON.parse(p):p;return Le("providerId"in g&&"signInMethod"in g,"argument-error"),Pn._fromParams(g)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return Le(p.idToken||p.accessToken,"argument-error"),Pn._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return ki.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return ki.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:g,oauthAccessToken:b,oauthTokenSecret:S,pendingToken:R,nonce:j,providerId:se}=p;if(!b&&!S&&!g&&!R||!se)return null;try{return new ki(se)._credential({idToken:g,accessToken:b,nonce:j,pendingToken:R})}catch(Ne){return null}}}let Mu=(()=>{class _ extends so{constructor(){super("facebook.com")}static credential(g){return Pn._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch(b){return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),Gn=(()=>{class _ extends so{constructor(){super("google.com"),this.addScope("profile")}static credential(g,b){return Pn._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:b})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:b,oauthAccessToken:S}=g;if(!b&&!S)return null;try{return _.credential(b,S)}catch(R){return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),Mt=(()=>{class _ extends so{constructor(){super("github.com")}static credential(g){return Pn._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch(b){return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class Fl extends Aa{constructor(p,g){super(p,p),this.pendingToken=g}_getIdTokenResponse(p){return Kr(p,this.buildRequest())}_linkToIdToken(p,g){const b=this.buildRequest();return b.idToken=g,Kr(p,b)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,Kr(p,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:S,pendingToken:R}=g;return b&&S&&R&&b===S?new Fl(b,R):null}static _create(p,g){return new Fl(p,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Oa extends $i{constructor(p){Le(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Oa.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Oa.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const g=Fl.fromJSON(p);return Le(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:g,providerId:b}=p;if(!g||!b)return null;try{return Fl._create(b,g)}catch(S){return null}}}let Pl=(()=>{class _ extends so{constructor(){super("twitter.com")}static credential(g,b){return Pn._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:b})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:b,oauthTokenSecret:S}=g;if(!b||!S)return null;try{return _.credential(b,S)}catch(R){return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function Us(_,p){return ka.apply(this,arguments)}function ka(){return(ka=(0,u.Z)(function*(_,p){return K(_,"POST","/v1/accounts:signUp",ot(_,p))})).apply(this,arguments)}class zi{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,g,b,S=!1){return(0,u.Z)(function*(){const R=yield Gi._fromIdTokenResponse(p,b,S),j=Se(b);return new zi({user:R,providerId:j,_tokenResponse:b,operationType:g})})()}static _forOperation(p,g,b){return(0,u.Z)(function*(){yield p._updateTokensIfNecessary(b,!0);const S=Se(b);return new zi({user:p,providerId:S,_tokenResponse:b,operationType:g})})()}}function Se(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function Ou(){return(Ou=(0,u.Z)(function*(_){var p;const g=ii(_);if(yield g._initializationPromise,null!==(p=g.currentUser)&&void 0!==p&&p.isAnonymous)return new zi({user:g.currentUser,providerId:null,operationType:"signIn"});const b=yield Us(g,{returnSecureToken:!0}),S=yield zi._fromIdTokenResponse(g,"signIn",b,!0);return yield g._updateCurrentUser(S.user),S})).apply(this,arguments)}class oo extends L.ZR{constructor(p,g,b,S){var R;super(g.code,g.message),this.operationType=b,this.user=S,Object.setPrototypeOf(this,oo.prototype),this.customData={appName:p.name,tenantId:null!==(R=p.tenantId)&&void 0!==R?R:void 0,_serverResponse:g.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(p,g,b,S){return new oo(p,g,b,S)}}function $n(_,p,g,b){return("reauthenticate"===p?g._getReauthenticationResolver(_):g._getIdTokenResponse(_)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?oo._fromErrorAndOperation(_,R,p,b):R})}function Fa(_){return new Set(_.map(({providerId:p})=>p).filter(p=>!!p))}function qi(){return(qi=(0,u.Z)(function*(_,p){const g=(0,L.m9)(_);yield Ll(!0,g,p);const{providerUserInfo:b}=yield _t(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[p]}),S=Fa(b||[]);return g.providerData=g.providerData.filter(R=>S.has(R.providerId)),S.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function Pa(_,p){return jo.apply(this,arguments)}function jo(){return(jo=(0,u.Z)(function*(_,p,g=!1){const b=yield Hi(_,p._linkToIdToken(_.auth,yield _.getIdToken()),g);return zi._forOperation(_,"link",b)})).apply(this,arguments)}function Ll(_,p,g){return Na.apply(this,arguments)}function Na(){return(Na=(0,u.Z)(function*(_,p,g){yield Ea(p);const S=!1===_?"provider-already-linked":"no-such-provider";Le(Fa(p.providerData).has(g)===_,p.auth,S)})).apply(this,arguments)}function Bh(_,p){return ao.apply(this,arguments)}function ao(){return(ao=(0,u.Z)(function*(_,p,g=!1){var b;const{auth:S}=_,R="reauthenticate";try{const j=yield Hi(_,$n(S,R,p,_),g);Le(j.idToken,S,"internal-error");const se=bi(j.idToken);Le(se,S,"internal-error");const{sub:Ne}=se;return Le(_.uid===Ne,S,"user-mismatch"),zi._forOperation(_,R,j)}catch(j){throw"auth/user-not-found"===(null===(b=j)||void 0===b?void 0:b.code)&&nn(S,"user-mismatch"),j}})).apply(this,arguments)}function zn(_,p){return dr.apply(this,arguments)}function dr(){return(dr=(0,u.Z)(function*(_,p,g=!1){const b="signIn",S=yield $n(_,b,p),R=yield zi._fromIdTokenResponse(_,b,S);return g||(yield _._updateCurrentUser(R.user)),R})).apply(this,arguments)}function Ho(_,p){return lo.apply(this,arguments)}function lo(){return(lo=(0,u.Z)(function*(_,p){return zn(ii(_),p)})).apply(this,arguments)}function Qr(_,p){return Kc.apply(this,arguments)}function Kc(){return(Kc=(0,u.Z)(function*(_,p){const g=(0,L.m9)(_);return yield Ll(!1,g,p.providerId),Pa(g,p)})).apply(this,arguments)}function Vl(_,p){return Qc.apply(this,arguments)}function Qc(){return(Qc=(0,u.Z)(function*(_,p){return Bh((0,L.m9)(_),p)})).apply(this,arguments)}function Uh(_,p){return Go.apply(this,arguments)}function Go(){return(Go=(0,u.Z)(function*(_,p){return K(_,"POST","/v1/accounts:signInWithCustomToken",ot(_,p))})).apply(this,arguments)}function La(){return(La=(0,u.Z)(function*(_,p){const g=ii(_),b=yield Uh(g,{token:p,returnSecureToken:!0}),S=yield zi._fromIdTokenResponse(g,"signIn",b);return yield g._updateCurrentUser(S.user),S})).apply(this,arguments)}class $o{constructor(p,g){this.factorId=p,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(p,g){return"phoneInfo"in g?Va._fromServerResponse(p,g):nn(p,"internal-error")}}class Va extends $o{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,g){return new Va(g)}}function Ba(_,p,g){var b;Le((null===(b=g.url)||void 0===b?void 0:b.length)>0,_,"invalid-continue-uri"),Le(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),p.continueUrl=g.url,p.dynamicLinkDomain=g.dynamicLinkDomain,p.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(Le(g.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),p.iOSBundleId=g.iOS.bundleId),g.android&&(Le(g.android.packageName.length>0,_,"missing-android-pkg-name"),p.androidInstallApp=g.android.installApp,p.androidMinimumVersionCode=g.android.minimumVersion,p.androidPackageName=g.android.packageName)}function Fu(){return(Fu=(0,u.Z)(function*(_,p,g){const b=(0,L.m9)(_),S={requestType:"PASSWORD_RESET",email:p};g&&Ba(b,S,g),yield $c(b,S)})).apply(this,arguments)}function Nu(){return(Nu=(0,u.Z)(function*(_,p,g){yield Fh((0,L.m9)(_),{oobCode:p,newPassword:g})})).apply(this,arguments)}function ms(){return(ms=(0,u.Z)(function*(_,p){yield Vo((0,L.m9)(_),{oobCode:p})})).apply(this,arguments)}function uo(_,p){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,u.Z)(function*(_,p){const g=(0,L.m9)(_),b=yield Fh(g,{oobCode:p}),S=b.requestType;switch(Le(S,g,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Le(b.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Le(b.mfaInfo,g,"internal-error");default:Le(b.email,g,"internal-error")}let R=null;return b.mfaInfo&&(R=$o._fromServerResponse(ii(g),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:R},operation:S}})).apply(this,arguments)}function Xr(){return(Xr=(0,u.Z)(function*(_,p){const{data:g}=yield uo((0,L.m9)(_),p);return g.email})).apply(this,arguments)}function jl(){return(jl=(0,u.Z)(function*(_,p,g){const b=ii(_),S=yield Us(b,{returnSecureToken:!0,email:p,password:g}),R=yield zi._fromIdTokenResponse(b,"signIn",S);return yield b._updateCurrentUser(R.user),R})).apply(this,arguments)}function Ua(){return(Ua=(0,u.Z)(function*(_,p,g){const b=(0,L.m9)(_),S={requestType:"EMAIL_SIGNIN",email:p};Le(g.handleCodeInApp,b,"argument-error"),g&&Ba(b,S,g),yield qc(b,S)})).apply(this,arguments)}function zo(){return(zo=(0,u.Z)(function*(_,p,g){const b=(0,L.m9)(_),S=kl.credentialWithLink(p,g||cr());return Le(S._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),Ho(b,S)})).apply(this,arguments)}function co(_,p){return ys.apply(this,arguments)}function ys(){return(ys=(0,u.Z)(function*(_,p){return mn(_,"POST","/v1/accounts:createAuthUri",ot(_,p))})).apply(this,arguments)}function _s(){return(_s=(0,u.Z)(function*(_,p){const b={identifier:p,continueUri:wn()?cr():"http://localhost"},{signinMethods:S}=yield co((0,L.m9)(_),b);return S||[]})).apply(this,arguments)}function Fr(){return(Fr=(0,u.Z)(function*(_,p){const g=(0,L.m9)(_),S={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};p&&Ba(g.auth,S,p);const{email:R}=yield Gc(g.auth,S);R!==_.email&&(yield _.reload())})).apply(this,arguments)}function ju(){return(ju=(0,u.Z)(function*(_,p,g){const b=(0,L.m9)(_),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:p};g&&Ba(b.auth,R,g);const{email:j}=yield Nh(b.auth,R);j!==_.email&&(yield _.reload())})).apply(this,arguments)}function Jc(_,p){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,u.Z)(function*(_,p){return mn(_,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Wo(){return(Wo=(0,u.Z)(function*(_,{displayName:p,photoURL:g}){if(void 0===p&&void 0===g)return;const b=(0,L.m9)(_),R={idToken:yield b.getIdToken(),displayName:p,photoUrl:g,returnSecureToken:!0},j=yield Hi(b,Jc(b.auth,R));b.displayName=j.displayName||null,b.photoURL=j.photoUrl||null;const se=b.providerData.find(({providerId:Ne})=>"password"===Ne);se&&(se.displayName=b.displayName,se.photoURL=b.photoURL),yield b._updateTokensIfNecessary(j)})).apply(this,arguments)}function Yo(_,p,g){return js.apply(this,arguments)}function js(){return(js=(0,u.Z)(function*(_,p,g){const{auth:b}=_,R={idToken:yield _.getIdToken(),returnSecureToken:!0};p&&(R.email=p),g&&(R.password=g);const j=yield Hi(_,Ph(b,R));yield _._updateTokensIfNecessary(j,!0)})).apply(this,arguments)}class Hs{constructor(p,g,b={}){this.isNewUser=p,this.providerId=g,this.profile=b}}class Zo extends Hs{constructor(p,g,b,S){super(p,g,b),this.username=S}}class td extends Hs{constructor(p,g){super(p,"facebook.com",g)}}class nd extends Zo{constructor(p,g){super(p,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class si extends Hs{constructor(p,g){super(p,"google.com",g)}}class id extends Zo{constructor(p,g,b){super(p,"twitter.com",g,b)}}function Ko(_){const{user:p,_tokenResponse:g}=_;return p.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function $l(_){var p,g;if(!_)return null;const{providerId:b}=_,S=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},R=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!b&&(null==_?void 0:_.idToken)){const j=null===(g=null===(p=bi(_.idToken))||void 0===p?void 0:p.firebase)||void 0===g?void 0:g.sign_in_provider;if(j)return new Hs(R,"anonymous"!==j&&"custom"!==j?j:null)}if(!b)return null;switch(b){case"facebook.com":return new td(R,S);case"github.com":return new nd(R,S);case"google.com":return new si(R,S);case"twitter.com":return new id(R,S,_.screenName||null);case"custom":case"anonymous":return new Hs(R,null);default:return new Hs(R,b,S)}}(g)}class bs{constructor(p,g,b){this.type=p,this.credential=g,this.auth=b}static _fromIdtoken(p,g){return new bs("enroll",p,g)}static _fromMfaPendingCredential(p){return new bs("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var g,b;if(null!=p&&p.multiFactorSession){if(null!==(g=p.multiFactorSession)&&void 0!==g&&g.pendingCredential)return bs._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(b=p.multiFactorSession)&&void 0!==b&&b.idToken)return bs._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Qo{constructor(p,g,b){this.session=p,this.hints=g,this.signInResolver=b}static _fromError(p,g){const b=ii(p),S=g.customData._serverResponse,R=(S.mfaInfo||[]).map(se=>$o._fromServerResponse(b,se));Le(S.mfaPendingCredential,b,"internal-error");const j=bs._fromMfaPendingCredential(S.mfaPendingCredential);return new Qo(j,R,function(){var se=(0,u.Z)(function*(Ne){const Me=yield Ne._process(b,j);delete S.mfaInfo,delete S.mfaPendingCredential;const at=Object.assign(Object.assign({},S),{idToken:Me.idToken,refreshToken:Me.refreshToken});switch(g.operationType){case"signIn":const ut=yield zi._fromIdTokenResponse(b,g.operationType,at);return yield b._updateCurrentUser(ut.user),ut;case"reauthenticate":return Le(g.user,b,"internal-error"),zi._forOperation(g.user,g.operationType,at);default:nn(b,"internal-error")}});return function(Ne){return se.apply(this,arguments)}}())}resolveSignIn(p){var g=this;return(0,u.Z)(function*(){return g.signInResolver(p)})()}}function ho(_,p){return mn(_,"POST","/v2/accounts/mfaEnrollment:start",ot(_,p))}class Ha{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(b=>$o._fromServerResponse(p.auth,b)))})}static _fromUser(p){return new Ha(p)}getSession(){var p=this;return(0,u.Z)(function*(){return bs._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,g){var b=this;return(0,u.Z)(function*(){const S=p,R=yield b.getSession(),j=yield Hi(b.user,S._process(b.user.auth,R,g));return yield b.user._updateTokensIfNecessary(j),b.user.reload()})()}unenroll(p){var g=this;return(0,u.Z)(function*(){var b;const S="string"==typeof p?p:p.uid,R=yield g.user.getIdToken(),j=yield Hi(g.user,function ja(_,p){return mn(_,"POST","/v2/accounts/mfaEnrollment:withdraw",ot(_,p))}(g.user.auth,{idToken:R,mfaEnrollmentId:S}));g.enrolledFactors=g.enrolledFactors.filter(({uid:se})=>se!==S),yield g.user._updateTokensIfNecessary(j);try{yield g.user.reload()}catch(se){if("auth/user-token-expired"!==(null===(b=se)||void 0===b?void 0:b.code))throw se}})()}}const Ga=new WeakMap,$a="__sak";class za{constructor(p,g){this.storageRetriever=p,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem($a,"1"),this.storage.removeItem($a),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,g){return this.storage.setItem(p,JSON.stringify(g)),Promise.resolve()}_get(p){const g=this.storage.getItem(p);return Promise.resolve(g?JSON.parse(g):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const ws=(()=>{class _ extends za{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,b)=>this.onStorageEvent(g,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Gs(){const _=(0,L.z$)();return ni(_)||Kt(_)}()&&function xa(){try{return!(!window||window===window.top)}catch(_){return!1}}(),this.fallbackToPolling=ir(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const b of Object.keys(this.listeners)){const S=this.storage.getItem(b),R=this.localCache[b];S!==R&&g(b,R,S)}}onStorageEvent(g,b=!1){if(!g.key)return void this.forAllChangedKeys((se,Ne,Me)=>{this.notifyListeners(se,Me)});const S=g.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const se=this.storage.getItem(S);if(g.newValue!==se)null!==g.newValue?this.storage.setItem(S,g.newValue):this.storage.removeItem(S);else if(this.localCache[S]===g.newValue&&!b)return}const R=()=>{const se=this.storage.getItem(S);!b&&this.localCache[S]===se||this.notifyListeners(S,se)},j=this.storage.getItem(S);!function gi(){return(0,L.w1)()&&10===document.documentMode}()||j===g.newValue||g.newValue===g.oldValue?R():setTimeout(R,10)}notifyListeners(g,b){this.localCache[g]=b;const S=this.listeners[g];if(S)for(const R of Array.from(S))R(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,b,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:b,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,b){var S=()=>super._set,R=this;return(0,u.Z)(function*(){yield S().call(R,g,b),R.localCache[g]=JSON.stringify(b)})()}_get(g){var b=()=>super._get,S=this;return(0,u.Z)(function*(){const R=yield b().call(S,g);return S.localCache[g]=JSON.stringify(R),R})()}_remove(g){var b=()=>super._remove,S=this;return(0,u.Z)(function*(){yield b().call(S,g),delete S.localCache[g]})()}}return _.type="LOCAL",_})(),wi=(()=>{class _ extends za{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,b){}_removeListener(g,b){}}return _.type="SESSION",_})();let qh=(()=>{class _{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const b=this.receivers.find(R=>R.isListeningto(g));if(b)return b;const S=new _(g);return this.receivers.push(S),S}isListeningto(g){return this.eventTarget===g}handleEvent(g){var b=this;return(0,u.Z)(function*(){const S=g,{eventId:R,eventType:j,data:se}=S.data,Ne=b.handlersMap[j];if(null==Ne||!Ne.size)return;S.ports[0].postMessage({status:"ack",eventId:R,eventType:j});const Me=Array.from(Ne).map(function(){var ut=(0,u.Z)(function*(Yt){return Yt(S.origin,se)});return function(Yt){return ut.apply(this,arguments)}}()),at=yield function qa(_){return Promise.all(_.map(function(){var p=(0,u.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(b){return{fulfilled:!1,reason:b}}});return function(g){return p.apply(this,arguments)}}()))}(Me);S.ports[0].postMessage({status:"done",eventId:R,eventType:j,response:at})})()}_subscribe(g,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(b)}_unsubscribe(g,b){this.handlersMap[g]&&b&&this.handlersMap[g].delete(b),(!b||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function es(_="",p=10){let g="";for(let b=0;b<p;b++)g+=Math.floor(10*Math.random());return _+g}class Yl{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,g,b=50){var S=this;return(0,u.Z)(function*(){const R="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let j,se;return new Promise((Ne,Me)=>{const at=es("",20);R.port1.start();const ut=setTimeout(()=>{Me(new Error("unsupported_event"))},b);se={messageChannel:R,onMessage(Yt){const Xn=Yt;if(Xn.data.eventId===at)switch(Xn.data.status){case"ack":clearTimeout(ut),j=setTimeout(()=>{Me(new Error("timeout"))},3e3);break;case"done":clearTimeout(j),Ne(Xn.data.response);break;default:clearTimeout(ut),clearTimeout(j),Me(new Error("invalid_response"))}}},S.handlers.add(se),R.port1.addEventListener("message",se.onMessage),S.target.postMessage({eventType:p,eventId:at,data:g},[R.port2])}).finally(()=>{se&&S.removeMessageHandler(se)})})()}}function Xt(){return window}function $s(){return void 0!==Xt().WorkerGlobalScope&&"function"==typeof Xt().importScripts}function Ya(){return(Ya=(0,u.Z)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch(_){return null}})).apply(this,arguments)}const Hu="firebaseLocalStorageDb",Gu="firebaseLocalStorage",Qp="fbase_key";class cd{constructor(p){this.request=p}toPromise(){return new Promise((p,g)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function dd(_,p){return _.transaction([Gu],p?"readwrite":"readonly").objectStore(Gu)}function $u(){const _=indexedDB.open(Hu,1);return new Promise((p,g)=>{_.addEventListener("error",()=>{g(_.error)}),_.addEventListener("upgradeneeded",()=>{const b=_.result;try{b.createObjectStore(Gu,{keyPath:Qp})}catch(S){g(S)}}),_.addEventListener("success",(0,u.Z)(function*(){const b=_.result;b.objectStoreNames.contains(Gu)?p(b):(b.close(),yield function cy(){const _=indexedDB.deleteDatabase(Hu);return new cd(_).toPromise()}(),p(yield $u()))}))})}function dy(_,p,g){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,u.Z)(function*(_,p,g){const b=dd(_,!0).put({[Qp]:p,value:g});return new cd(b).toPromise()})).apply(this,arguments)}function hd(){return(hd=(0,u.Z)(function*(_,p){const g=dd(_,!1).get(p),b=yield new cd(g).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function oi(_,p){const g=dd(_,!0).delete(p);return new cd(g).toPromise()}const Pt=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,u.Z)(function*(){return g.db||(g.db=yield $u()),g.db})()}_withRetries(g){var b=this;return(0,u.Z)(function*(){let S=0;for(;;)try{const R=yield b._openDb();return yield g(R)}catch(R){if(S++>3)throw R;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,u.Z)(function*(){return $s()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,u.Z)(function*(){g.receiver=qh._getInstance(function fo(){return $s()?self:null}()),g.receiver._subscribe("keyChanged",function(){var b=(0,u.Z)(function*(S,R){return{keyProcessed:(yield g._poll()).includes(R.key)}});return function(S,R){return b.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var b=(0,u.Z)(function*(S,R){return["keyChanged"]});return function(S,R){return b.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,u.Z)(function*(){var b,S;if(g.activeServiceWorker=yield function Wa(){return Ya.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Yl(g.activeServiceWorker);const R=yield g.sender._send("ping",{},800);!R||(null===(b=R[0])||void 0===b?void 0:b.fulfilled)&&(null===(S=R[0])||void 0===S?void 0:S.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var b=this;return(0,u.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function Jo(){var _;return(null===(_=null==navigator?void 0:navigator.serviceWorker)||void 0===_?void 0:_.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:g},b.serviceWorkerReceiverAvailable?800:50)}catch(S){}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const g=yield $u();return yield dy(g,$a,"1"),yield oi(g,$a),!0}catch(g){}return!1})()}_withPendingWrite(g){var b=this;return(0,u.Z)(function*(){b.pendingWrites++;try{yield g()}finally{b.pendingWrites--}})()}_set(g,b){var S=this;return(0,u.Z)(function*(){return S._withPendingWrite((0,u.Z)(function*(){return yield S._withRetries(R=>dy(R,g,b)),S.localCache[g]=b,S.notifyServiceWorker(g)}))})()}_get(g){var b=this;return(0,u.Z)(function*(){const S=yield b._withRetries(R=>function hy(_,p){return hd.apply(this,arguments)}(R,g));return b.localCache[g]=S,S})()}_remove(g){var b=this;return(0,u.Z)(function*(){return b._withPendingWrite((0,u.Z)(function*(){return yield b._withRetries(S=>oi(S,g)),delete b.localCache[g],b.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,u.Z)(function*(){const b=yield g._withRetries(j=>{const se=dd(j,!1).getAll();return new cd(se).toPromise()});if(!b)return[];if(0!==g.pendingWrites)return[];const S=[],R=new Set;for(const{fbase_key:j,value:se}of b)R.add(j),JSON.stringify(g.localCache[j])!==JSON.stringify(se)&&(g.notifyListeners(j,se),S.push(j));for(const j of Object.keys(g.localCache))g.localCache[j]&&!R.has(j)&&(g.notifyListeners(j,null),S.push(j));return S})()}notifyListeners(g,b){this.localCache[g]=b;const S=this.listeners[g];if(S)for(const R of Array.from(S))R(b)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function bn(_,p){return mn(_,"POST","/v2/accounts/mfaSignIn:start",ot(_,p))}function Ln(){return(Ln=(0,u.Z)(function*(_){return(yield mn(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function zu(_){return new Promise((p,g)=>{const b=document.createElement("script");b.setAttribute("src",_),b.onload=p,b.onerror=S=>{const R=kn("internal-error");R.customData=S,g(R)},b.type="text/javascript",b.charset="UTF-8",function Ka(){var _,p;return null!==(p=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==p?p:document}().appendChild(b)})}function Wh(_){return`__${_}${Math.floor(1e6*Math.random())}`}const qu=1e12;class ea{constructor(p){this.auth=p,this.counter=qu,this._widgets=new Map}render(p,g){const b=this.counter;return this._widgets.set(b,new tt(p,this.auth.name,g||{})),this.counter++,b}reset(p){var g;const b=p||qu;null===(g=this._widgets.get(b))||void 0===g||g.delete(),this._widgets.delete(b)}getResponse(p){var g;return(null===(g=this._widgets.get(p||qu))||void 0===g?void 0:g.getResponse())||""}execute(p){var g=this;return(0,u.Z)(function*(){var b;return null===(b=g._widgets.get(p||qu))||void 0===b||b.execute(),""})()}}class tt{constructor(p,g,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof p?document.getElementById(p):p;Le(S,"argument-error",{appName:g}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Qa(_){const p=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<_;b++)p.push(g.charAt(Math.floor(Math.random()*g.length)));return p.join("")}(50);const{callback:p,"expired-callback":g}=this.params;if(p)try{p(this.responseToken)}catch(b){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(b){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ts=Wh("rcb"),Zl=new ht(3e4,6e4);class Tn{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=Xt().grecaptcha)||void 0===p||!p.render)}load(p,g=""){return Le(function Wu(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(g),p,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(Xt().grecaptcha):new Promise((b,S)=>{const R=Xt().setTimeout(()=>{S(kn(p,"network-request-failed"))},Zl.get());Xt()[ts]=()=>{Xt().clearTimeout(R),delete Xt()[ts];const se=Xt().grecaptcha;if(!se)return void S(kn(p,"internal-error"));const Ne=se.render;se.render=(Me,at)=>{const ut=Ne(Me,at);return this.counter++,ut},this.hostLanguage=g,b(se)},zu(`https://www.google.com/recaptcha/api.js??${(0,L.xO)({onload:ts,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(R),S(kn(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var g;return!(null===(g=Xt().grecaptcha)||void 0===g||!g.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ja{load(p){return(0,u.Z)(function*(){return new ea(p)})()}clearedOneInstance(){}}const Kh="recaptcha",Qh={theme:"light",type:"image"};class Kl{constructor(p,g=Object.assign({},Qh),b){this.parameters=g,this.type=Kh,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ii(b),this.isInvisible="invisible"===this.parameters.size,Le("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof p?document.getElementById(p):p;Le(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ja:new Tn,this.validateStartingState()}verify(){var p=this;return(0,u.Z)(function*(){p.assertNotDestroyed();const g=yield p.render(),b=p.getAssertedRecaptcha();return b.getResponse(g)||new Promise(R=>{const j=se=>{!se||(p.tokenChangeListeners.delete(j),R(se))};p.tokenChangeListeners.add(j),p.isInvisible&&b.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){Le(!this.parameters.sitekey,this.auth,"argument-error"),Le(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Le("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return g=>{if(this.tokenChangeListeners.forEach(b=>b(g)),"function"==typeof p)p(g);else if("string"==typeof p){const b=Xt()[p];"function"==typeof b&&b(g)}}}assertNotDestroyed(){Le(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,u.Z)(function*(){if(yield p.init(),!p.widgetId){let g=p.container;if(!p.isInvisible){const b=document.createElement("div");g.appendChild(b),g=b}p.widgetId=p.getAssertedRecaptcha().render(g,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,u.Z)(function*(){Le(wn()&&!$s(),p.auth,"internal-error"),yield function Yu(){let _=null;return new Promise(p=>{"complete"!==document.readyState?(_=()=>p(),window.addEventListener("load",_)):p()}).catch(p=>{throw _&&window.removeEventListener("load",_),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const g=yield function Za(_){return Ln.apply(this,arguments)}(p.auth);Le(g,p.auth,"internal-error"),p.parameters.sitekey=g})()}getAssertedRecaptcha(){return Le(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class xs{constructor(p,g){this.verificationId=p,this.onConfirmation=g}confirm(p){const g=Hn._fromVerification(this.verificationId,p);return this.onConfirmation(g)}}function Nr(){return(Nr=(0,u.Z)(function*(_,p,g){const b=ii(_),S=yield Pi(b,p,(0,L.m9)(g));return new xs(S,R=>Ho(b,R))})).apply(this,arguments)}function Fi(){return(Fi=(0,u.Z)(function*(_,p,g){const b=(0,L.m9)(_);yield Ll(!1,b,"phone");const S=yield Pi(b.auth,p,(0,L.m9)(g));return new xs(S,R=>Qr(b,R))})).apply(this,arguments)}function ns(){return(ns=(0,u.Z)(function*(_,p,g){const b=(0,L.m9)(_),S=yield Pi(b.auth,p,(0,L.m9)(g));return new xs(S,R=>Vl(b,R))})).apply(this,arguments)}function Pi(_,p,g){return qn.apply(this,arguments)}function qn(){return(qn=(0,u.Z)(function*(_,p,g){var b;const S=yield g.verify();try{let R;if(Le("string"==typeof S,_,"argument-error"),Le(g.type===Kh,_,"argument-error"),R="string"==typeof p?{phoneNumber:p}:p,"session"in R){const j=R.session;if("phoneNumber"in R)return Le("enroll"===j.type,_,"internal-error"),(yield ho(_,{idToken:j.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{Le("signin"===j.type,_,"internal-error");const se=(null===(b=R.multiFactorHint)||void 0===b?void 0:b.uid)||R.multiFactorUid;return Le(se,_,"missing-multi-factor-info"),(yield bn(_,{mfaPendingCredential:j.credential,mfaEnrollmentId:se,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:j}=yield Ta(_,{phoneNumber:R.phoneNumber,recaptchaToken:S});return j}}finally{g._reset()}})).apply(this,arguments)}function is(){return(is=(0,u.Z)(function*(_,p){yield Pa((0,L.m9)(_),p)})).apply(this,arguments)}let Rn=(()=>{class _{constructor(g){this.providerId=_.PROVIDER_ID,this.auth=ii(g)}verifyPhoneNumber(g,b){return Pi(this.auth,g,(0,L.m9)(b))}static credential(g,b){return Hn._fromVerification(g,b)}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:b,temporaryProof:S}=g;return b&&S?Hn._fromTokenResponse(b,S):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function jt(_,p){return p?Zn(p):(Le(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class fr extends Aa{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Kr(p,this._buildIdpRequest())}_linkToIdToken(p,g){return Kr(p,this._buildIdpRequest(g))}_getReauthenticationResolver(p){return Kr(p,this._buildIdpRequest())}_buildIdpRequest(p){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(g.idToken=p),g}}function D(_){return zn(_.auth,new fr(_),_.bypassAuthState)}function I(_){const{auth:p,user:g}=_;return Le(g,p,"internal-error"),Bh(g,new fr(_),_.bypassAuthState)}function O(_){return B.apply(this,arguments)}function B(){return(B=(0,u.Z)(function*(_){const{auth:p,user:g}=_;return Le(g,p,"internal-error"),Pa(g,new fr(_),_.bypassAuthState)})).apply(this,arguments)}class X{constructor(p,g,b,S,R=!1){this.auth=p,this.resolver=b,this.user=S,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var p=this;return new Promise(function(){var g=(0,u.Z)(function*(b,S){p.pendingPromise={resolve:b,reject:S};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(R){p.reject(R)}});return function(b,S){return g.apply(this,arguments)}}())}onAuthEvent(p){var g=this;return(0,u.Z)(function*(){const{urlResponse:b,sessionId:S,postBody:R,tenantId:j,error:se,type:Ne}=p;if(se)return void g.reject(se);const Me={auth:g.auth,requestUri:b,sessionId:S,tenantId:j||void 0,postBody:R||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Ne)(Me))}catch(at){g.reject(at)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return D;case"linkViaPopup":case"linkViaRedirect":return O;case"reauthViaPopup":case"reauthViaRedirect":return I;default:nn(this.auth,"internal-error")}}resolve(p){qe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){qe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ae=new ht(2e3,1e4);function Fe(){return(Fe=(0,u.Z)(function*(_,p,g){const b=ii(_);Vi(_,p,$i);const S=jt(b,g);return new xn(b,"signInViaPopup",p,S).executeNotNull()})).apply(this,arguments)}function Dt(){return(Dt=(0,u.Z)(function*(_,p,g){const b=(0,L.m9)(_);Vi(b.auth,p,$i);const S=jt(b.auth,g);return new xn(b.auth,"reauthViaPopup",p,S,b).executeNotNull()})).apply(this,arguments)}function pt(){return(pt=(0,u.Z)(function*(_,p,g){const b=(0,L.m9)(_);Vi(b.auth,p,$i);const S=jt(b.auth,g);return new xn(b.auth,"linkViaPopup",p,S,b).executeNotNull()})).apply(this,arguments)}let xn=(()=>{class _ extends X{constructor(g,b,S,R,j){super(g,b,R,j),this.provider=S,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var g=this;return(0,u.Z)(function*(){const b=yield g.execute();return Le(b,g.auth,"internal-error"),b})()}onExecution(){var g=this;return(0,u.Z)(function*(){qe(1===g.filter.length,"Popup operations only handle one event");const b=es();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],b),g.authWindow.associatedEvent=b,g.resolver._originValidation(g.auth).catch(S=>{g.reject(S)}),g.resolver._isIframeWebStorageSupported(g.auth,S=>{S||g.reject(kn(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(kn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const g=()=>{var b,S;this.pollId=null!==(S=null===(b=this.authWindow)||void 0===b?void 0:b.window)&&void 0!==S&&S.closed?window.setTimeout(()=>{this.pollId=null,this.reject(kn(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,ae.get())};g()}}return _.currentPopupAction=null,_})();const Is=new Map;class zs extends X{constructor(p,g,b=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,b),this.eventId=null}execute(){var p=()=>super.execute,g=this;return(0,u.Z)(function*(){let b=Is.get(g.auth._key());if(!b){try{const R=(yield function Rt(_,p){return pr.apply(this,arguments)}(g.resolver,g.auth))?yield p().call(g):null;b=()=>Promise.resolve(R)}catch(S){b=()=>Promise.reject(S)}Is.set(g.auth._key(),b)}return g.bypassAuthState||Is.set(g.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(p){var g=()=>super.onAuthEvent,b=this;return(0,u.Z)(function*(){if("signInViaRedirect"===p.type)return g().call(b,p);if("unknown"!==p.type){if(p.eventId){const S=yield b.auth._redirectUserForId(p.eventId);if(S)return b.user=S,g().call(b,p);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function pr(){return(pr=(0,u.Z)(function*(_,p){const g=Xp(p),b=mr(_);if(!(yield b._isAvailable()))return!1;const S="true"===(yield b._get(g));return yield b._remove(g),S})).apply(this,arguments)}function As(_,p){return gr.apply(this,arguments)}function gr(){return(gr=(0,u.Z)(function*(_,p){return mr(_)._set(Xp(p),"true")})).apply(this,arguments)}function Ss(_,p){Is.set(_._key(),p)}function mr(_){return Zn(_._redirectPersistence)}function Xp(_){return Yr("pendingRedirect",_.config.apiKey,_.name)}function tg(){return(tg=(0,u.Z)(function*(_,p,g){const b=ii(_);Vi(_,p,$i);const S=jt(b,g);return yield As(S,b),S._openRedirect(b,p,"signInViaRedirect")})).apply(this,arguments)}function Ku(){return(Ku=(0,u.Z)(function*(_,p,g){const b=(0,L.m9)(_);Vi(b.auth,p,$i);const S=jt(b.auth,g);yield As(S,b.auth);const R=yield Ql(b);return S._openRedirect(b.auth,p,"reauthViaRedirect",R)})).apply(this,arguments)}function Qu(){return(Qu=(0,u.Z)(function*(_,p,g){const b=(0,L.m9)(_);Vi(b.auth,p,$i);const S=jt(b.auth,g);yield Ll(!1,b,p.providerId),yield As(S,b.auth);const R=yield Ql(b);return S._openRedirect(b.auth,p,"linkViaRedirect",R)})).apply(this,arguments)}function Xu(){return(Xu=(0,u.Z)(function*(_,p){return yield ii(_)._initializationPromise,Ju(_,p,!1)})).apply(this,arguments)}function Ju(_,p){return fd.apply(this,arguments)}function fd(){return(fd=(0,u.Z)(function*(_,p,g=!1){const b=ii(_),S=jt(b,p),j=yield new zs(b,S,g).execute();return j&&!g&&(delete j.user._redirectEventId,yield b._persistUserIfCurrent(j.user),yield b._setRedirectUser(null,p)),j})).apply(this,arguments)}function Ql(_){return Xl.apply(this,arguments)}function Xl(){return(Xl=(0,u.Z)(function*(_){const p=es(`${_.uid}:::`);return _._redirectEventId=p,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),p})).apply(this,arguments)}class ia{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let g=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(p,b)&&(g=!0,this.sendToConsumer(p,b),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function pd(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ec(_);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=p,g=!0)),g}sendToConsumer(p,g){var b;if(p.error&&!ec(p)){const S=(null===(b=p.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";g.onError(kn(this.auth,S))}else g.onAuthEvent(p)}isEventForConsumer(p,g){const b=null===g.eventId||!!p.eventId&&p.eventId===g.eventId;return g.filter.includes(p.type)&&b}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ht(p))}saveEventToCache(p){this.cachedEventUids.add(Ht(p)),this.lastProcessedEventTime=Date.now()}}function Ht(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(p=>p).join("-")}function ec({type:_,error:p}){return"unknown"===_&&"auth/no-auth-event"===(null==p?void 0:p.code)}function qs(_){return gd.apply(this,arguments)}function gd(){return(gd=(0,u.Z)(function*(_,p={}){return mn(_,"GET","/v1/projects",p)})).apply(this,arguments)}const Xh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,md=/^https?/;function Jl(){return(Jl=(0,u.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:p}=yield qs(_);for(const g of p)try{if(tc(g))return}catch(b){}nn(_,"unauthorized-domain")})).apply(this,arguments)}function tc(_){const p=cr(),{protocol:g,hostname:b}=new URL(p);if(_.startsWith("chrome-extension://")){const j=new URL(_);return""===j.hostname&&""===b?"chrome-extension:"===g&&_.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===g&&j.hostname===b}if(!md.test(g))return!1;if(Xh.test(_))return b===_;const S=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(b)}const ig=new ht(3e4,6e4);function nc(){const _=Xt().___jsl;if(null!=_&&_.H)for(const p of Object.keys(_.H))if(_.H[p].r=_.H[p].r||[],_.H[p].L=_.H[p].L||[],_.H[p].r=[..._.H[p].L],_.CP)for(let g=0;g<_.CP.length;g++)_.CP[g]=null}let yr=null;function mo(_){return yr=yr||function py(_){return new Promise((p,g)=>{var b,S,R;function j(){nc(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{nc(),g(kn(_,"network-request-failed"))},timeout:ig.get()})}if(null!==(S=null===(b=Xt().gapi)||void 0===b?void 0:b.iframes)&&void 0!==S&&S.Iframe)p(gapi.iframes.getContext());else{if(null===(R=Xt().gapi)||void 0===R||!R.load){const se=Wh("iframefcb");return Xt()[se]=()=>{gapi.load?j():g(kn(_,"network-request-failed"))},zu(`https://apis.google.com/js/api.js?onload=${se}`).catch(Ne=>g(Ne))}j()}}).catch(p=>{throw yr=null,p})}(_),yr}const rg=new ht(5e3,15e3),my={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yy=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yd(_){const p=_.config;Le(p.authDomain,_,"auth-domain-config-required");const g=p.emulator?ln(p,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,b={apiKey:p.apiKey,appName:_.name,v:ue.SDK_VERSION},S=yy.get(_.config.apiHost);S&&(b.eid=S);const R=_._getFrameworks();return R.length&&(b.fw=R.join(",")),`${g}?${(0,L.xO)(b).slice(1)}`}function Jh(){return Jh=(0,u.Z)(function*(_){const p=yield mo(_),g=Xt().gapi;return Le(g,_,"internal-error"),p.open({where:document.body,url:yd(_),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:my,dontclear:!0},b=>new Promise(function(){var S=(0,u.Z)(function*(R,j){yield b.restyle({setHideOnLeave:!1});const se=kn(_,"network-request-failed"),Ne=Xt().setTimeout(()=>{j(se)},rg.get());function Me(){Xt().clearTimeout(Ne),R(b)}b.ping(Me).then(Me,()=>{j(se)})});return function(R,j){return S.apply(this,arguments)}}()))}),Jh.apply(this,arguments)}const _y={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class tu{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function ag(_,p,g,b,S,R){Le(_.config.authDomain,_,"auth-domain-config-required"),Le(_.config.apiKey,_,"invalid-api-key");const j={apiKey:_.config.apiKey,appName:_.name,authType:g,redirectUrl:b,v:ue.SDK_VERSION,eventId:S};if(p instanceof $i){p.setDefaultLanguage(_.languageCode),j.providerId=p.providerId||"",(0,L.xb)(p.getCustomParameters())||(j.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Ne,Me]of Object.entries(R||{}))j[Ne]=Me}if(p instanceof so){const Ne=p.getScopes().filter(Me=>""!==Me);Ne.length>0&&(j.scopes=Ne.join(","))}_.tenantId&&(j.tid=_.tenantId);const se=j;for(const Ne of Object.keys(se))void 0===se[Ne]&&delete se[Ne];return`${function t0({config:_}){return _.emulator?ln(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,L.xO)(se).slice(1)}`}const yo="webStorageSupport";class ic extends class Cy{constructor(p){this.factorId=p}_process(p,g,b){switch(g.type){case"enroll":return this._finalizeEnroll(p,g.credential,b);case"signin":return this._finalizeSignIn(p,g.credential);default:return Ri("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new ic(p)}_finalizeEnroll(p,g,b){return function od(_,p){return mn(_,"POST","/v2/accounts/mfaEnrollment:finalize",ot(_,p))}(p,{idToken:g,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,g){return function Ds(_,p){return mn(_,"POST","/v2/accounts/mfaSignIn:finalize",ot(_,p))}(p,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let lg=(()=>{class _{constructor(){}static assertion(g){return ic._fromCredential(g)}}return _.FACTOR_ID="phone",_})();var nl="@firebase/auth";class Ey{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var g=this;return(0,u.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const g=this.auth.onIdTokenChanged(b=>{var S;p((null===(S=b)||void 0===S?void 0:S.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,g),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const g=this.internalListeners.get(p);!g||(this.internalListeners.delete(p),g(),this.updateProactiveRefresh())}assertAuthConfigured(){Le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Lr(){return window}function nf(){return(nf=(0,u.Z)(function*(_,p,g){var b;const{BuildInfo:S}=Lr();qe(p.sessionId,"AuthEvent did not contain a session ID");const R=yield dg(p.sessionId),j={};return Kt()?j.ibi=S.packageName:pi()?j.apn=S.packageName:nn(_,"operation-not-supported-in-this-environment"),S.displayName&&(j.appDisplayName=S.displayName),j.sessionId=R,ag(_,g,p.type,void 0,null!==(b=p.eventId)&&void 0!==b?b:void 0,j)})).apply(this,arguments)}function iu(){return(iu=(0,u.Z)(function*(_){const{BuildInfo:p}=Lr(),g={};Kt()?g.iosBundleId=p.packageName:pi()?g.androidPackageName=p.packageName:nn(_,"operation-not-supported-in-this-environment"),yield qs(_,g)})).apply(this,arguments)}function _o(){return(_o=(0,u.Z)(function*(_,p,g){const{cordova:b}=Lr();let S=()=>{};try{yield new Promise((R,j)=>{let se=null;function Ne(){var ut;R();const Yt=null===(ut=b.plugins.browsertab)||void 0===ut?void 0:ut.close;"function"==typeof Yt&&Yt(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function Me(){se||(se=window.setTimeout(()=>{j(kn(_,"redirect-cancelled-by-user"))},2e3))}function at(){"visible"===(null==document?void 0:document.visibilityState)&&Me()}p.addPassiveListener(Ne),document.addEventListener("resume",Me,!1),pi()&&document.addEventListener("visibilitychange",at,!1),S=()=>{p.removePassiveListener(Ne),document.removeEventListener("resume",Me,!1),document.removeEventListener("visibilitychange",at,!1),se&&window.clearTimeout(se)}})}finally{S()}})).apply(this,arguments)}function dg(_){return sf.apply(this,arguments)}function sf(){return(sf=(0,u.Z)(function*(_){const p=n0(_),g=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(g)).map(S=>S.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function n0(_){if(qe(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(_);const p=new ArrayBuffer(_.length),g=new Uint8Array(p);for(let b=0;b<_.length;b++)g[b]=_.charCodeAt(b);return g}!function vd(_){(0,ue._registerComponent)(new Ue.wA("auth",(p,{options:g})=>{const b=p.getProvider("app").getImmediate(),S=p.getProvider("heartbeat"),{apiKey:R,authDomain:j}=b.options;return((se,Ne)=>{Le(R&&!R.includes(":"),"invalid-api-key",{appName:se.name}),Le(!(null!=j&&j.includes(":")),"argument-error",{appName:se.name});const Me={apiKey:R,authDomain:j,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ia(_)},at=new rr(se,Ne,Me);return function hs(_,p){const g=(null==p?void 0:p.persistence)||[],b=(Array.isArray(g)?g:[g]).map(Zn);null!=p&&p.errorMap&&_._updateErrorMap(p.errorMap),_._initializeWithPersistence(b,null==p?void 0:p.popupRedirectResolver)}(at,g),at})(b,S)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,g,b)=>{p.getProvider("auth-internal").initialize()})),(0,ue._registerComponent)(new Ue.wA("auth-internal",p=>{const g=ii(p.getProvider("auth").getImmediate());return new Ey(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ue.registerVersion)(nl,"0.20.7",function ef(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,ue.registerVersion)(nl,"0.20.7","esm2017")}("Browser");class rc extends ia{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(p)),super.onEvent(p)}initialized(){var p=this;return(0,u.Z)(function*(){yield p.initPromise})()}}function lf(_){return wd.apply(this,arguments)}function wd(){return(wd=(0,u.Z)(function*(_){const p=yield Cd()._get(ru(_));return p&&(yield Cd()._remove(ru(_))),p})).apply(this,arguments)}function fg(){const _=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const b=Math.floor(Math.random()*p.length);_.push(p.charAt(b))}return _.join("")}function Cd(){return Zn(ws)}function ru(_){return Yr("authEvent",_.config.apiKey,_.name)}function sa(_){if(null==_||!_.includes("?"))return{};const[p,...g]=_.split("?");return(0,L.zd)(g.join("?"))}function uf(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:kn("no-auth-event")}}function oa(){var _;return(null===(_=null==self?void 0:self.location)||void 0===_?void 0:_.protocol)||null}function Ad(_=(0,L.z$)()){return!("file:"!==oa()&&"ionic:"!==oa()&&"capacitor:"!==oa()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function rl(){try{const _=self.localStorage,p=es();if(_)return _.setItem(p,"1"),_.removeItem(p),!function Sd(_=(0,L.z$)()){return function gg(){return(0,L.w1)()&&11===(null==document?void 0:document.documentMode)}()||function cf(_=(0,L.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,L.hl)()}catch(_){return sl()&&(0,L.hl)()}return!1}function sl(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function df(){return(function Zs(){return"http:"===oa()||"https:"===oa()}()||(0,L.ru)()||Ad())&&!function sc(){return(0,L.b$)()||(0,L.UG)()}()&&rl()&&!sl()}function mg(){return Ad()&&"undefined"!=typeof document}function su(){return(su=(0,u.Z)(function*(){return!!mg()&&new Promise(_=>{const p=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),_(!0)})})})).apply(this,arguments)}const or={LOCAL:"local",NONE:"none",SESSION:"session"},ou=Le,ff="persistence";function au(_){return vo.apply(this,arguments)}function vo(){return(vo=(0,u.Z)(function*(_){yield _._initializationPromise;const p=ol(),g=Yr(ff,_.config.apiKey,_.name);p&&p.setItem(g,_._getPersistence())})).apply(this,arguments)}function ol(){var _;try{return(null===(_=function yg(){return"undefined"!=typeof window?window:null}())||void 0===_?void 0:_.sessionStorage)||null}catch(p){return null}}const al=Le;class bo{constructor(){this.browserResolver=Zn(class tl{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wi,this._completeRedirectFn=Ju,this._overrideRedirectResult=Ss}_openPopup(p,g,b,S){var R=this;return(0,u.Z)(function*(){var j;qe(null===(j=R.eventManagers[p._key()])||void 0===j?void 0:j.manager,"_initialize() not called before _openPopup()");const se=ag(p,g,b,cr(),S);return function ra(_,p,g,b=500,S=600){const R=Math.max((window.screen.availHeight-S)/2,0).toString(),j=Math.max((window.screen.availWidth-b)/2,0).toString();let se="";const Ne=Object.assign(Object.assign({},_y),{width:b.toString(),height:S.toString(),top:R,left:j}),Me=(0,L.z$)().toLowerCase();g&&(se=Vs(Me)?"_blank":g),Mr(Me)&&(p=p||"http://localhost",Ne.scrollbars="yes");const at=Object.entries(Ne).reduce((Yt,[Xn,Ms])=>`${Yt}${Xn}=${Ms},`,"");if(function Oh(_=(0,L.z$)()){var p;return Kt(_)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(Me)&&"_self"!==se)return function _d(_,p){const g=document.createElement("a");g.href=_,g.target=p;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(b)}(p||"",se),new tu(null);const ut=window.open(p||"",se,at);Le(ut,_,"popup-blocked");try{ut.focus()}catch(Yt){}return new tu(ut)}(p,se,es())})()}_openRedirect(p,g,b,S){var R=this;return(0,u.Z)(function*(){return yield R._originValidation(p),function Xo(_){Xt().location.href=_}(ag(p,g,b,cr(),S)),new Promise(()=>{})})()}_initialize(p){const g=p._key();if(this.eventManagers[g]){const{manager:S,promise:R}=this.eventManagers[g];return S?Promise.resolve(S):(qe(R,"If manager is not set, promise should be"),R)}const b=this.initAndGetManager(p);return this.eventManagers[g]={promise:b},b.catch(()=>{delete this.eventManagers[g]}),b}initAndGetManager(p){var g=this;return(0,u.Z)(function*(){const b=yield function og(_){return Jh.apply(this,arguments)}(p),S=new ia(p);return b.register("authEvent",R=>(Le(null==R?void 0:R.authEvent,p,"invalid-auth-event"),{status:S.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[p._key()]={manager:S},g.iframes[p._key()]=b,S})()}_isIframeWebStorageSupported(p,g){this.iframes[p._key()].send(yo,{type:yo},S=>{var R;const j=null===(R=null==S?void 0:S[0])||void 0===R?void 0:R[yo];void 0!==j&&g(!!j),nn(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function el(_){return Jl.apply(this,arguments)}(p)),this.originValidationPromises[g]}get _shouldInitProactively(){return ir()||ni()||Kt()}}),this.cordovaResolver=Zn(class Ys{constructor(){this._redirectPersistence=wi,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ju,this._overrideRedirectResult=Ss}_initialize(p){var g=this;return(0,u.Z)(function*(){const b=p._key();let S=g.eventManagers.get(b);return S||(S=new rc(p),g.eventManagers.set(b,S),g.attachCallbackListeners(p,S)),S})()}_openPopup(p){nn(p,"operation-not-supported-in-this-environment")}_openRedirect(p,g,b,S){var R=this;return(0,u.Z)(function*(){!function bd(_){var p,g,b,S,R,j,se,Ne,Me,at;const ut=Lr();Le("function"==typeof(null===(p=null==ut?void 0:ut.universalLinks)||void 0===p?void 0:p.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Le(void 0!==(null===(g=null==ut?void 0:ut.BuildInfo)||void 0===g?void 0:g.packageName),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Le("function"==typeof(null===(R=null===(S=null===(b=null==ut?void 0:ut.cordova)||void 0===b?void 0:b.plugins)||void 0===S?void 0:S.browsertab)||void 0===R?void 0:R.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Le("function"==typeof(null===(Ne=null===(se=null===(j=null==ut?void 0:ut.cordova)||void 0===j?void 0:j.plugins)||void 0===se?void 0:se.browsertab)||void 0===Ne?void 0:Ne.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Le("function"==typeof(null===(at=null===(Me=null==ut?void 0:ut.cordova)||void 0===Me?void 0:Me.InAppBrowser)||void 0===at?void 0:at.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const j=yield R._initialize(p);yield j.initialized(),j.resetRedirect(),function na(){Is.clear()}(),yield R._originValidation(p);const se=function af(_,p,g=null){return{type:p,eventId:g,urlResponse:null,sessionId:fg(),postBody:null,tenantId:_.tenantId,error:kn(_,"no-auth-event")}}(p,b,S);yield function hg(_,p){return Cd()._set(ru(_),p)}(p,se);const Ne=yield function Vn(_,p,g){return nf.apply(this,arguments)}(p,se,g),Me=yield function Ws(_){const{cordova:p}=Lr();return new Promise(g=>{p.plugins.browsertab.isAvailable(b=>{let S=null;b?p.plugins.browsertab.openUrl(_):S=p.InAppBrowser.open(_,function Lc(_=(0,L.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),g(S)})})}(Ne);return function rf(_,p,g){return _o.apply(this,arguments)}(p,j,Me)})()}_isIframeWebStorageSupported(p,g){throw new Error("Method not implemented.")}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function cg(_){return iu.apply(this,arguments)}(p)),this.originValidationPromises[g]}attachCallbackListeners(p,g){const{universalLinks:b,handleOpenURL:S,BuildInfo:R}=Lr(),j=setTimeout((0,u.Z)(function*(){yield lf(p),g.onEvent(uf())}),500),se=function(){var at=(0,u.Z)(function*(ut){clearTimeout(j);const Yt=yield lf(p);let Xn=null;Yt&&(null==ut?void 0:ut.url)&&(Xn=function xy(_,p){var g,b;const S=function pg(_){const p=sa(_),g=p.link?decodeURIComponent(p.link):void 0,b=sa(g).link,S=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return sa(S).link||S||b||g||_}(p);if(S.includes("/__/auth/callback")){const R=sa(S),j=R.firebaseError?function s0(_){try{return JSON.parse(_)}catch(p){return null}}(decodeURIComponent(R.firebaseError)):null,se=null===(b=null===(g=null==j?void 0:j.code)||void 0===g?void 0:g.split("auth/"))||void 0===b?void 0:b[1],Ne=se?kn(se):null;return Ne?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:Ne,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:S,postBody:null}}return null}(Yt,ut.url)),g.onEvent(Xn||uf())});return function(Yt){return at.apply(this,arguments)}}();void 0!==b&&"function"==typeof b.subscribe&&b.subscribe(null,se);const Ne=S,Me=`${R.packageName.toLowerCase()}://`;Lr().handleOpenURL=function(){var at=(0,u.Z)(function*(ut){if(ut.toLowerCase().startsWith(Me)&&se({url:ut}),"function"==typeof Ne)try{Ne(ut)}catch(Yt){console.error(Yt)}});return function(ut){return at.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=wi,this._completeRedirectFn=Ju,this._overrideRedirectResult=Ss}_initialize(p){var g=this;return(0,u.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,g,b,S){var R=this;return(0,u.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openPopup(p,g,b,S)})()}_openRedirect(p,g,b,S){var R=this;return(0,u.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openRedirect(p,g,b,S)})()}_isIframeWebStorageSupported(p,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,g)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return mg()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return al(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,u.Z)(function*(){if(p.underlyingResolver)return;const g=yield function hf(){return su.apply(this,arguments)}();p.underlyingResolver=g?p.cordovaResolver:p.browserResolver})()}}function o0(_){return _.unwrap()}function a0(_){return Td(_)}function Td(_){const{_tokenResponse:p}=_ instanceof L.ZR?_.customData:_;if(!p)return null;if(!(_ instanceof L.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return Rn.credentialFromResult(_);const g=p.providerId;if(!g||"password"===g)return null;let b;switch(g){case"google.com":b=Gn;break;case"facebook.com":b=Mu;break;case"github.com":b=Mt;break;case"twitter.com":b=Pl;break;default:const{oauthIdToken:S,oauthAccessToken:R,oauthTokenSecret:j,pendingToken:se,nonce:Ne}=p;return R||j||S||se?se?g.startsWith("saml.")?Fl._create(g,se):Pn._fromParams({providerId:g,signInMethod:g,pendingToken:se,idToken:S,accessToken:R}):new ki(g).credential({idToken:S,accessToken:R,rawNonce:Ne}):null}return _ instanceof L.ZR?b.credentialFromError(_):b.credentialFromResult(_)}function ar(_,p){return p.catch(g=>{throw g instanceof L.ZR&&function l0(_,p){var g,b;const S=null===(g=p.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===(null===(b=p)||void 0===b?void 0:b.code))p.resolver=new pf(_,function ql(_,p){var g;const b=(0,L.m9)(_),S=p;return Le(p.customData.operationType,b,"argument-error"),Le(null===(g=S.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,b,"argument-error"),Qo._fromError(b,S)}(_,p));else if(S){const R=Td(p),j=p;R&&(j.credential=R,j.tenantId=S.tenantId||void 0,j.email=S.email||void 0,j.phoneNumber=S.phoneNumber||void 0)}}(_,g),g}).then(g=>{const S=g.user;return{operationType:g.operationType,credential:a0(g),additionalUserInfo:Ko(g),user:li.getOrCreate(S)}})}function Rd(_,p){return oc.apply(this,arguments)}function oc(){return(oc=(0,u.Z)(function*(_,p){const g=yield p;return{verificationId:g.verificationId,confirm:b=>ar(_,g.confirm(b))}})).apply(this,arguments)}class pf{constructor(p,g){this.resolver=g,this.auth=function Ay(_){return _.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return ar(o0(this.auth),this.resolver.resolveSignIn(p))}}class li{constructor(p){this._delegate=p,this.multiFactor=function ad(_){const p=(0,L.m9)(_);return Ga.has(p)||Ga.set(p,Ha._fromUser(p)),Ga.get(p)}(p)}static getOrCreate(p){return li.USER_MAP.has(p)||li.USER_MAP.set(p,new li(p)),li.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var g=this;return(0,u.Z)(function*(){return ar(g.auth,Qr(g._delegate,p))})()}linkWithPhoneNumber(p,g){var b=this;return(0,u.Z)(function*(){return Rd(b.auth,function Zu(_,p,g){return Fi.apply(this,arguments)}(b._delegate,p,g))})()}linkWithPopup(p){var g=this;return(0,u.Z)(function*(){return ar(g.auth,function kt(_,p,g){return pt.apply(this,arguments)}(g._delegate,p,bo))})()}linkWithRedirect(p){var g=this;return(0,u.Z)(function*(){return yield au(ii(g.auth)),function ng(_,p,g){return function Jb(_,p,g){return Qu.apply(this,arguments)}(_,p,g)}(g._delegate,p,bo)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var g=this;return(0,u.Z)(function*(){return ar(g.auth,Vl(g._delegate,p))})()}reauthenticateWithPhoneNumber(p,g){return Rd(this.auth,function hr(_,p,g){return ns.apply(this,arguments)}(this._delegate,p,g))}reauthenticateWithPopup(p){return ar(this.auth,function lt(_,p,g){return Dt.apply(this,arguments)}(this._delegate,p,bo))}reauthenticateWithRedirect(p){var g=this;return(0,u.Z)(function*(){return yield au(ii(g.auth)),function ai(_,p,g){return function po(_,p,g){return Ku.apply(this,arguments)}(_,p,g)}(g._delegate,p,bo)})()}sendEmailVerification(p){return function Uu(_,p){return Fr.apply(this,arguments)}(this._delegate,p)}unlink(p){var g=this;return(0,u.Z)(function*(){return yield function Nl(_,p){return qi.apply(this,arguments)}(g._delegate,p),g})()}updateEmail(p){return function ed(_,p){return Yo((0,L.m9)(_),p,null)}(this._delegate,p)}updatePassword(p){return function uy(_,p){return Yo((0,L.m9)(_),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function ta(_,p){return is.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function Gl(_,p){return Wo.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,g){return function qo(_,p,g){return ju.apply(this,arguments)}(this._delegate,p,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}li.USER_MAP=new WeakMap;const aa=Le;let ac=(()=>{class _{constructor(g,b){if(this.app=g,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:S}=g.options;aa(S,"invalid-api-key",{appName:g.name}),aa(S,"invalid-api-key",{appName:g.name});const R="undefined"!=typeof window?bo:void 0;this._delegate=b.initialize({options:{persistence:gf(S,g.name),popupRedirectResolver:R}}),this._delegate._updateErrorMap(tn),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?li.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,b){!function Iu(_,p,g){const b=ii(_);Le(b._canInitEmulator,b,"emulator-config-failed"),Le(/^https?:\/\//.test(p),b,"invalid-emulator-scheme");const S=!(null==g||!g.disableWarnings),R=Vc(p),{host:j,port:se}=function ly(_){const p=Vc(_),g=/(\/\/)?([^?#/]+)/.exec(_.substr(p.length));if(!g)return{host:"",port:null};const b=g[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(b);if(S){const R=S[1];return{host:R,port:Tr(b.substr(R.length+1))}}{const[R,j]=b.split(":");return{host:R,port:Tr(j)}}}(p);b.config.emulator={url:`${R}//${j}${null===se?"":`:${se}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:j,port:se,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function Wp(){function _(){const p=document.createElement("p"),g=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,g,b)}applyActionCode(g){return function Xc(_,p){return ms.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return uo(this._delegate,g)}confirmPasswordReset(g,b){return function Pu(_,p,g){return Nu.apply(this,arguments)}(this._delegate,g,b)}createUserWithEmailAndPassword(g,b){var S=this;return(0,u.Z)(function*(){return ar(S._delegate,function En(_,p,g){return jl.apply(this,arguments)}(S._delegate,g,b))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function Bu(_,p){return _s.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function Hl(_,p){const g=kr.parseLink(p);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,u.Z)(function*(){aa(df(),g._delegate,"operation-not-supported-in-this-environment");const b=yield function fy(_,p){return Xu.apply(this,arguments)}(g._delegate,bo);return b?ar(g._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function Dd(_,p){ii(_)._logFramework(p)}(this._delegate,g)}onAuthStateChanged(g,b,S){const{next:R,error:j,complete:se}=Sy(g,b,S);return this._delegate.onAuthStateChanged(R,j,se)}onIdTokenChanged(g,b,S){const{next:R,error:j,complete:se}=Sy(g,b,S);return this._delegate.onIdTokenChanged(R,j,se)}sendSignInLinkToEmail(g,b){return function jh(_,p,g){return Ua.apply(this,arguments)}(this._delegate,g,b)}sendPasswordResetEmail(g,b){return function Bl(_,p,g){return Fu.apply(this,arguments)}(this._delegate,g,b||void 0)}setPersistence(g){var b=this;return(0,u.Z)(function*(){let S;switch(function Md(_,p){ou(Object.values(or).includes(p),_,"invalid-persistence-type"),(0,L.b$)()?ou(p!==or.SESSION,_,"unsupported-persistence-type"):(0,L.UG)()?ou(p===or.NONE,_,"unsupported-persistence-type"):sl()?ou(p===or.NONE||p===or.LOCAL&&(0,L.hl)(),_,"unsupported-persistence-type"):ou(p===or.NONE||rl(),_,"unsupported-persistence-type")}(b._delegate,g),g){case or.SESSION:S=wi;break;case or.LOCAL:S=(yield Zn(Pt)._isAvailable())?Pt:ws;break;case or.NONE:S=It;break;default:return nn("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(S)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return ar(this._delegate,function Wt(_){return Ou.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return ar(this._delegate,Ho(this._delegate,g))}signInWithCustomToken(g){return ar(this._delegate,function ku(_,p){return La.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,b){return ar(this._delegate,function Lu(_,p,g){return Ho((0,L.m9)(_),kl.credential(p,g))}(this._delegate,g,b))}signInWithEmailLink(g,b){return ar(this._delegate,function Vu(_,p,g){return zo.apply(this,arguments)}(this._delegate,g,b))}signInWithPhoneNumber(g,b){return Rd(this._delegate,function Pr(_,p,g){return Nr.apply(this,arguments)}(this._delegate,g,b))}signInWithPopup(g){var b=this;return(0,u.Z)(function*(){return aa(df(),b._delegate,"operation-not-supported-in-this-environment"),ar(b._delegate,function Ie(_,p,g){return Fe.apply(this,arguments)}(b._delegate,g,bo))})()}signInWithRedirect(g){var b=this;return(0,u.Z)(function*(){return aa(df(),b._delegate,"operation-not-supported-in-this-environment"),yield au(b._delegate),function Jp(_,p,g){return function eg(_,p,g){return tg.apply(this,arguments)}(_,p,g)}(b._delegate,g,bo)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function ri(_,p){return Xr.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=or,_})();function Sy(_,p,g){let b=_;"function"!=typeof _&&({next:b,error:p,complete:g}=_);const S=b;return{next:j=>S(j&&li.getOrCreate(j)),error:p,complete:g}}function gf(_,p){const g=function Iy(_,p){const g=ol();if(!g)return[];const b=Yr(ff,_,p);switch(g.getItem(b)){case or.NONE:return[It];case or.LOCAL:return[Pt,wi];case or.SESSION:return[wi];default:return[]}}(_,p);if("undefined"!=typeof self&&!g.includes(Pt)&&g.push(Pt),"undefined"!=typeof window)for(const b of[ws,wi])g.includes(b)||g.push(b);return g.includes(It)||g.push(It),g}class mf{constructor(){this.providerId="phone",this._delegate=new Rn(o0(te.Z.auth()))}static credential(p,g){return Rn.credential(p,g)}verifyPhoneNumber(p,g){return this._delegate.verifyPhoneNumber(p,g)}unwrap(){return this._delegate}}mf.PHONE_SIGN_IN_METHOD=Rn.PHONE_SIGN_IN_METHOD,mf.PROVIDER_ID=Rn.PROVIDER_ID;const yf=Le;class u0{constructor(p,g,b=te.Z.app()){var S;yf(null===(S=b.options)||void 0===S?void 0:S.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new Kl(p,g,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function lc(_){_.INTERNAL.registerComponent(new Ue.wA("auth-compat",p=>{const g=p.getProvider("app-compat").getImmediate(),b=p.getProvider("auth");return new ac(g,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:kl,FacebookAuthProvider:Mu,GithubAuthProvider:Mt,GoogleAuthProvider:Gn,OAuthProvider:ki,SAMLAuthProvider:Oa,PhoneAuthProvider:mf,PhoneMultiFactorGenerator:lg,RecaptchaVerifier:u0,TwitterAuthProvider:Pl,Auth:ac,AuthCredential:Aa,Error:L.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.2.20")}(te.Z)},9751:(nt,be,F)=>{F.d(be,{y:()=>de});var u=F(930),te=F(727),L=F(8822),ue=F(9635),le=F(2416),me=F(576),ne=F(2806);let de=(()=>{class ee{constructor(Re){Re&&(this._subscribe=Re)}lift(Re){const Ce=new ee;return Ce.source=this,Ce.operator=Re,Ce}subscribe(Re,Ce,rt){const ve=function z(ee){return ee&&ee instanceof u.Lv||function $(ee){return ee&&(0,me.m)(ee.next)&&(0,me.m)(ee.error)&&(0,me.m)(ee.complete)}(ee)&&(0,te.Nn)(ee)}(Re)?Re:new u.Hp(Re,Ce,rt);return(0,ne.x)(()=>{const{operator:ge,source:st}=this;ve.add(ge?ge.call(ve,st):st?this._subscribe(ve):this._trySubscribe(ve))}),ve}_trySubscribe(Re){try{return this._subscribe(Re)}catch(Ce){Re.error(Ce)}}forEach(Re,Ce){return new(Ce=ye(Ce))((rt,ve)=>{const ge=new u.Hp({next:st=>{try{Re(st)}catch(mt){ve(mt),ge.unsubscribe()}},error:ve,complete:rt});this.subscribe(ge)})}_subscribe(Re){var Ce;return null===(Ce=this.source)||void 0===Ce?void 0:Ce.subscribe(Re)}[L.L](){return this}pipe(...Re){return(0,ue.U)(Re)(this)}toPromise(Re){return new(Re=ye(Re))((Ce,rt)=>{let ve;this.subscribe(ge=>ve=ge,ge=>rt(ge),()=>Ce(ve))})}}return ee.create=Ge=>new ee(Ge),ee})();function ye(ee){var Ge;return null!==(Ge=null!=ee?ee:le.v.Promise)&&void 0!==Ge?Ge:Promise}},7579:(nt,be,F)=>{F.d(be,{x:()=>ne});var u=F(9751),te=F(727);const ue=(0,F(3888).d)(ye=>function(){ye(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var le=F(8737),me=F(2806);let ne=(()=>{class ye extends u.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(z){const ee=new de(this,this);return ee.operator=z,ee}_throwIfClosed(){if(this.closed)throw new ue}next(z){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ee of this.currentObservers)ee.next(z)}})}error(z){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=z;const{observers:ee}=this;for(;ee.length;)ee.shift().error(z)}})}complete(){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:z}=this;for(;z.length;)z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var z;return(null===(z=this.observers)||void 0===z?void 0:z.length)>0}_trySubscribe(z){return this._throwIfClosed(),super._trySubscribe(z)}_subscribe(z){return this._throwIfClosed(),this._checkFinalizedStatuses(z),this._innerSubscribe(z)}_innerSubscribe(z){const{hasError:ee,isStopped:Ge,observers:Re}=this;return ee||Ge?te.Lc:(this.currentObservers=null,Re.push(z),new te.w0(()=>{this.currentObservers=null,(0,le.P)(Re,z)}))}_checkFinalizedStatuses(z){const{hasError:ee,thrownError:Ge,isStopped:Re}=this;ee?z.error(Ge):Re&&z.complete()}asObservable(){const z=new u.y;return z.source=this,z}}return ye.create=($,z)=>new de($,z),ye})();class de extends ne{constructor($,z){super(),this.destination=$,this.source=z}next($){var z,ee;null===(ee=null===(z=this.destination)||void 0===z?void 0:z.next)||void 0===ee||ee.call(z,$)}error($){var z,ee;null===(ee=null===(z=this.destination)||void 0===z?void 0:z.error)||void 0===ee||ee.call(z,$)}complete(){var $,z;null===(z=null===($=this.destination)||void 0===$?void 0:$.complete)||void 0===z||z.call($)}_subscribe($){var z,ee;return null!==(ee=null===(z=this.source)||void 0===z?void 0:z.subscribe($))&&void 0!==ee?ee:te.Lc}}},930:(nt,be,F)=>{F.d(be,{Hp:()=>rt,Lv:()=>ee});var u=F(576),te=F(727),L=F(2416),ue=F(7849),le=F(5032);const me=ye("C",void 0,void 0);function ye(Ve,Oe,Ae){return{kind:Ve,value:Oe,error:Ae}}var $=F(3410),z=F(2806);class ee extends te.w0{constructor(Oe){super(),this.isStopped=!1,Oe?(this.destination=Oe,(0,te.Nn)(Oe)&&Oe.add(this)):this.destination=mt}static create(Oe,Ae,We){return new rt(Oe,Ae,We)}next(Oe){this.isStopped?st(function de(Ve){return ye("N",Ve,void 0)}(Oe),this):this._next(Oe)}error(Oe){this.isStopped?st(function ne(Ve){return ye("E",void 0,Ve)}(Oe),this):(this.isStopped=!0,this._error(Oe))}complete(){this.isStopped?st(me,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Oe){this.destination.next(Oe)}_error(Oe){try{this.destination.error(Oe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ge=Function.prototype.bind;function Re(Ve,Oe){return Ge.call(Ve,Oe)}class Ce{constructor(Oe){this.partialObserver=Oe}next(Oe){const{partialObserver:Ae}=this;if(Ae.next)try{Ae.next(Oe)}catch(We){ve(We)}}error(Oe){const{partialObserver:Ae}=this;if(Ae.error)try{Ae.error(Oe)}catch(We){ve(We)}else ve(Oe)}complete(){const{partialObserver:Oe}=this;if(Oe.complete)try{Oe.complete()}catch(Ae){ve(Ae)}}}class rt extends ee{constructor(Oe,Ae,We){let ze;if(super(),(0,u.m)(Oe)||!Oe)ze={next:null!=Oe?Oe:void 0,error:null!=Ae?Ae:void 0,complete:null!=We?We:void 0};else{let fe;this&&L.v.useDeprecatedNextContext?(fe=Object.create(Oe),fe.unsubscribe=()=>this.unsubscribe(),ze={next:Oe.next&&Re(Oe.next,fe),error:Oe.error&&Re(Oe.error,fe),complete:Oe.complete&&Re(Oe.complete,fe)}):ze=Oe}this.destination=new Ce(ze)}}function ve(Ve){L.v.useDeprecatedSynchronousErrorHandling?(0,z.O)(Ve):(0,ue.h)(Ve)}function st(Ve,Oe){const{onStoppedNotification:Ae}=L.v;Ae&&$.z.setTimeout(()=>Ae(Ve,Oe))}const mt={closed:!0,next:le.Z,error:function ge(Ve){throw Ve},complete:le.Z}},727:(nt,be,F)=>{F.d(be,{Lc:()=>me,w0:()=>le,Nn:()=>ne});var u=F(576);const L=(0,F(3888).d)(ye=>function(z){ye(this),this.message=z?`${z.length} errors occurred during unsubscription:\n${z.map((ee,Ge)=>`${Ge+1}) ${ee.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=z});var ue=F(8737);class le{constructor($){this.initialTeardown=$,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let $;if(!this.closed){this.closed=!0;const{_parentage:z}=this;if(z)if(this._parentage=null,Array.isArray(z))for(const Re of z)Re.remove(this);else z.remove(this);const{initialTeardown:ee}=this;if((0,u.m)(ee))try{ee()}catch(Re){$=Re instanceof L?Re.errors:[Re]}const{_finalizers:Ge}=this;if(Ge){this._finalizers=null;for(const Re of Ge)try{de(Re)}catch(Ce){$=null!=$?$:[],Ce instanceof L?$=[...$,...Ce.errors]:$.push(Ce)}}if($)throw new L($)}}add($){var z;if($&&$!==this)if(this.closed)de($);else{if($ instanceof le){if($.closed||$._hasParent(this))return;$._addParent(this)}(this._finalizers=null!==(z=this._finalizers)&&void 0!==z?z:[]).push($)}}_hasParent($){const{_parentage:z}=this;return z===$||Array.isArray(z)&&z.includes($)}_addParent($){const{_parentage:z}=this;this._parentage=Array.isArray(z)?(z.push($),z):z?[z,$]:$}_removeParent($){const{_parentage:z}=this;z===$?this._parentage=null:Array.isArray(z)&&(0,ue.P)(z,$)}remove($){const{_finalizers:z}=this;z&&(0,ue.P)(z,$),$ instanceof le&&$._removeParent(this)}}le.EMPTY=(()=>{const ye=new le;return ye.closed=!0,ye})();const me=le.EMPTY;function ne(ye){return ye instanceof le||ye&&"closed"in ye&&(0,u.m)(ye.remove)&&(0,u.m)(ye.add)&&(0,u.m)(ye.unsubscribe)}function de(ye){(0,u.m)(ye)?ye():ye.unsubscribe()}},2416:(nt,be,F)=>{F.d(be,{v:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(nt,be,F)=>{F.d(be,{E:()=>te});const te=new(F(9751).y)(le=>le.complete())},8996:(nt,be,F)=>{F.d(be,{D:()=>Oe});var u=F(8421),te=F(5363),L=F(9468),me=F(9751),de=F(2202),ye=F(576),$=F(9672);function ee(Ae,We){if(!Ae)throw new Error("Iterable cannot be null");return new me.y(ze=>{(0,$.f)(ze,We,()=>{const fe=Ae[Symbol.asyncIterator]();(0,$.f)(ze,We,()=>{fe.next().then(De=>{De.done?ze.complete():ze.next(De.value)})},0,!0)})})}var Ge=F(3670),Re=F(8239),Ce=F(1144),rt=F(6495),ve=F(2206),ge=F(4532),st=F(3260);function Oe(Ae,We){return We?function Ve(Ae,We){if(null!=Ae){if((0,Ge.c)(Ae))return function ue(Ae,We){return(0,u.Xf)(Ae).pipe((0,L.R)(We),(0,te.Q)(We))}(Ae,We);if((0,Ce.z)(Ae))return function ne(Ae,We){return new me.y(ze=>{let fe=0;return We.schedule(function(){fe===Ae.length?ze.complete():(ze.next(Ae[fe++]),ze.closed||this.schedule())})})}(Ae,We);if((0,Re.t)(Ae))return function le(Ae,We){return(0,u.Xf)(Ae).pipe((0,L.R)(We),(0,te.Q)(We))}(Ae,We);if((0,ve.D)(Ae))return ee(Ae,We);if((0,rt.T)(Ae))return function z(Ae,We){return new me.y(ze=>{let fe;return(0,$.f)(ze,We,()=>{fe=Ae[de.h](),(0,$.f)(ze,We,()=>{let De,J;try{({value:De,done:J}=fe.next())}catch(ie){return void ze.error(ie)}J?ze.complete():ze.next(De)},0,!0)}),()=>(0,ye.m)(null==fe?void 0:fe.return)&&fe.return()})}(Ae,We);if((0,st.L)(Ae))return function mt(Ae,We){return ee((0,st.Q)(Ae),We)}(Ae,We)}throw(0,ge.z)(Ae)}(Ae,We):(0,u.Xf)(Ae)}},8421:(nt,be,F)=>{F.d(be,{Xf:()=>Ge});var u=F(5987),te=F(1144),L=F(8239),ue=F(9751),le=F(3670),me=F(2206),ne=F(4532),de=F(6495),ye=F(3260),$=F(576),z=F(7849),ee=F(8822);function Ge(Ve){if(Ve instanceof ue.y)return Ve;if(null!=Ve){if((0,le.c)(Ve))return function Re(Ve){return new ue.y(Oe=>{const Ae=Ve[ee.L]();if((0,$.m)(Ae.subscribe))return Ae.subscribe(Oe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ve);if((0,te.z)(Ve))return function Ce(Ve){return new ue.y(Oe=>{for(let Ae=0;Ae<Ve.length&&!Oe.closed;Ae++)Oe.next(Ve[Ae]);Oe.complete()})}(Ve);if((0,L.t)(Ve))return function rt(Ve){return new ue.y(Oe=>{Ve.then(Ae=>{Oe.closed||(Oe.next(Ae),Oe.complete())},Ae=>Oe.error(Ae)).then(null,z.h)})}(Ve);if((0,me.D)(Ve))return ge(Ve);if((0,de.T)(Ve))return function ve(Ve){return new ue.y(Oe=>{for(const Ae of Ve)if(Oe.next(Ae),Oe.closed)return;Oe.complete()})}(Ve);if((0,ye.L)(Ve))return function st(Ve){return ge((0,ye.Q)(Ve))}(Ve)}throw(0,ne.z)(Ve)}function ge(Ve){return new ue.y(Oe=>{(function mt(Ve,Oe){var Ae,We,ze,fe;return(0,u.mG)(this,void 0,void 0,function*(){try{for(Ae=(0,u.KL)(Ve);!(We=yield Ae.next()).done;)if(Oe.next(We.value),Oe.closed)return}catch(De){ze={error:De}}finally{try{We&&!We.done&&(fe=Ae.return)&&(yield fe.call(Ae))}finally{if(ze)throw ze.error}}Oe.complete()})})(Ve,Oe).catch(Ae=>Oe.error(Ae))})}},6451:(nt,be,F)=>{F.d(be,{T:()=>me});var u=F(8189),te=F(8421),L=F(515),ue=F(3269),le=F(8996);function me(...ne){const de=(0,ue.yG)(ne),ye=(0,ue._6)(ne,1/0),$=ne;return $.length?1===$.length?(0,te.Xf)($[0]):(0,u.J)(ye)((0,le.D)($,de)):L.E}},5403:(nt,be,F)=>{F.d(be,{x:()=>te});var u=F(930);function te(ue,le,me,ne,de){return new L(ue,le,me,ne,de)}class L extends u.Lv{constructor(le,me,ne,de,ye,$){super(le),this.onFinalize=ye,this.shouldUnsubscribe=$,this._next=me?function(z){try{me(z)}catch(ee){le.error(ee)}}:super._next,this._error=de?function(z){try{de(z)}catch(ee){le.error(ee)}finally{this.unsubscribe()}}:super._error,this._complete=ne?function(){try{ne()}catch(z){le.error(z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var le;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:me}=this;super.unsubscribe(),!me&&(null===(le=this.onFinalize)||void 0===le||le.call(this))}}}},4004:(nt,be,F)=>{F.d(be,{U:()=>L});var u=F(4482),te=F(5403);function L(ue,le){return(0,u.e)((me,ne)=>{let de=0;me.subscribe((0,te.x)(ne,ye=>{ne.next(ue.call(le,ye,de++))}))})}},8189:(nt,be,F)=>{F.d(be,{J:()=>L});var u=F(5577),te=F(4671);function L(ue=1/0){return(0,u.z)(te.y,ue)}},5577:(nt,be,F)=>{F.d(be,{z:()=>de});var u=F(4004),te=F(8421),L=F(4482),ue=F(9672),le=F(5403),ne=F(576);function de(ye,$,z=1/0){return(0,ne.m)($)?de((ee,Ge)=>(0,u.U)((Re,Ce)=>$(ee,Re,Ge,Ce))((0,te.Xf)(ye(ee,Ge))),z):("number"==typeof $&&(z=$),(0,L.e)((ee,Ge)=>function me(ye,$,z,ee,Ge,Re,Ce,rt){const ve=[];let ge=0,st=0,mt=!1;const Ve=()=>{mt&&!ve.length&&!ge&&$.complete()},Oe=We=>ge<ee?Ae(We):ve.push(We),Ae=We=>{Re&&$.next(We),ge++;let ze=!1;(0,te.Xf)(z(We,st++)).subscribe((0,le.x)($,fe=>{null==Ge||Ge(fe),Re?Oe(fe):$.next(fe)},()=>{ze=!0},void 0,()=>{if(ze)try{for(ge--;ve.length&&ge<ee;){const fe=ve.shift();Ce?(0,ue.f)($,Ce,()=>Ae(fe)):Ae(fe)}Ve()}catch(fe){$.error(fe)}}))};return ye.subscribe((0,le.x)($,Oe,()=>{mt=!0,Ve()})),()=>{null==rt||rt()}}(ee,Ge,ye,z)))}},5363:(nt,be,F)=>{F.d(be,{Q:()=>ue});var u=F(9672),te=F(4482),L=F(5403);function ue(le,me=0){return(0,te.e)((ne,de)=>{ne.subscribe((0,L.x)(de,ye=>(0,u.f)(de,le,()=>de.next(ye),me),()=>(0,u.f)(de,le,()=>de.complete(),me),ye=>(0,u.f)(de,le,()=>de.error(ye),me)))})}},3099:(nt,be,F)=>{F.d(be,{B:()=>le});var u=F(8421),te=F(7579),L=F(930),ue=F(4482);function le(ne={}){const{connector:de=(()=>new te.x),resetOnError:ye=!0,resetOnComplete:$=!0,resetOnRefCountZero:z=!0}=ne;return ee=>{let Ge,Re,Ce,rt=0,ve=!1,ge=!1;const st=()=>{null==Re||Re.unsubscribe(),Re=void 0},mt=()=>{st(),Ge=Ce=void 0,ve=ge=!1},Ve=()=>{const Oe=Ge;mt(),null==Oe||Oe.unsubscribe()};return(0,ue.e)((Oe,Ae)=>{rt++,!ge&&!ve&&st();const We=Ce=null!=Ce?Ce:de();Ae.add(()=>{rt--,0===rt&&!ge&&!ve&&(Re=me(Ve,z))}),We.subscribe(Ae),!Ge&&rt>0&&(Ge=new L.Hp({next:ze=>We.next(ze),error:ze=>{ge=!0,st(),Re=me(mt,ye,ze),We.error(ze)},complete:()=>{ve=!0,st(),Re=me(mt,$),We.complete()}}),(0,u.Xf)(Oe).subscribe(Ge))})(ee)}}function me(ne,de,...ye){if(!0===de)return void ne();if(!1===de)return;const $=new L.Hp({next:()=>{$.unsubscribe(),ne()}});return de(...ye).subscribe($)}},9468:(nt,be,F)=>{F.d(be,{R:()=>te});var u=F(4482);function te(L,ue=0){return(0,u.e)((le,me)=>{me.add(L.schedule(()=>le.subscribe(me),ue))})}},8505:(nt,be,F)=>{F.d(be,{b:()=>le});var u=F(576),te=F(4482),L=F(5403),ue=F(4671);function le(me,ne,de){const ye=(0,u.m)(me)||ne||de?{next:me,error:ne,complete:de}:me;return ye?(0,te.e)(($,z)=>{var ee;null===(ee=ye.subscribe)||void 0===ee||ee.call(ye);let Ge=!0;$.subscribe((0,L.x)(z,Re=>{var Ce;null===(Ce=ye.next)||void 0===Ce||Ce.call(ye,Re),z.next(Re)},()=>{var Re;Ge=!1,null===(Re=ye.complete)||void 0===Re||Re.call(ye),z.complete()},Re=>{var Ce;Ge=!1,null===(Ce=ye.error)||void 0===Ce||Ce.call(ye,Re),z.error(Re)},()=>{var Re,Ce;Ge&&(null===(Re=ye.unsubscribe)||void 0===Re||Re.call(ye)),null===(Ce=ye.finalize)||void 0===Ce||Ce.call(ye)}))}):ue.y}},4408:(nt,be,F)=>{F.d(be,{o:()=>le});var u=F(727);class te extends u.w0{constructor(ne,de){super()}schedule(ne,de=0){return this}}const L={setInterval(me,ne,...de){const{delegate:ye}=L;return null!=ye&&ye.setInterval?ye.setInterval(me,ne,...de):setInterval(me,ne,...de)},clearInterval(me){const{delegate:ne}=L;return((null==ne?void 0:ne.clearInterval)||clearInterval)(me)},delegate:void 0};var ue=F(8737);class le extends te{constructor(ne,de){super(ne,de),this.scheduler=ne,this.work=de,this.pending=!1}schedule(ne,de=0){var ye;if(this.closed)return this;this.state=ne;const $=this.id,z=this.scheduler;return null!=$&&(this.id=this.recycleAsyncId(z,$,de)),this.pending=!0,this.delay=de,this.id=null!==(ye=this.id)&&void 0!==ye?ye:this.requestAsyncId(z,this.id,de),this}requestAsyncId(ne,de,ye=0){return L.setInterval(ne.flush.bind(ne,this),ye)}recycleAsyncId(ne,de,ye=0){if(null!=ye&&this.delay===ye&&!1===this.pending)return de;null!=de&&L.clearInterval(de)}execute(ne,de){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ye=this._execute(ne,de);if(ye)return ye;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ne,de){let $,ye=!1;try{this.work(ne)}catch(z){ye=!0,$=z||new Error("Scheduled action threw falsy error")}if(ye)return this.unsubscribe(),$}unsubscribe(){if(!this.closed){const{id:ne,scheduler:de}=this,{actions:ye}=de;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ue.P)(ye,this),null!=ne&&(this.id=this.recycleAsyncId(de,ne,null)),this.delay=null,super.unsubscribe()}}}},7565:(nt,be,F)=>{F.d(be,{v:()=>L});var u=F(6063);class te{constructor(le,me=te.now){this.schedulerActionCtor=le,this.now=me}schedule(le,me=0,ne){return new this.schedulerActionCtor(this,le).schedule(ne,me)}}te.now=u.l.now;class L extends te{constructor(le,me=te.now){super(le,me),this.actions=[],this._active=!1}flush(le){const{actions:me}=this;if(this._active)return void me.push(le);let ne;this._active=!0;do{if(ne=le.execute(le.state,le.delay))break}while(le=me.shift());if(this._active=!1,ne){for(;le=me.shift();)le.unsubscribe();throw ne}}}},4986:(nt,be,F)=>{F.d(be,{P:()=>ue,z:()=>L});var u=F(4408);const L=new(F(7565).v)(u.o),ue=L},6063:(nt,be,F)=>{F.d(be,{l:()=>u});const u={now:()=>(u.delegate||Date).now(),delegate:void 0}},3410:(nt,be,F)=>{F.d(be,{z:()=>u});const u={setTimeout(te,L,...ue){const{delegate:le}=u;return null!=le&&le.setTimeout?le.setTimeout(te,L,...ue):setTimeout(te,L,...ue)},clearTimeout(te){const{delegate:L}=u;return((null==L?void 0:L.clearTimeout)||clearTimeout)(te)},delegate:void 0}},2202:(nt,be,F)=>{F.d(be,{h:()=>te});const te=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(nt,be,F)=>{F.d(be,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(nt,be,F)=>{F.d(be,{_6:()=>me,jO:()=>ue,yG:()=>le});var u=F(576),te=F(3532);function L(ne){return ne[ne.length-1]}function ue(ne){return(0,u.m)(L(ne))?ne.pop():void 0}function le(ne){return(0,te.K)(L(ne))?ne.pop():void 0}function me(ne,de){return"number"==typeof L(ne)?ne.pop():de}},8737:(nt,be,F)=>{function u(te,L){if(te){const ue=te.indexOf(L);0<=ue&&te.splice(ue,1)}}F.d(be,{P:()=>u})},3888:(nt,be,F)=>{function u(te){const ue=te(le=>{Error.call(le),le.stack=(new Error).stack});return ue.prototype=Object.create(Error.prototype),ue.prototype.constructor=ue,ue}F.d(be,{d:()=>u})},2806:(nt,be,F)=>{F.d(be,{O:()=>ue,x:()=>L});var u=F(2416);let te=null;function L(le){if(u.v.useDeprecatedSynchronousErrorHandling){const me=!te;if(me&&(te={errorThrown:!1,error:null}),le(),me){const{errorThrown:ne,error:de}=te;if(te=null,ne)throw de}}else le()}function ue(le){u.v.useDeprecatedSynchronousErrorHandling&&te&&(te.errorThrown=!0,te.error=le)}},9672:(nt,be,F)=>{function u(te,L,ue,le=0,me=!1){const ne=L.schedule(function(){ue(),me?te.add(this.schedule(null,le)):this.unsubscribe()},le);if(te.add(ne),!me)return ne}F.d(be,{f:()=>u})},4671:(nt,be,F)=>{function u(te){return te}F.d(be,{y:()=>u})},1144:(nt,be,F)=>{F.d(be,{z:()=>u});const u=te=>te&&"number"==typeof te.length&&"function"!=typeof te},2206:(nt,be,F)=>{F.d(be,{D:()=>te});var u=F(576);function te(L){return Symbol.asyncIterator&&(0,u.m)(null==L?void 0:L[Symbol.asyncIterator])}},576:(nt,be,F)=>{function u(te){return"function"==typeof te}F.d(be,{m:()=>u})},3670:(nt,be,F)=>{F.d(be,{c:()=>L});var u=F(8822),te=F(576);function L(ue){return(0,te.m)(ue[u.L])}},6495:(nt,be,F)=>{F.d(be,{T:()=>L});var u=F(2202),te=F(576);function L(ue){return(0,te.m)(null==ue?void 0:ue[u.h])}},8239:(nt,be,F)=>{F.d(be,{t:()=>te});var u=F(576);function te(L){return(0,u.m)(null==L?void 0:L.then)}},3260:(nt,be,F)=>{F.d(be,{L:()=>ue,Q:()=>L});var u=F(5987),te=F(576);function L(le){return(0,u.FC)(this,arguments,function*(){const ne=le.getReader();try{for(;;){const{value:de,done:ye}=yield(0,u.qq)(ne.read());if(ye)return yield(0,u.qq)(void 0);yield yield(0,u.qq)(de)}}finally{ne.releaseLock()}})}function ue(le){return(0,te.m)(null==le?void 0:le.getReader)}},3532:(nt,be,F)=>{F.d(be,{K:()=>te});var u=F(576);function te(L){return L&&(0,u.m)(L.schedule)}},4482:(nt,be,F)=>{F.d(be,{A:()=>te,e:()=>L});var u=F(576);function te(ue){return(0,u.m)(null==ue?void 0:ue.lift)}function L(ue){return le=>{if(te(le))return le.lift(function(me){try{return ue(me,this)}catch(ne){this.error(ne)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(nt,be,F)=>{function u(){}F.d(be,{Z:()=>u})},9635:(nt,be,F)=>{F.d(be,{U:()=>L,z:()=>te});var u=F(4671);function te(...ue){return L(ue)}function L(ue){return 0===ue.length?u.y:1===ue.length?ue[0]:function(me){return ue.reduce((ne,de)=>de(ne),me)}}},7849:(nt,be,F)=>{F.d(be,{h:()=>L});var u=F(2416),te=F(3410);function L(ue){te.z.setTimeout(()=>{const{onUnhandledError:le}=u.v;if(!le)throw ue;le(ue)})}},4532:(nt,be,F)=>{function u(te){return new TypeError(`You provided ${null!==te&&"object"==typeof te?"an invalid object":`'${te}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(be,{z:()=>u})},5987:(nt,be,F)=>{function de(J,ie,he,oe){return new(he||(he=Promise))(function(Ue,vt){function $t(an){try{Qe(oe.next(an))}catch(ti){vt(ti)}}function qt(an){try{Qe(oe.throw(an))}catch(ti){vt(ti)}}function Qe(an){an.done?Ue(an.value):function Be(Ue){return Ue instanceof he?Ue:new he(function(vt){vt(Ue)})}(an.value).then($t,qt)}Qe((oe=oe.apply(J,ie||[])).next())})}function ve(J){return this instanceof ve?(this.v=J,this):new ve(J)}function ge(J,ie,he){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Be,oe=he.apply(J,ie||[]),Ue=[];return Be={},vt("next"),vt("throw"),vt("return"),Be[Symbol.asyncIterator]=function(){return this},Be;function vt(en){oe[en]&&(Be[en]=function(tn){return new Promise(function(Li,An){Ue.push([en,tn,Li,An])>1||$t(en,tn)})})}function $t(en,tn){try{!function qt(en){en.value instanceof ve?Promise.resolve(en.value.v).then(Qe,an):ti(Ue[0][2],en)}(oe[en](tn))}catch(Li){ti(Ue[0][3],Li)}}function Qe(en){$t("next",en)}function an(en){$t("throw",en)}function ti(en,tn){en(tn),Ue.shift(),Ue.length&&$t(Ue[0][0],Ue[0][1])}}function mt(J){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var he,ie=J[Symbol.asyncIterator];return ie?ie.call(J):(J=function ee(J){var ie="function"==typeof Symbol&&Symbol.iterator,he=ie&&J[ie],oe=0;if(he)return he.call(J);if(J&&"number"==typeof J.length)return{next:function(){return J&&oe>=J.length&&(J=void 0),{value:J&&J[oe++],done:!J}}};throw new TypeError(ie?"Object is not iterable.":"Symbol.iterator is not defined.")}(J),he={},oe("next"),oe("throw"),oe("return"),he[Symbol.asyncIterator]=function(){return this},he);function oe(Ue){he[Ue]=J[Ue]&&function(vt){return new Promise(function($t,qt){!function Be(Ue,vt,$t,qt){Promise.resolve(qt).then(function(Qe){Ue({value:Qe,done:$t})},vt)}($t,qt,(vt=J[Ue](vt)).done,vt.value)})}}}F.d(be,{FC:()=>ge,KL:()=>mt,mG:()=>de,qq:()=>ve})},5e3:(nt,be,F)=>{F.d(be,{$8M:()=>Yl,$Z:()=>Ky,AFp:()=>mv,AaK:()=>de,BQk:()=>E_,CHM:()=>Ou,CRH:()=>ov,CZH:()=>pm,CqO:()=>YI,D6c:()=>TE,EJc:()=>SS,EiD:()=>tf,EpF:()=>qI,F$t:()=>JI,F4k:()=>WI,FYo:()=>Ay,FiY:()=>Fe,G48:()=>yP,Gf:()=>uS,GfV:()=>ar,Gpc:()=>z,Hsn:()=>eA,Ikx:()=>T_,JOm:()=>la,JVY:()=>sg,KtG:()=>oo,L6k:()=>gy,LAX:()=>yy,LFG:()=>jt,LSH:()=>iu,Lbi:()=>oE,Lck:()=>_C,MMx:()=>G_,NdJ:()=>Mw,OlP:()=>vn,Oqu:()=>x_,PXZ:()=>VS,Q6J:()=>Dw,QGY:()=>Sw,QP$:()=>Ar,QbO:()=>IS,Qsj:()=>a0,R0b:()=>Io,RDi:()=>Ju,Rgc:()=>Kf,SBq:()=>al,Sil:()=>lE,Suo:()=>cS,TTD:()=>Bo,TgZ:()=>b_,VKq:()=>q_,WFA:()=>Tw,X6Q:()=>mP,XFs:()=>qe,Xpm:()=>q,Xts:()=>af,Y36:()=>jd,YKP:()=>j_,YNc:()=>zI,Yjl:()=>zt,Yz7:()=>tn,Z0I:()=>Sl,ZZ4:()=>So,_Bn:()=>yC,_UZ:()=>Iw,_Vd:()=>vo,_c5:()=>lh,_uU:()=>Vw,aQg:()=>Em,c2e:()=>aE,cJS:()=>An,cg1:()=>Xw,d8E:()=>R_,dDg:()=>hE,dqk:()=>ln,eBb:()=>my,eFA:()=>gE,ekj:()=>Ow,eoX:()=>Ao,f3M:()=>D,g9A:()=>sE,h0i:()=>Cc,hGG:()=>CP,iGM:()=>nh,ifc:()=>ht,ip1:()=>iE,jDz:()=>bC,kL8:()=>IA,l5B:()=>W_,lG2:()=>ji,lqb:()=>Zs,lri:()=>LS,mCW:()=>eu,n5z:()=>wi,oAB:()=>_t,oxw:()=>XI,pB0:()=>yd,q3G:()=>Vn,q4F:()=>Rd,qLn:()=>Me,qOj:()=>ww,qZA:()=>w_,qzn:()=>mo,rWj:()=>bv,sBO:()=>zS,sIi:()=>Wg,s_b:()=>ev,soG:()=>np,tb:()=>yv,tp0:()=>Dt,uIk:()=>Ew,vHH:()=>Ce,vpe:()=>Rs,wAp:()=>xt,xp6:()=>L0,ynx:()=>C_,z2F:()=>lp,z3N:()=>yr,zSh:()=>Dd,zs3:()=>uu});var u=F(7579),te=F(727),L=F(9751),ue=F(6451),le=F(3099);function me(s){for(let o in s)if(s[o]===me)return o;throw Error("Could not find renamed property on target object.")}function ne(s,o){for(const l in o)o.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&(s[l]=o[l])}function de(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(de).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const l=o.indexOf("\n");return-1===l?o:o.substring(0,l)}function ye(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const $=me({__forward_ref__:me});function z(s){return s.__forward_ref__=z,s.toString=function(){return de(this())},s}function ee(s){return Ge(s)?s():s}function Ge(s){return"function"==typeof s&&s.hasOwnProperty($)&&s.__forward_ref__===z}class Ce extends Error{constructor(o,l){super(function rt(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}(o,l)),this.code=o}}function ve(s){return"string"==typeof s?s:null==s?"":String(s)}function Oe(s,o){throw new Ce(-201,!1)}function qt(s,o){null==s&&function Qe(s,o,l,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${l} ${d} ${o} <=Actual]`))}(o,s,null,"!=")}function tn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function An(s){return{providers:s.providers||[],imports:s.imports||[]}}function zr(s){return Mi(s,Vi)||Mi(s,Le)}function Sl(s){return null!==zr(s)}function Mi(s,o){return s.hasOwnProperty(o)?s[o]:null}function io(s){return s&&(s.hasOwnProperty(Ti)||s.hasOwnProperty(Ri))?s[Ti]:null}const Vi=me({\u0275prov:me}),Ti=me({\u0275inj:me}),Le=me({ngInjectableDef:me}),Ri=me({ngInjectorDef:me});var qe=(()=>((qe=qe||{})[qe.Default=0]="Default",qe[qe.Host=1]="Host",qe[qe.Self=2]="Self",qe[qe.SkipSelf=4]="SkipSelf",qe[qe.Optional=8]="Optional",qe))();let Bi;function Un(s){const o=Bi;return Bi=s,o}function hs(s,o,l){const d=zr(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:l&qe.Optional?null:void 0!==o?o:void Oe(de(s))}function wn(s){return{toString:s}.toString()}var Kn=(()=>((Kn=Kn||{})[Kn.OnPush=0]="OnPush",Kn[Kn.Default=1]="Default",Kn))(),ht=(()=>{return(s=ht||(ht={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",ht;var s})();const ln=(()=>"undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof global&&global||"undefined"!=typeof window&&window||"undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self)(),Ui={},ot=[],mn=me({\u0275cmp:me}),un=me({\u0275dir:me}),Wr=me({\u0275pipe:me}),Zt=me({\u0275mod:me}),K=me({\u0275fac:me}),G=me({__NG_ELEMENT_ID__:me});let H=0;function q(s){return wn(()=>{const l=!0===s.standalone,d={},f={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Kn.OnPush,directiveDefs:null,pipeDefs:null,standalone:l,dependencies:l&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||ot,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||ht.Emulated,id:"c"+H++,styles:s.styles||ot,_:null,setInput:null,schemas:s.schemas||null,tView:null},m=s.dependencies,v=s.features;return f.inputs=yn(s.inputs,d),f.outputs=yn(s.outputs),v&&v.forEach(C=>C(f)),f.directiveDefs=m?()=>("function"==typeof m?m():m).map(Te).filter($e):null,f.pipeDefs=m?()=>("function"==typeof m?m():m).map(Qn).filter($e):null,f})}function Te(s){return Ut(s)||Mn(s)}function $e(s){return null!==s}function _t(s){return wn(()=>({type:s.type,bootstrap:s.bootstrap||ot,declarations:s.declarations||ot,imports:s.imports||ot,exports:s.exports||ot,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function yn(s,o){if(null==s)return Ui;const l={};for(const d in s)if(s.hasOwnProperty(d)){let f=s[d],m=f;Array.isArray(f)&&(m=f[1],f=f[0]),l[f]=d,o&&(o[f]=m)}return l}const ji=q;function zt(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function Ut(s){return s[mn]||null}function Mn(s){return s[un]||null}function Qn(s){return s[Wr]||null}function Ar(s){const o=Ut(s)||Mn(s)||Qn(s);return null!==o&&o.standalone}function bi(s,o){const l=s[Zt]||null;if(!l&&!0===o)throw new Error(`Type ${de(s)} does not have '\u0275mod' property.`);return l}function gi(s){return Array.isArray(s)&&"object"==typeof s[1]}function ir(s){return Array.isArray(s)&&!0===s[1]}function xa(s){return 0!=(8&s.flags)}function Ia(s){return 2==(2&s.flags)}function xu(s){return 1==(1&s.flags)}function rr(s){return null!==s.template}function ii(s){return 0!=(256&s[2])}function Zr(s,o){return s.hasOwnProperty(K)?s[K]:null}class Nh{constructor(o,l,d){this.previousValue=o,this.currentValue=l,this.firstChange=d}isFirstChange(){return this.firstChange}}function Bo(){return Wc}function Wc(s){return s.type.prototype.ngOnChanges&&(s.setInput=Su),Uo}function Uo(){const s=Ma(this),o=null==s?void 0:s.current;if(o){const l=s.previous;if(l===Ui)s.previous=o;else for(let d in o)l[d]=o[d];s.current=null,this.ngOnChanges(o)}}function Su(s,o,l,d){const f=Ma(s)||function Kr(s,o){return s[Ol]=o}(s,{previous:Ui,current:null}),m=f.current||(f.current={}),v=f.previous,C=this.declaredInputs[l],E=v[C];m[C]=new Nh(E&&E.currentValue,o,v===Ui),s[d]=o}Bo.ngInherit=!0;const Ol="__ngSimpleChanges__";function Ma(s){return s[Ol]||null}function Nn(s){for(;Array.isArray(s);)s=s[0];return s}function sr(s,o){return Nn(o[s])}function Hn(s,o){return Nn(o[s.index])}function Ra(s,o){return s.data[o]}function rn(s,o){const l=o[s];return gi(l)?l:l[0]}function $i(s){return 64==(64&s[2])}function ki(s,o){return null==o?null:s[o]}function Mu(s){s[18]=0}function Gn(s,o){s[5]+=o;let l=s,d=s[3];for(;null!==d&&(1===o&&1===l[5]||-1===o&&0===l[5]);)d[5]+=o,l=d,d=d[3]}const Mt={lFrame:Pu(null),bindingsEnabled:!0};function Us(){return Mt.bindingsEnabled}function Se(){return Mt.lFrame.lView}function Wt(){return Mt.lFrame.tView}function Ou(s){return Mt.lFrame.contextLView=s,s[8]}function oo(s){return Mt.lFrame.contextLView=null,s}function $n(){let s=Fa();for(;null!==s&&64===s.type;)s=s.parent;return s}function Fa(){return Mt.lFrame.currentTNode}function qi(s,o){const l=Mt.lFrame;l.currentTNode=s,l.isParent=o}function Pa(){return Mt.lFrame.isParent}function jo(){Mt.lFrame.isParent=!1}function zn(){const s=Mt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function lo(){return Mt.lFrame.bindingIndex++}function Qc(s,o){const l=Mt.lFrame;l.bindingIndex=l.bindingRootIndex=s,Go(o)}function Go(s){Mt.lFrame.currentDirectiveIndex=s}function ku(s){const o=Mt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}function La(){return Mt.lFrame.currentQueryIndex}function $o(s){Mt.lFrame.currentQueryIndex=s}function Va(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function Ba(s,o,l){if(l&qe.SkipSelf){let f=o,m=s;for(;!(f=f.parent,null!==f||l&qe.Host||(f=Va(m),null===f||(m=m[15],10&f.type))););if(null===f)return!1;o=f,s=m}const d=Mt.lFrame=Fu();return d.currentTNode=o,d.lView=s,!0}function Bl(s){const o=Fu(),l=s[1];Mt.lFrame=o,o.currentTNode=l.firstChild,o.lView=s,o.tView=l,o.contextLView=s,o.bindingIndex=l.bindingStartIndex,o.inI18n=!1}function Fu(){const s=Mt.lFrame,o=null===s?null:s.child;return null===o?Pu(s):o}function Pu(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Nu(){const s=Mt.lFrame;return Mt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Xc=Nu;function ms(){const s=Nu();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function ri(){return Mt.lFrame.selectedIndex}function Xr(s){Mt.lFrame.selectedIndex=s}function En(){const s=Mt.lFrame;return Ra(s.tView,s.selectedIndex)}function zo(s,o){for(let l=o.directiveStart,d=o.directiveEnd;l<d;l++){const m=s.data[l].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:C,ngAfterViewInit:E,ngAfterViewChecked:M,ngOnDestroy:k}=m;v&&(s.contentHooks||(s.contentHooks=[])).push(-l,v),C&&((s.contentHooks||(s.contentHooks=[])).push(l,C),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(l,C)),E&&(s.viewHooks||(s.viewHooks=[])).push(-l,E),M&&((s.viewHooks||(s.viewHooks=[])).push(l,M),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(l,M)),null!=k&&(s.destroyHooks||(s.destroyHooks=[])).push(l,k)}}function co(s,o,l){_s(s,o,3,l)}function ys(s,o,l,d){(3&s[2])===l&&_s(s,o,l,d)}function Bu(s,o){let l=s[2];(3&l)===o&&(l&=2047,l+=1,s[2]=l)}function _s(s,o,l,d){const m=null!=d?d:-1,v=o.length-1;let C=0;for(let E=void 0!==d?65535&s[18]:0;E<v;E++)if("number"==typeof o[E+1]){if(C=o[E],null!=d&&C>=d)break}else o[E]<0&&(s[18]+=65536),(C<m||-1==m)&&(Uu(s,l,o,E),s[18]=(4294901760&s[18])+E+2),E++}function Uu(s,o,l,d){const f=l[d]<0,m=l[d+1],C=s[f?-l[d]:l[d]];if(f){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{m.call(C)}finally{}}}else try{m.call(C)}finally{}}class qo{constructor(o,l,d){this.factory=o,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=d}}function js(s,o,l){let d=0;for(;d<l.length;){const f=l[d];if("number"==typeof f){if(0!==f)break;d++;const m=l[d++],v=l[d++],C=l[d++];s.setAttribute(o,v,C,m)}else{const m=f,v=l[++d];Hs(m)?s.setProperty(o,m,v):s.setAttribute(o,m,v),d++}}return d}function $l(s){return 3===s||4===s||6===s}function Hs(s){return 64===s.charCodeAt(0)}function Zo(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let l=-1;for(let d=0;d<o.length;d++){const f=o[d];"number"==typeof f?l=f:0===l||td(s,l,f,null,-1===l||2===l?o[++d]:null)}}return s}function td(s,o,l,d,f){let m=0,v=s.length;if(-1===o)v=-1;else for(;m<s.length;){const C=s[m++];if("number"==typeof C){if(C===o){v=-1;break}if(C>o){v=m-1;break}}}for(;m<s.length;){const C=s[m];if("number"==typeof C)break;if(C===l){if(null===d)return void(null!==f&&(s[m+1]=f));if(d===s[m+1])return void(s[m+2]=f)}m++,null!==d&&m++,null!==f&&m++}-1!==v&&(s.splice(v,0,o),m=v+1),s.splice(m++,0,l),null!==d&&s.splice(m++,0,d),null!==f&&s.splice(m++,0,f)}function nd(s){return-1!==s}function si(s){return 32767&s}function Ko(s,o){let l=function id(s){return s>>16}(s),d=o;for(;l>0;)d=d[15],l--;return d}let rd=!0;function zl(s){const o=rd;return rd=s,o}let Gh=0;const Jr={};function vs(s,o){const l=Qo(s,o);if(-1!==l)return l;const d=o[1];d.firstCreatePass&&(s.injectorIndex=o.length,bs(d.data,s),bs(o,null),bs(d.blueprint,null));const f=ql(s,o),m=s.injectorIndex;if(nd(f)){const v=si(f),C=Ko(f,o),E=C[1].data;for(let M=0;M<8;M++)o[m+M]=C[v+M]|E[v+M]}return o[m+8]=f,m}function bs(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Qo(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function ql(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let l=0,d=null,f=o;for(;null!==f;){if(d=es(f),null===d)return-1;if(l++,f=f[15],-1!==d.injectorIndex)return d.injectorIndex|l<<16}return-1}function ho(s,o,l){!function $h(s,o,l){let d;"string"==typeof l?d=l.charCodeAt(0)||0:l.hasOwnProperty(G)&&(d=l[G]),null==d&&(d=l[G]=Gh++);const f=255&d;o.data[s+(f>>5)]|=1<<f}(s,o,l)}function ja(s,o,l){if(l&qe.Optional||void 0!==s)return s;Oe()}function Ha(s,o,l,d){if(l&qe.Optional&&void 0===d&&(d=null),0==(l&(qe.Self|qe.Host))){const f=s[9],m=Un(void 0);try{return f?f.get(o,d,l&qe.Optional):hs(o,d,l&qe.Optional)}finally{Un(m)}}return ja(d,0,l)}function Ga(s,o,l,d=qe.Default,f){if(null!==s){if(1024&o[2]){const v=function qh(s,o,l,d,f){let m=s,v=o;for(;null!==m&&null!==v&&1024&v[2]&&!(256&v[2]);){const C=ad(m,v,l,d|qe.Self,Jr);if(C!==Jr)return C;let E=m.parent;if(!E){const M=v[21];if(M){const k=M.get(l,Jr,d);if(k!==Jr)return k}E=es(v),v=v[15]}m=E}return f}(s,o,l,d,Jr);if(v!==Jr)return v}const m=ad(s,o,l,d,Jr);if(m!==Jr)return m}return Ha(o,l,d,f)}function ad(s,o,l,d,f){const m=function zh(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(G)?s[G]:void 0;return"number"==typeof o?o>=0?255&o:ud:o}(l);if("function"==typeof m){if(!Ba(o,s,d))return d&qe.Host?ja(f,0,d):Ha(o,l,d,f);try{const v=m(d);if(null!=v||d&qe.Optional)return v;Oe()}finally{Xc()}}else if("number"==typeof m){let v=null,C=Qo(s,o),E=-1,M=d&qe.Host?o[16][6]:null;for((-1===C||d&qe.SkipSelf)&&(E=-1===C?ql(s,o):o[C+8],-1!==E&&ld(d,!1)?(v=o[1],C=si(E),o=Ko(E,o)):C=-1);-1!==C;){const k=o[1];if(Wl(m,C,k.data)){const N=$a(C,o,l,v,d,M);if(N!==Jr)return N}E=o[C+8],-1!==E&&ld(d,o[1].data[C+8]===M)&&Wl(m,C,o)?(v=k,C=si(E),o=Ko(E,o)):C=-1}}return f}function $a(s,o,l,d,f,m){const v=o[1],C=v.data[s+8],k=za(C,v,l,null==d?Ia(C)&&rd:d!=v&&0!=(3&C.type),f&qe.Host&&m===C);return null!==k?Gs(o,v,k,C):Jr}function za(s,o,l,d,f){const m=s.providerIndexes,v=o.data,C=1048575&m,E=s.directiveStart,k=m>>20,Y=f?C+k:s.directiveEnd;for(let re=d?C:C+k;re<Y;re++){const we=v[re];if(re<E&&l===we||re>=E&&we.type===l)return re}if(f){const re=v[E];if(re&&rr(re)&&re.type===l)return E}return null}function Gs(s,o,l,d){let f=s[l];const m=o.data;if(function ju(s){return s instanceof qo}(f)){const v=f;v.resolving&&function st(s,o){const l=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Ce(-200,`Circular dependency in DI detected for ${s}${l}`)}(function ge(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():ve(s)}(m[l]));const C=zl(v.canSeeViewProviders);v.resolving=!0;const E=v.injectImpl?Un(v.injectImpl):null;Ba(s,d,qe.Default);try{f=s[l]=v.factory(void 0,m,s,d),o.firstCreatePass&&l>=d.directiveStart&&function Vu(s,o,l){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:m}=o.type.prototype;if(d){const v=Wc(o);(l.preOrderHooks||(l.preOrderHooks=[])).push(s,v),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,v)}f&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-s,f),m&&((l.preOrderHooks||(l.preOrderHooks=[])).push(s,m),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,m))}(l,m[l],o)}finally{null!==E&&Un(E),zl(C),v.resolving=!1,Xc()}}return f}function Wl(s,o,l){return!!(l[o+(s>>5)]&1<<s)}function ld(s,o){return!(s&qe.Self||s&qe.Host&&o)}class ws{constructor(o,l){this._tNode=o,this._lView=l}get(o,l,d){return Ga(this._tNode,this._lView,o,d,l)}}function ud(){return new ws($n(),Se())}function wi(s){return wn(()=>{const o=s.prototype.constructor,l=o[K]||qa(o),d=Object.prototype;let f=Object.getPrototypeOf(s.prototype).constructor;for(;f&&f!==d;){const m=f[K]||qa(f);if(m&&m!==l)return m;f=Object.getPrototypeOf(f)}return m=>new m})}function qa(s){return Ge(s)?()=>{const o=qa(ee(s));return o&&o()}:Zr(s)}function es(s){const o=s[1],l=o.type;return 2===l?o.declTNode:1===l?s[6]:null}function Yl(s){return function od(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const l=s.attrs;if(l){const d=l.length;let f=0;for(;f<d;){const m=l[f];if($l(m))break;if(0===m)f+=2;else if("number"==typeof m)for(f++;f<d&&"string"==typeof l[f];)f++;else{if(m===o)return l[f+1];f+=2}}}return null}($n(),s)}const Xo="__parameters__";function Jo(s,o,l){return wn(()=>{const d=function Ya(s){return function(...l){if(s){const d=s(...l);for(const f in d)this[f]=d[f]}}}(o);function f(...m){if(this instanceof f)return d.apply(this,m),this;const v=new f(...m);return C.annotation=v,C;function C(E,M,k){const N=E.hasOwnProperty(Xo)?E[Xo]:Object.defineProperty(E,Xo,{value:[]})[Xo];for(;N.length<=k;)N.push(null);return(N[k]=N[k]||[]).push(v),E}}return l&&(f.prototype=Object.create(l.prototype)),f.prototype.ngMetadataName=s,f.annotationCls=f,f})}class vn{constructor(o,l){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=tn({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function bn(s,o){void 0===o&&(o=s);for(let l=0;l<s.length;l++){let d=s[l];Array.isArray(d)?(o===s&&(o=s.slice(0,l)),bn(d,o)):o!==s&&o.push(d)}return o}function Ds(s,o){s.forEach(l=>Array.isArray(l)?Ds(l,o):o(l))}function Za(s,o,l){o>=s.length?s.push(l):s.splice(o,0,l)}function Ln(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Ka(s,o){const l=[];for(let d=0;d<s;d++)l.push(o);return l}function tt(s,o,l){let d=ts(s,o);return d>=0?s[1|d]=l:(d=~d,function Yh(s,o,l,d){let f=s.length;if(f==o)s.push(l,d);else if(1===f)s.push(d,s[0]),s[0]=l;else{for(f--,s.push(s[f-1],s[f]);f>o;)s[f]=s[f-2],f--;s[o]=l,s[o+1]=d}}(s,d,o,l)),d}function Qa(s,o){const l=ts(s,o);if(l>=0)return s[1|l]}function ts(s,o){return function Xa(s,o,l){let d=0,f=s.length>>l;for(;f!==d;){const m=d+(f-d>>1),v=s[m<<l];if(o===v)return m<<l;v>o?f=m:d=m+1}return~(f<<l)}(s,o,1)}const Nr={},Zu="__NG_DI_FLAG__",Fi="ngTempTokenPath",ns=/\n/gm,qn="__source";let ta;function is(s){const o=ta;return ta=s,o}function Rn(s,o=qe.Default){if(void 0===ta)throw new Ce(-203,!1);return null===ta?hs(s,void 0,o):ta.get(s,o&qe.Optional?null:void 0,o)}function jt(s,o=qe.Default){return(function Zn(){return Bi}()||Rn)(ee(s),o)}function D(s,o=qe.Default){return"number"!=typeof o&&(o=0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)),jt(s,o)}function I(s){const o=[];for(let l=0;l<s.length;l++){const d=ee(s[l]);if(Array.isArray(d)){if(0===d.length)throw new Ce(900,!1);let f,m=qe.Default;for(let v=0;v<d.length;v++){const C=d[v],E=B(C);"number"==typeof E?-1===E?f=C.token:m|=E:f=C}o.push(jt(f,m))}else o.push(jt(d))}return o}function O(s,o){return s[Zu]=o,s.prototype[Zu]=o,s}function B(s){return s[Zu]}const Fe=O(Jo("Optional"),8),Dt=O(Jo("SkipSelf"),4);let Xu,Ql;function Ju(s){Xu=s}function go(s){var o;return(null===(o=function Xl(){if(void 0===Ql&&(Ql=null,ln.trustedTypes))try{Ql=ln.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return Ql}())||void 0===o?void 0:o.createHTML(s))||s}class el{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Jl extends el{getTypeName(){return"HTML"}}class tc extends el{getTypeName(){return"Style"}}class ig extends el{getTypeName(){return"Script"}}class nc extends el{getTypeName(){return"URL"}}class py extends el{getTypeName(){return"ResourceURL"}}function yr(s){return s instanceof el?s.changingThisBreaksApplicationSecurity:s}function mo(s,o){const l=function rg(s){return s instanceof el&&s.getTypeName()||null}(s);if(null!=l&&l!==o){if("ResourceURL"===l&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===o}function sg(s){return new Jl(s)}function gy(s){return new tc(s)}function my(s){return new ig(s)}function yy(s){return new nc(s)}function yd(s){return new py(s)}class Jh{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const l=(new window.DOMParser).parseFromString(go(o),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(o):(l.removeChild(l.firstChild),l)}catch(l){return null}}}class _y{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const l=this.inertDocument.createElement("html");this.inertDocument.appendChild(l);const d=this.inertDocument.createElement("body");l.appendChild(d)}}getInertBodyElement(o){const l=this.inertDocument.createElement("template");if("content"in l)return l.innerHTML=go(o),l;const d=this.inertDocument.createElement("body");return d.innerHTML=go(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(o){const l=o.attributes;for(let f=l.length-1;0<f;f--){const v=l.item(f).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&o.removeAttribute(v)}let d=o.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const by=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function eu(s){return(s=String(s)).match(by)?s:"unsafe:"+s}function rs(s){const o={};for(const l of s.split(","))o[l]=!0;return o}function tu(...s){const o={};for(const l of s)for(const d in l)l.hasOwnProperty(d)&&(o[d]=!0);return o}const ra=rs("area,br,col,hr,img,wbr"),_d=rs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),wy=rs("rp,rt"),yo=tu(ra,tu(_d,rs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),tu(wy,rs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),tu(wy,_d)),tl=rs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ic=tu(tl,rs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),rs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),lg=rs("script,style,template");class nl{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let l=o.firstChild,d=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?d=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,d&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let f=this.checkClobberedElement(l,l.nextSibling);if(f){l=f;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(o){const l=o.nodeName.toLowerCase();if(!yo.hasOwnProperty(l))return this.sanitizedSomething=!0,!lg.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const d=o.attributes;for(let f=0;f<d.length;f++){const m=d.item(f),v=m.name,C=v.toLowerCase();if(!ic.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let E=m.value;tl[C]&&(E=eu(E)),this.buf.push(" ",v,'="',ef(E),'"')}return this.buf.push(">"),!0}endElement(o){const l=o.nodeName.toLowerCase();yo.hasOwnProperty(l)&&!ra.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(o){this.buf.push(ef(o))}checkClobberedElement(o,l){if(l&&(o.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return l}}const ug=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ey=/([^\#-~ |!])/g;function ef(s){return s.replace(/&/g,"&amp;").replace(ug,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(Ey,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let vd;function tf(s,o){let l=null;try{vd=vd||function og(s){const o=new _y(s);return function vy(){try{return!!(new window.DOMParser).parseFromString(go(""),"text/html")}catch(s){return!1}}()?new Jh(o):o}(s);let d=o?String(o):"";l=vd.getInertBodyElement(d);let f=5,m=d;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,d=m,m=l.innerHTML,l=vd.getInertBodyElement(d)}while(d!==m);return go((new nl).sanitizeChildren(Lr(l)||l))}finally{if(l){const d=Lr(l)||l;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function Lr(s){return"content"in s&&function Dy(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Vn=(()=>((Vn=Vn||{})[Vn.NONE=0]="NONE",Vn[Vn.HTML=1]="HTML",Vn[Vn.STYLE=2]="STYLE",Vn[Vn.SCRIPT=3]="SCRIPT",Vn[Vn.URL=4]="URL",Vn[Vn.RESOURCE_URL=5]="RESOURCE_URL",Vn))();function iu(s){const o=function rc(){const s=Se();return s&&s[12]}();return o?o.sanitize(Vn.URL,s)||"":mo(s,"URL")?yr(s):eu(ve(s))}const af=new vn("ENVIRONMENT_INITIALIZER"),hg=new vn("INJECTOR",-1),lf=new vn("INJECTOR_DEF_TYPES");class wd{get(o,l=Nr){if(l===Nr){const d=new Error(`NullInjectorError: No provider for ${de(o)}!`);throw d.name="NullInjectorError",d}return l}}function xy(...s){return{\u0275providers:fg(0,s)}}function fg(s,...o){const l=[],d=new Set;let f;return Ds(o,m=>{const v=m;ru(v,l,[],d)&&(f||(f=[]),f.push(v))}),void 0!==f&&Cd(f,l),l}function Cd(s,o){for(let l=0;l<s.length;l++){const{providers:f}=s[l];Ds(f,m=>{o.push(m)})}}function ru(s,o,l,d){if(!(s=ee(s)))return!1;let f=null,m=io(s);const v=!m&&Ut(s);if(m||v){if(v&&!v.standalone)return!1;f=s}else{const E=s.ngModule;if(m=io(E),!m)return!1;f=E}const C=d.has(f);if(v){if(C)return!1;if(d.add(f),v.dependencies){const E="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const M of E)ru(M,o,l,d)}}else{if(!m)return!1;{if(null!=m.imports&&!C){let M;d.add(f);try{Ds(m.imports,k=>{ru(k,o,l,d)&&(M||(M=[]),M.push(k))})}finally{}void 0!==M&&Cd(M,o)}if(!C){const M=Zr(f)||(()=>new f);o.push({provide:f,useFactory:M,deps:ot},{provide:lf,useValue:f,multi:!0},{provide:af,useValue:()=>jt(f),multi:!0})}const E=m.providers;null==E||C||Ds(E,k=>{o.push(k)})}}return f!==s&&void 0!==s.providers}const pg=me({provide:String,useValue:me});function sa(s){return null!==s&&"object"==typeof s&&pg in s}function ss(s){return"function"==typeof s}const Dd=new vn("Set Injector scope."),xd={},il={};let Id;function oa(){return void 0===Id&&(Id=new wd),Id}class Zs{}class Ad extends Zs{constructor(o,l,d,f){super(),this.parent=l,this.source=d,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,su(o,v=>this.processProvider(v)),this.records.set(hg,rl(void 0,this)),f.has("environment")&&this.records.set(Zs,rl(void 0,this));const m=this.records.get(Dd);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(lf.multi,ot,qe.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const l=is(this),d=Un(void 0);try{return o()}finally{is(l),Un(d)}}get(o,l=Nr,d=qe.Default){this.assertNotDestroyed();const f=is(this),m=Un(void 0);try{if(!(d&qe.SkipSelf)){let C=this.records.get(o);if(void 0===C){const E=function mg(s){return"function"==typeof s||"object"==typeof s&&s instanceof vn}(o)&&zr(o);C=E&&this.injectableDefInScope(E)?rl(sc(o),xd):null,this.records.set(o,C)}if(null!=C)return this.hydrate(o,C)}return(d&qe.Self?oa():this.parent).get(o,l=d&qe.Optional&&l===Nr?null:l)}catch(v){if("NullInjectorError"===v.name){if((v[Fi]=v[Fi]||[]).unshift(de(o)),f)throw v;return function X(s,o,l,d){const f=s[Fi];throw o[qn]&&f.unshift(o[qn]),s.message=function ae(s,o,l,d=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let f=de(o);if(Array.isArray(o))f=o.map(de).join(" -> ");else if("object"==typeof o){let m=[];for(let v in o)if(o.hasOwnProperty(v)){let C=o[v];m.push(v+":"+("string"==typeof C?JSON.stringify(C):de(C)))}f=`{${m.join(", ")}}`}return`${l}${d?"("+d+")":""}[${f}]: ${s.replace(ns,"\n  ")}`}("\n"+s.message,f,l,d),s.ngTokenPath=f,s[Fi]=null,s}(v,o,"R3InjectorError",this.source)}throw v}finally{Un(m),is(f)}}resolveInjectorInitializers(){const o=is(this),l=Un(void 0);try{const d=this.get(af.multi,ot,qe.Self);for(const f of d)f()}finally{is(o),Un(l)}}toString(){const o=[],l=this.records;for(const d of l.keys())o.push(de(d));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ce(205,!1)}processProvider(o){let l=ss(o=ee(o))?o:ee(o&&o.provide);const d=function cf(s){return sa(s)?rl(void 0,s.useValue):rl(Sd(s),xd)}(o);if(ss(o)||!0!==o.multi)this.records.get(l);else{let f=this.records.get(l);f||(f=rl(void 0,xd,!0),f.factory=()=>I(f.multi),this.records.set(l,f)),l=o,f.multi.push(o)}this.records.set(l,d)}hydrate(o,l){return l.value===xd&&(l.value=il,l.value=l.factory()),"object"==typeof l.value&&l.value&&function df(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}injectableDefInScope(o){if(!o.providedIn)return!1;const l=ee(o.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}}function sc(s){const o=zr(s),l=null!==o?o.factory:Zr(s);if(null!==l)return l;if(s instanceof vn)throw new Ce(204,!1);if(s instanceof Function)return function gg(s){const o=s.length;if(o>0)throw Ka(o,"?"),new Ce(204,!1);const l=function nn(s){const o=s&&(s[Vi]||s[Le]);if(o){const l=function kn(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),o}return null}(s);return null!==l?()=>l.factory(s):()=>new s}(s);throw new Ce(204,!1)}function Sd(s,o,l){let d;if(ss(s)){const f=ee(s);return Zr(f)||sc(f)}if(sa(s))d=()=>ee(s.useValue);else if(function Ys(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...I(s.deps||[]));else if(function Ed(s){return!(!s||!s.useExisting)}(s))d=()=>jt(ee(s.useExisting));else{const f=ee(s&&(s.useClass||s.provide));if(!function sl(s){return!!s.deps}(s))return Zr(f)||sc(f);d=()=>new f(...I(s.deps))}return d}function rl(s,o,l=!1){return{factory:s,value:o,multi:l?[]:void 0}}function hf(s){return!!s.\u0275providers}function su(s,o){for(const l of s)Array.isArray(l)?su(l,o):hf(l)?su(l.\u0275providers,o):o(l)}class or{}class au{resolveComponentFactory(o){throw function ou(s){const o=Error(`No component factory found for ${de(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let vo=(()=>{class s{}return s.NULL=new au,s})();function Iy(){return ol($n(),Se())}function ol(s,o){return new al(Hn(s,o))}let al=(()=>{class s{constructor(l){this.nativeElement=l}}return s.__NG_ELEMENT_ID__=Iy,s})();function bo(s){return s instanceof al?s.nativeElement:s}class Ay{}let a0=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function l0(){const s=Se(),l=rn($n().index,s);return(gi(l)?l:s)[11]}(),s})(),Td=(()=>{class s{}return s.\u0275prov=tn({token:s,providedIn:"root",factory:()=>null}),s})();class ar{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Rd=new ar("14.2.10"),oc={};function Ne(s){return s.ngOriginalError}class Me{constructor(){this._console=console}handleError(o){const l=this._findOriginalError(o);this._console.error("ERROR",o),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(o){let l=o&&Ne(o);for(;l&&Ne(l);)l=Ne(l);return l||null}}const Od=new Map;let vf=0;const Eg="__ngContext__";function Wi(s,o){gi(o)?(s[Eg]=o[20],function bg(s){Od.set(s[20],s)}(o)):s[Eg]=o}function ll(s){return s instanceof Function?s():s}var la=(()=>((la=la||{})[la.Important=1]="Important",la[la.DashCase=2]="DashCase",la))();function ky(s,o){return undefined(s,o)}function Pd(s){const o=s[3];return ir(o)?o[3]:o}function Ig(s){return v0(s[13])}function Ag(s){return v0(s[4])}function v0(s){for(;null!==s&&!ir(s);)s=s[4];return s}function Nd(s,o,l,d,f){if(null!=d){let m,v=!1;ir(d)?m=d:gi(d)&&(v=!0,d=d[0]);const C=Nn(d);0===s&&null!==l?null==f?I0(o,l,C):ua(o,l,C,f||null,!0):1===s&&null!==l?ua(o,l,C,f||null,!0):2===s?function Wx(s,o,l){const d=Tg(s,o);d&&function qx(s,o,l,d){s.removeChild(o,l,d)}(s,d,o,l)}(o,C,v):3===s&&o.destroyNode(C),null!=m&&function ik(s,o,l,d,f){const m=l[7];m!==Nn(l)&&Nd(o,s,d,m,f);for(let C=10;C<l.length;C++){const E=l[C];uc(E[1],E,s,o,d,m)}}(o,s,m,l,f)}}function Sg(s,o,l){return s.createElement(o,l)}function E0(s,o){const l=s[9],d=l.indexOf(o),f=o[3];512&o[2]&&(o[2]&=-513,Gn(f,-1)),l.splice(d,1)}function Ly(s,o){if(s.length<=10)return;const l=10+o,d=s[l];if(d){const f=d[17];null!==f&&f!==s&&E0(f,d),o>0&&(s[l-1][4]=d[4]);const m=Ln(s,10+o);!function Ny(s,o){uc(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(d[1],d);const v=m[19];null!==v&&v.detachView(m[1]),d[3]=null,d[4]=null,d[2]&=-65}return d}function Ef(s,o){if(!(128&o[2])){const l=o[11];l.destroyNode&&uc(s,o,l,3,null,null),function tk(s){let o=s[13];if(!o)return Mg(s[1],s);for(;o;){let l=null;if(gi(o))l=o[13];else{const d=o[10];d&&(l=d)}if(!l){for(;o&&!o[4]&&o!==s;)gi(o)&&Mg(o[1],o),o=o[3];null===o&&(o=s),gi(o)&&Mg(o[1],o),l=o&&o[4]}o=l}}(o)}}function Mg(s,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function By(s,o){let l;if(null!=s&&null!=(l=s.destroyHooks))for(let d=0;d<l.length;d+=2){const f=o[l[d]];if(!(f instanceof qo)){const m=l[d+1];if(Array.isArray(m))for(let v=0;v<m.length;v+=2){const C=f[m[v]],E=m[v+1];try{E.call(C)}finally{}}else try{m.call(f)}finally{}}}}(s,o),function Vy(s,o){const l=s.cleanup,d=o[7];let f=-1;if(null!==l)for(let m=0;m<l.length-1;m+=2)if("string"==typeof l[m]){const v=l[m+1],C="function"==typeof v?v(o):Nn(o[v]),E=d[f=l[m+2]],M=l[m+3];"boolean"==typeof M?C.removeEventListener(l[m],E,M):M>=0?d[f=M]():d[f=-M].unsubscribe(),m+=2}else{const v=d[f=l[m+1]];l[m].call(v)}if(null!==d){for(let m=f+1;m<d.length;m++)(0,d[m])();o[7]=null}}(s,o),1===o[1].type&&o[11].destroy();const l=o[17];if(null!==l&&ir(o[3])){l!==o[3]&&E0(l,o);const d=o[19];null!==d&&d.detachView(s)}!function wg(s){Od.delete(s[20])}(o)}}function D0(s,o,l){return function x0(s,o,l){let d=o;for(;null!==d&&40&d.type;)d=(o=d).parent;if(null===d)return l[0];if(2&d.flags){const f=s.data[d.directiveStart].encapsulation;if(f===ht.None||f===ht.Emulated)return null}return Hn(d,l)}(s,o.parent,l)}function ua(s,o,l,d,f){s.insertBefore(o,l,d,f)}function I0(s,o,l){s.appendChild(o,l)}function A0(s,o,l,d,f){null!==d?ua(s,o,l,d,f):I0(s,o,l)}function Tg(s,o){return s.parentNode(o)}function Yi(s,o,l){return Uy(s,o,l)}let Uy=function M0(s,o,l){return 40&s.type?Hn(s,l):null};function Og(s,o,l,d){const f=D0(s,d,o),m=o[11],C=Yi(d.parent||o[6],d,o);if(null!=f)if(Array.isArray(l))for(let E=0;E<l.length;E++)A0(m,f,l[E],C,!1);else A0(m,f,l,C,!1)}function kg(s,o){if(null!==o){const l=o.type;if(3&l)return Hn(o,s);if(4&l)return T0(-1,s[o.index]);if(8&l){const d=o.child;if(null!==d)return kg(s,d);{const f=s[o.index];return ir(f)?T0(-1,f):Nn(f)}}if(32&l)return ky(o,s)()||Nn(s[o.index]);{const d=jy(s,o);return null!==d?Array.isArray(d)?d[0]:kg(Pd(s[16]),d):kg(s,o.next)}}return null}function jy(s,o){return null!==o?s[16][6].projection[o.projection]:null}function T0(s,o){const l=10+s+1;if(l<o.length){const d=o[l],f=d[1].firstChild;if(null!==f)return kg(d,f)}return o[7]}function Hy(s,o,l,d,f,m,v){for(;null!=l;){const C=d[l.index],E=l.type;if(v&&0===o&&(C&&Wi(Nn(C),d),l.flags|=4),64!=(64&l.flags))if(8&E)Hy(s,o,l.child,d,f,m,!1),Nd(o,s,f,C,m);else if(32&E){const M=ky(l,d);let k;for(;k=M();)Nd(o,s,f,k,m);Nd(o,s,f,C,m)}else 16&E?xf(s,o,d,l,f,m):Nd(o,s,f,C,m);l=v?l.projectionNext:l.next}}function uc(s,o,l,d,f,m){Hy(l,d,s.firstChild,o,f,m,!1)}function xf(s,o,l,d,f,m){const v=l[16],E=v[6].projection[d.projection];if(Array.isArray(E))for(let M=0;M<E.length;M++)Nd(o,s,f,E[M],m);else Hy(s,o,E,v[3],f,m,!0)}function cc(s,o,l){s.setAttribute(o,"style",l)}function If(s,o,l){""===l?s.removeAttribute(o,"class"):s.setAttribute(o,"class",l)}function Yx(s,o,l){let d=s.length;for(;;){const f=s.indexOf(o,l);if(-1===f)return f;if(0===f||s.charCodeAt(f-1)<=32){const m=o.length;if(f+m===d||s.charCodeAt(f+m)<=32)return f}l=f+1}}const Gy="ng-template";function $y(s,o,l){let d=0;for(;d<s.length;){let f=s[d++];if(l&&"class"===f){if(f=s[d],-1!==Yx(f.toLowerCase(),o,0))return!0}else if(1===f){for(;d<s.length&&"string"==typeof(f=s[d++]);)if(f.toLowerCase()===o)return!0;return!1}}return!1}function k0(s){return 4===s.type&&s.value!==Gy}function Kx(s,o,l){return o===(4!==s.type||l?s.value:Gy)}function Qx(s,o,l){let d=4;const f=s.attrs||[],m=function rk(s){for(let o=0;o<s.length;o++)if($l(s[o]))return o;return s.length}(f);let v=!1;for(let C=0;C<o.length;C++){const E=o[C];if("number"!=typeof E){if(!v)if(4&d){if(d=2|1&d,""!==E&&!Kx(s,E,l)||""===E&&1===o.length){if(Ks(d))return!1;v=!0}}else{const M=8&d?E:o[++C];if(8&d&&null!==s.attrs){if(!$y(s.attrs,M,l)){if(Ks(d))return!1;v=!0}continue}const N=Xx(8&d?"class":E,f,k0(s),l);if(-1===N){if(Ks(d))return!1;v=!0;continue}if(""!==M){let Y;Y=N>m?"":f[N+1].toLowerCase();const re=8&d?Y:null;if(re&&-1!==Yx(re,M,0)||2&d&&M!==Y){if(Ks(d))return!1;v=!0}}}}else{if(!v&&!Ks(d)&&!Ks(E))return!1;if(v&&Ks(E))continue;v=!1,d=E|1&d}}return Ks(d)||v}function Ks(s){return 0==(1&s)}function Xx(s,o,l,d){if(null===o)return-1;let f=0;if(d||!l){let m=!1;for(;f<o.length;){const v=o[f];if(v===s)return f;if(3===v||6===v)m=!0;else{if(1===v||2===v){let C=o[++f];for(;"string"==typeof C;)C=o[++f];continue}if(4===v)break;if(0===v){f+=4;continue}}f+=m?1:2}return-1}return function F0(s,o){let l=s.indexOf(4);if(l>-1)for(l++;l<s.length;){const d=s[l];if("number"==typeof d)return-1;if(d===o)return l;l++}return-1}(o,s)}function Jx(s,o,l=!1){for(let d=0;d<o.length;d++)if(Qx(s,o[d],l))return!0;return!1}function eI(s,o){e:for(let l=0;l<o.length;l++){const d=o[l];if(s.length===d.length){for(let f=0;f<s.length;f++)if(s[f]!==d[f])continue e;return!0}}return!1}function P0(s,o){return s?":not("+o.trim()+")":o}function N0(s){let o=s[0],l=1,d=2,f="",m=!1;for(;l<s.length;){let v=s[l];if("string"==typeof v)if(2&d){const C=s[++l];f+="["+v+(C.length>0?'="'+C+'"':"")+"]"}else 8&d?f+="."+v:4&d&&(f+=" "+v);else""!==f&&!Ks(v)&&(o+=P0(m,f),f=""),d=v,m=m||!Ks(d);l++}return""!==f&&(o+=P0(m,f)),o}const Lt={};function L0(s){V0(Wt(),Se(),ri()+s,!1)}function V0(s,o,l,d){if(!d)if(3==(3&o[2])){const m=s.preOrderCheckHooks;null!==m&&co(o,m,l)}else{const m=s.preOrderHooks;null!==m&&ys(o,m,0,l)}Xr(l)}function dc(s,o=null,l=null,d){const f=hc(s,o,l,d);return f.resolveInjectorInitializers(),f}function hc(s,o=null,l=null,d,f=new Set){const m=[l||ot,xy(s)];return d=d||("object"==typeof s?void 0:de(s)),new Ad(m,o||oa(),d||null,f)}let uu=(()=>{class s{static create(l,d){var f;if(Array.isArray(l))return dc({name:""},d,l,"");{const m=null!==(f=l.name)&&void 0!==f?f:"";return dc({name:m},l.parent,l.providers,m)}}}return s.THROW_IF_NOT_FOUND=Nr,s.NULL=new wd,s.\u0275prov=tn({token:s,providedIn:"any",factory:()=>jt(hg)}),s.__NG_ELEMENT_ID__=-1,s})();function jd(s,o=qe.Default){const l=Se();return null===l?jt(s,o):Ga($n(),l,ee(s),o)}function Ky(){throw new Error("invalid")}function Af(s,o){return s<<17|o<<2}function Qs(s){return s>>17&32767}function Eo(s){return 2|s}function cl(s){return(131068&s)>>2}function Jy(s,o){return-131069&s|o<<2}function e_(s){return 1|s}function iw(s,o){const l=s.contentQueries;if(null!==l)for(let d=0;d<l.length;d+=2){const f=l[d],m=l[d+1];if(-1!==m){const v=s.data[m];$o(f),v.contentQueries(2,o[m],m)}}}function jg(s,o,l,d,f,m,v,C,E,M,k){const N=o.blueprint.slice();return N[0]=f,N[2]=76|d,(null!==k||s&&1024&s[2])&&(N[2]|=1024),Mu(N),N[3]=N[15]=s,N[8]=l,N[10]=v||s&&s[10],N[11]=C||s&&s[11],N[12]=E||s&&s[12]||null,N[9]=M||s&&s[9]||null,N[6]=m,N[20]=function vg(){return vf++}(),N[21]=k,N[16]=2==o.type?s[16]:N,N}function Gd(s,o,l,d,f){let m=s.data[o];if(null===m)m=function s_(s,o,l,d,f){const m=Fa(),v=Pa(),E=s.data[o]=function vI(s,o,l,d,f,m){return{type:l,index:d,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?m:m&&m.parent,l,o,d,f);return null===s.firstChild&&(s.firstChild=E),null!==m&&(v?null==m.child&&null!==E.parent&&(m.child=E):null===m.next&&(m.next=E)),E}(s,o,l,d,f),function Kc(){return Mt.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=l,m.value=d,m.attrs=f;const v=function Nl(){const s=Mt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();m.injectorIndex=null===v?-1:v.injectorIndex}return qi(m,!0),m}function Sf(s,o,l,d){if(0===l)return-1;const f=o.length;for(let m=0;m<l;m++)o.push(d),s.blueprint.push(d),s.data.push(null);return f}function o_(s,o,l){Bl(o);try{const d=s.viewQuery;null!==d&&yw(1,d,l);const f=s.template;null!==f&&sw(s,o,f,1,l),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&iw(s,o),s.staticViewQueries&&yw(2,s.viewQuery,l);const m=s.components;null!==m&&function rw(s,o){for(let l=0;l<o.length;l++)xk(s,o[l])}(o,m)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{o[2]&=-5,ms()}}function fl(s,o,l,d){const f=o[2];if(128!=(128&f)){Bl(o);try{Mu(o),function Ho(s){return Mt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==l&&sw(s,o,l,2,d);const v=3==(3&f);if(v){const M=s.preOrderCheckHooks;null!==M&&co(o,M,null)}else{const M=s.preOrderHooks;null!==M&&ys(o,M,0,null),Bu(o,0)}if(function OI(s){for(let o=Ig(s);null!==o;o=Ag(o)){if(!o[2])continue;const l=o[9];for(let d=0;d<l.length;d++){const f=l[d],m=f[3];0==(512&f[2])&&Gn(m,1),f[2]|=512}}}(o),function RI(s){for(let o=Ig(s);null!==o;o=Ag(o))for(let l=10;l<o.length;l++){const d=o[l],f=d[1];$i(d)&&fl(f,d,f.template,d[8])}}(o),null!==s.contentQueries&&iw(s,o),v){const M=s.contentCheckHooks;null!==M&&co(o,M)}else{const M=s.contentHooks;null!==M&&ys(o,M,1),Bu(o,1)}!function Ug(s,o){const l=s.hostBindingOpCodes;if(null!==l)try{for(let d=0;d<l.length;d++){const f=l[d];if(f<0)Xr(~f);else{const m=f,v=l[++d],C=l[++d];Qc(v,m),C(2,o[m])}}}finally{Xr(-1)}}(s,o);const C=s.components;null!==C&&function yI(s,o){for(let l=0;l<o.length;l++)kI(s,o[l])}(o,C);const E=s.viewQuery;if(null!==E&&yw(2,E,d),v){const M=s.viewCheckHooks;null!==M&&co(o,M)}else{const M=s.viewHooks;null!==M&&ys(o,M,2),Bu(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,Gn(o[3],-1))}finally{ms()}}}function sw(s,o,l,d,f){const m=ri(),v=2&d;try{Xr(-1),v&&o.length>22&&V0(s,o,22,!1),l(d,f)}finally{Xr(m)}}function ow(s,o,l){if(xa(o)){const f=o.directiveEnd;for(let m=o.directiveStart;m<f;m++){const v=s.data[m];v.contentQueries&&v.contentQueries(1,l[m],m)}}}function a_(s,o,l){!Us()||(function DI(s,o,l,d){const f=l.directiveStart,m=l.directiveEnd;s.firstCreatePass||vs(l,o),Wi(d,o);const v=l.initialInputs;for(let C=f;C<m;C++){const E=s.data[C],M=rr(E);M&&Ek(o,l,E);const k=Gs(o,s,C,l);Wi(k,o),null!==v&&MI(0,C-f,k,E,0,v),M&&(rn(l.index,o)[8]=k)}}(s,o,l,Hn(l,o)),128==(128&l.flags)&&function xI(s,o,l){const d=l.directiveStart,f=l.directiveEnd,m=l.index,v=function Uh(){return Mt.lFrame.currentDirectiveIndex}();try{Xr(m);for(let C=d;C<f;C++){const E=s.data[C],M=o[C];Go(C),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&dw(E,M)}}finally{Xr(-1),Go(v)}}(s,o,l))}function l_(s,o,l=Hn){const d=o.localNames;if(null!==d){let f=o.index+1;for(let m=0;m<d.length;m+=2){const v=d[m+1],C=-1===v?l(o,s):s[v];s[f++]=C}}}function aw(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=u_(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function u_(s,o,l,d,f,m,v,C,E,M){const k=22+d,N=k+f,Y=function vk(s,o){const l=[];for(let d=0;d<o;d++)l.push(d<s?null:Lt);return l}(k,N),re="function"==typeof M?M():M;return Y[1]={type:s,blueprint:Y,template:l,queries:null,viewQuery:C,declTNode:o,data:Y.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:N,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:E,consts:re,incompleteFirstPass:!1}}function c_(s,o,l,d){const f=f_(o);null===l?f.push(d):(f.push(l),s.firstCreatePass&&p_(s).push(d,f.length-1))}function lw(s,o,l){for(let d in s)if(s.hasOwnProperty(d)){const f=s[d];(l=null===l?{}:l).hasOwnProperty(d)?l[d].push(o,f):l[d]=[o,f]}return l}function bI(s,o){const d=o.directiveEnd,f=s.data,m=o.attrs,v=[];let C=null,E=null;for(let M=o.directiveStart;M<d;M++){const k=f[M],N=k.inputs,Y=null===m||k0(o)?null:TI(N,m);v.push(Y),C=lw(N,M,C),E=lw(k.outputs,M,E)}null!==C&&(C.hasOwnProperty("class")&&(o.flags|=16),C.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=v,o.inputs=C,o.outputs=E}function Ts(s,o,l,d,f,m,v,C){const E=Hn(o,l);let k,M=o.inputs;!C&&null!=M&&(k=M[d])?(mc(s,l,k,d,f),Ia(o)&&uw(l,o.index)):3&o.type&&(d=function wI(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),f=null!=v?v(f,o.value||"",d):f,m.setProperty(E,d,f))}function uw(s,o){const l=rn(o,s);16&l[2]||(l[2]|=32)}function d_(s,o,l,d){let f=!1;if(Us()){const m=function II(s,o,l){const d=s.directiveRegistry;let f=null;if(d)for(let m=0;m<d.length;m++){const v=d[m];Jx(l,v.selectors,!1)&&(f||(f=[]),ho(vs(l,o),s,v.type),rr(v)?(hw(s,l),f.unshift(v)):f.push(v))}return f}(s,o,l),v=null===d?null:{"":-1};if(null!==m){f=!0,fw(l,s.data.length,m.length);for(let k=0;k<m.length;k++){const N=m[k];N.providersResolver&&N.providersResolver(N)}let C=!1,E=!1,M=Sf(s,o,m.length,null);for(let k=0;k<m.length;k++){const N=m[k];l.mergedAttrs=Zo(l.mergedAttrs,N.hostAttrs),pw(s,l,o,M,N),SI(M,N,v),null!==N.contentQueries&&(l.flags|=8),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(l.flags|=128);const Y=N.type.prototype;!C&&(Y.ngOnChanges||Y.ngOnInit||Y.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(l.index),C=!0),!E&&(Y.ngOnChanges||Y.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(l.index),E=!0),M++}bI(s,l)}v&&function AI(s,o,l){if(o){const d=s.localNames=[];for(let f=0;f<o.length;f+=2){const m=l[o[f+1]];if(null==m)throw new Ce(-301,!1);d.push(o[f],m)}}}(l,d,v)}return l.mergedAttrs=Zo(l.mergedAttrs,l.attrs),f}function cw(s,o,l,d,f,m){const v=m.hostBindings;if(v){let C=s.hostBindingOpCodes;null===C&&(C=s.hostBindingOpCodes=[]);const E=~o.index;(function Ck(s){let o=s.length;for(;o>0;){const l=s[--o];if("number"==typeof l&&l<0)return l}return 0})(C)!=E&&C.push(E),C.push(d,f,v)}}function dw(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function hw(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function SI(s,o,l){if(l){if(o.exportAs)for(let d=0;d<o.exportAs.length;d++)l[o.exportAs[d]]=s;rr(o)&&(l[""]=s)}}function fw(s,o,l){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+l,s.providerIndexes=o}function pw(s,o,l,d,f){s.data[d]=f;const m=f.factory||(f.factory=Zr(f.type)),v=new qo(m,rr(f),jd);s.blueprint[d]=v,l[d]=v,cw(s,o,0,d,Sf(s,l,f.hostVars,Lt),f)}function Ek(s,o,l){const d=Hn(o,s),f=aw(l),m=s[10],v=Hg(s,jg(s,f,null,l.onPush?32:16,d,o,m,m.createRenderer(d,l),null,null,null));s[o.index]=v}function ca(s,o,l,d,f,m){const v=Hn(s,o);!function pl(s,o,l,d,f,m,v){if(null==m)s.removeAttribute(o,f,l);else{const C=null==v?ve(m):v(m,d||"",f);s.setAttribute(o,f,C,l)}}(o[11],v,m,s.value,l,d,f)}function MI(s,o,l,d,f,m){const v=m[o];if(null!==v){const C=d.setInput;for(let E=0;E<v.length;){const M=v[E++],k=v[E++],N=v[E++];null!==C?d.setInput(l,N,M,k):l[k]=N}}}function TI(s,o){let l=null,d=0;for(;d<o.length;){const f=o[d];if(0!==f)if(5!==f){if("number"==typeof f)break;s.hasOwnProperty(f)&&(null===l&&(l=[]),l.push(f,s[f],o[d+1])),d+=2}else d+=2;else d+=4}return l}function gw(s,o,l,d){return new Array(s,!0,!1,o,null,0,d,l,null,null)}function kI(s,o){const l=rn(o,s);if($i(l)){const d=l[1];48&l[2]?fl(d,l,d.template,l[8]):l[5]>0&&h_(l)}}function h_(s){for(let d=Ig(s);null!==d;d=Ag(d))for(let f=10;f<d.length;f++){const m=d[f];if($i(m))if(512&m[2]){const v=m[1];fl(v,m,v.template,m[8])}else m[5]>0&&h_(m)}const l=s[1].components;if(null!==l)for(let d=0;d<l.length;d++){const f=rn(l[d],s);$i(f)&&f[5]>0&&h_(f)}}function xk(s,o){const l=rn(o,s),d=l[1];(function mw(s,o){for(let l=o.length;l<s.blueprint.length;l++)o.push(s.blueprint[l])})(d,l),o_(d,l,l[8])}function Hg(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function Gg(s){for(;s;){s[2]|=32;const o=Pd(s);if(ii(s)&&!o)return s;s=o}return null}function $d(s,o,l,d=!0){const f=o[10];f.begin&&f.begin();try{fl(s,o,s.template,l)}catch(v){throw d&&_w(o,v),v}finally{f.end&&f.end()}}function yw(s,o,l){$o(0),o(s,l)}function f_(s){return s[7]||(s[7]=[])}function p_(s){return s.cleanup||(s.cleanup=[])}function zd(s,o,l){return(null===s||rr(s))&&(l=function Vh(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(l[o.index])),l[11]}function _w(s,o){const l=s[9],d=l?l.get(Me,null):null;d&&d.handleError(o)}function mc(s,o,l,d,f){for(let m=0;m<l.length;){const v=l[m++],C=l[m++],E=o[v],M=s.data[v];null!==M.setInput?M.setInput(E,f,d,C):E[C]=f}}function da(s,o,l){let d=l?s.styles:null,f=l?s.classes:null,m=0;if(null!==o)for(let v=0;v<o.length;v++){const C=o[v];"number"==typeof C?m=C:1==m?f=ye(f,C):2==m&&(d=ye(d,C+": "+o[++v]+";"))}l?s.styles=d:s.stylesWithoutHost=d,l?s.classes=f:s.classesWithoutHost=f}function $g(s,o,l,d,f=!1){for(;null!==l;){const m=o[l.index];if(null!==m&&d.push(Nn(m)),ir(m))for(let C=10;C<m.length;C++){const E=m[C],M=E[1].firstChild;null!==M&&$g(E[1],E,M,d)}const v=l.type;if(8&v)$g(s,o,l.child,d);else if(32&v){const C=ky(l,o);let E;for(;E=C();)d.push(E)}else if(16&v){const C=jy(o,l);if(Array.isArray(C))d.push(...C);else{const E=Pd(o[16]);$g(E[1],E,C,d,!0)}}l=f?l.projectionNext:l.next}return d}class zg{constructor(o,l){this._lView=o,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,l=o[1];return $g(l,o,l.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(ir(o)){const l=o[8],d=l?l.indexOf(this):-1;d>-1&&(Ly(o,d),Ln(l,d))}this._attachedToViewContainer=!1}Ef(this._lView[1],this._lView)}onDestroy(o){c_(this._lView[1],this._lView,null,o)}markForCheck(){Gg(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){$d(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ce(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function C0(s,o){uc(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Ce(902,!1);this._appRef=o}}class g_ extends zg{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;$d(o[1],o,o[8],!1)}checkNoChanges(){}get context(){return null}}class m_ extends vo{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const l=Ut(o);return new _c(l,this.ngModule)}}function vw(s){const o=[];for(let l in s)s.hasOwnProperty(l)&&o.push({propName:s[l],templateName:l});return o}class yc{constructor(o,l){this.injector=o,this.parentInjector=l}get(o,l,d){const f=this.injector.get(o,oc,d);return f!==oc||l===oc?f:this.parentInjector.get(o,l,d)}}class _c extends or{constructor(o,l){super(),this.componentDef=o,this.ngModule=l,this.componentType=o.type,this.selector=function tI(s){return s.map(N0).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return vw(this.componentDef.inputs)}get outputs(){return vw(this.componentDef.outputs)}create(o,l,d,f){let m=(f=f||this.ngModule)instanceof Zs?f:null==f?void 0:f.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const v=m?new yc(o,m):o,C=v.get(Ay,null);if(null===C)throw new Ce(407,!1);const E=v.get(Td,null),M=C.createRenderer(null,this.componentDef),k=this.componentDef.selectors[0][0]||"div",N=d?function _I(s,o,l){return s.selectRootElement(o,l===ht.ShadowDom)}(M,d,this.componentDef.encapsulation):Sg(M,k,function y_(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(k)),Y=this.componentDef.onPush?288:272,re=u_(0,null,null,1,0,null,null,null,null,null),we=jg(null,re,null,Y,null,null,C,M,E,v,null);let je,Ze;Bl(we);try{const ct=function Sk(s,o,l,d,f,m){const v=l[1];l[22]=s;const E=Gd(v,22,2,"#host",null),M=E.mergedAttrs=o.hostAttrs;null!==M&&(da(E,M,!0),null!==s&&(js(f,s,M),null!==E.classes&&If(f,s,E.classes),null!==E.styles&&cc(f,s,E.styles)));const k=d.createRenderer(s,o),N=jg(l,aw(o),null,o.onPush?32:16,l[22],E,d,k,m||null,null,null);return v.firstCreatePass&&(ho(vs(E,l),v,o.type),hw(v,E),fw(E,l.length,1)),Hg(l,N),l[22]=N}(N,this.componentDef,we,C,M);if(N)if(d)js(M,N,["ng-version",Rd.full]);else{const{attrs:wt,classes:ke}=function nI(s){const o=[],l=[];let d=1,f=2;for(;d<s.length;){let m=s[d];if("string"==typeof m)2===f?""!==m&&o.push(m,s[++d]):8===f&&l.push(m);else{if(!Ks(f))break;f=m}d++}return{attrs:o,classes:l}}(this.componentDef.selectors[0]);wt&&js(M,N,wt),ke&&ke.length>0&&If(M,N,ke.join(" "))}if(Ze=Ra(re,22),void 0!==l){const wt=Ze.projection=[];for(let ke=0;ke<this.ngContentSelectors.length;ke++){const St=l[ke];wt.push(null!=St?Array.from(St):null)}}je=function FI(s,o,l,d){const f=l[1],m=function EI(s,o,l){const d=$n();s.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),pw(s,d,o,Sf(s,o,1,null),l),bI(s,d));const f=Gs(o,s,d.directiveStart,d);Wi(f,o);const m=Hn(d,o);return m&&Wi(m,o),f}(f,l,o);if(s[8]=l[8]=m,null!==d)for(const C of d)C(m,o);if(o.contentQueries){const C=$n();o.contentQueries(1,m,C.directiveStart)}const v=$n();return!f.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(Xr(v.index),cw(l[1],v,0,v.directiveStart,v.directiveEnd,o),dw(o,m)),m}(ct,this.componentDef,we,[PI]),o_(re,we,null)}finally{ms()}return new Ak(this.componentType,je,ol(Ze,we),we,Ze)}}class Ak extends class yg{}{constructor(o,l,d,f,m){super(),this.location=d,this._rootLView=f,this._tNode=m,this.instance=l,this.hostView=this.changeDetectorRef=new g_(f),this.componentType=o}setInput(o,l){const d=this._tNode.inputs;let f;if(null!==d&&(f=d[o])){const m=this._rootLView;mc(m[1],m,f,o,l),uw(m,this._tNode.index)}}get injector(){return new ws(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function PI(){const s=$n();zo(Se()[1],s)}function ww(s){let o=function bw(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),l=!0;const d=[s];for(;o;){let f;if(rr(s))f=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Ce(903,!1);f=o.\u0275dir}if(f){if(l){d.push(f);const v=s;v.inputs=qg(s.inputs),v.declaredInputs=qg(s.declaredInputs),v.outputs=qg(s.outputs);const C=f.hostBindings;C&&Ok(s,C);const E=f.viewQuery,M=f.contentQueries;if(E&&Tk(s,E),M&&Rk(s,M),ne(s.inputs,f.inputs),ne(s.declaredInputs,f.declaredInputs),ne(s.outputs,f.outputs),rr(f)&&f.data.animation){const k=s.data;k.animation=(k.animation||[]).concat(f.data.animation)}}const m=f.features;if(m)for(let v=0;v<m.length;v++){const C=m[v];C&&C.ngInherit&&C(s),C===ww&&(l=!1)}}o=Object.getPrototypeOf(o)}!function Mk(s){let o=0,l=null;for(let d=s.length-1;d>=0;d--){const f=s[d];f.hostVars=o+=f.hostVars,f.hostAttrs=Zo(f.hostAttrs,l=Zo(l,f.hostAttrs))}}(d)}function qg(s){return s===Ui?{}:s===ot?[]:s}function Tk(s,o){const l=s.viewQuery;s.viewQuery=l?(d,f)=>{o(d,f),l(d,f)}:o}function Rk(s,o){const l=s.contentQueries;s.contentQueries=l?(d,f,m)=>{o(d,f,m),l(d,f,m)}:o}function Ok(s,o){const l=s.hostBindings;s.hostBindings=l?(d,f)=>{o(d,f),l(d,f)}:o}let __=null;function qd(){if(!__){const s=ln.Symbol;if(s&&s.iterator)__=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<o.length;++l){const d=o[l];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(__=d)}}}return __}function Wg(s){return!!Cw(s)&&(Array.isArray(s)||!(s instanceof Map)&&qd()in s)}function Cw(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function gl(s,o,l){return s[o]=l}function Vr(s,o,l){return!Object.is(s[o],l)&&(s[o]=l,!0)}function Wd(s,o,l,d){const f=Vr(s,o,l);return Vr(s,o+1,d)||f}function Ew(s,o,l,d){const f=Se();return Vr(f,lo(),o)&&(Wt(),ca(En(),f,s,o,l,d)),Ew}function zI(s,o,l,d,f,m,v,C){const E=Se(),M=Wt(),k=s+22,N=M.firstCreatePass?function Uk(s,o,l,d,f,m,v,C,E){const M=o.consts,k=Gd(o,s,4,v||null,ki(M,C));d_(o,l,k,ki(M,E)),zo(o,k);const N=k.tViews=u_(2,k,d,f,m,o.directiveRegistry,o.pipeRegistry,null,o.schemas,M);return null!==o.queries&&(o.queries.template(o,k),N.queries=o.queries.embeddedTView(k)),k}(k,M,E,o,l,d,f,m,v):M.data[k];qi(N,!1);const Y=E[11].createComment("");Og(M,E,Y,N),Wi(Y,E),Hg(E,E[k]=gw(Y,E,Y,N)),xu(N)&&a_(M,E,N),null!=v&&l_(E,N,C)}function Dw(s,o,l){const d=Se();return Vr(d,lo(),o)&&Ts(Wt(),En(),d,s,o,d[11],l,!1),Dw}function xw(s,o,l,d,f){const v=f?"class":"style";mc(s,l,o.inputs[v],v,d)}function b_(s,o,l,d){const f=Se(),m=Wt(),v=22+s,C=f[11],E=f[v]=Sg(C,o,function Hl(){return Mt.lFrame.currentNamespace}()),M=m.firstCreatePass?function Gk(s,o,l,d,f,m,v){const C=o.consts,M=Gd(o,s,2,f,ki(C,m));return d_(o,l,M,ki(C,v)),null!==M.attrs&&da(M,M.attrs,!1),null!==M.mergedAttrs&&da(M,M.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,M),M}(v,m,f,0,o,l,d):m.data[v];qi(M,!0);const k=M.mergedAttrs;null!==k&&js(C,E,k);const N=M.classes;null!==N&&If(C,E,N);const Y=M.styles;return null!==Y&&cc(C,E,Y),64!=(64&M.flags)&&Og(m,f,E,M),0===function Ru(){return Mt.lFrame.elementDepthCount}()&&Wi(E,f),function Oa(){Mt.lFrame.elementDepthCount++}(),xu(M)&&(a_(m,f,M),ow(m,M,f)),null!==d&&l_(f,M),b_}function w_(){let s=$n();Pa()?jo():(s=s.parent,qi(s,!1));const o=s;!function Pl(){Mt.lFrame.elementDepthCount--}();const l=Wt();return l.firstCreatePass&&(zo(l,s),xa(s)&&l.queries.elementEnd(s)),null!=o.classesWithoutHost&&function Wo(s){return 0!=(16&s.flags)}(o)&&xw(l,o,Se(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function ed(s){return 0!=(32&s.flags)}(o)&&xw(l,o,Se(),o.stylesWithoutHost,!1),w_}function Iw(s,o,l,d){return b_(s,o,l,d),w_(),Iw}function C_(s,o,l){const d=Se(),f=Wt(),m=s+22,v=f.firstCreatePass?function $k(s,o,l,d,f){const m=o.consts,v=ki(m,d),C=Gd(o,s,8,"ng-container",v);return null!==v&&da(C,v,!0),d_(o,l,C,ki(m,f)),null!==o.queries&&o.queries.elementStart(o,C),C}(m,f,d,o,l):f.data[m];qi(v,!0);const C=d[m]=d[11].createComment("");return Og(f,d,C,v),Wi(C,d),xu(v)&&(a_(f,d,v),ow(f,v,d)),null!=l&&l_(d,v),C_}function E_(){let s=$n();const o=Wt();return Pa()?jo():(s=s.parent,qi(s,!1)),o.firstCreatePass&&(zo(o,s),xa(s)&&o.queries.elementEnd(s)),E_}function qI(){return Se()}function Sw(s){return!!s&&"function"==typeof s.then}function WI(s){return!!s&&"function"==typeof s.subscribe}const YI=WI;function Mw(s,o,l,d){const f=Se(),m=Wt(),v=$n();return ZI(m,f,f[11],v,s,o,0,d),Mw}function Tw(s,o){const l=$n(),d=Se(),f=Wt();return ZI(f,d,zd(ku(f.data),l,d),l,s,o),Tw}function ZI(s,o,l,d,f,m,v,C){const E=xu(d),k=s.firstCreatePass&&p_(s),N=o[8],Y=f_(o);let re=!0;if(3&d.type||C){const Ze=Hn(d,o),ct=C?C(Ze):Ze,wt=Y.length,ke=C?sn=>C(Nn(sn[d.index])):d.index;let St=null;if(!C&&E&&(St=function zk(s,o,l,d){const f=s.cleanup;if(null!=f)for(let m=0;m<f.length-1;m+=2){const v=f[m];if(v===l&&f[m+1]===d){const C=o[7],E=f[m+2];return C.length>E?C[E]:null}"string"==typeof v&&(m+=2)}return null}(s,o,f,d.index)),null!==St)(St.__ngLastListenerFn__||St).__ngNextListenerFn__=m,St.__ngLastListenerFn__=m,re=!1;else{m=QI(d,o,N,m,!1);const sn=l.listen(ct,f,m);Y.push(m,sn),k&&k.push(f,ke,wt,wt+1)}}else m=QI(d,o,N,m,!1);const we=d.outputs;let je;if(re&&null!==we&&(je=we[f])){const Ze=je.length;if(Ze)for(let ct=0;ct<Ze;ct+=2){const In=o[je[ct]][je[ct+1]].subscribe(m),Ac=Y.length;Y.push(m,In),k&&k.push(f,d.index,Ac,-(Ac+1))}}}function KI(s,o,l,d){try{return!1!==l(d)}catch(f){return _w(s,f),!1}}function QI(s,o,l,d,f){return function m(v){if(v===Function)return d;Gg(2&s.flags?rn(s.index,o):o);let E=KI(o,0,d,v),M=m.__ngNextListenerFn__;for(;M;)E=KI(o,0,M,v)&&E,M=M.__ngNextListenerFn__;return f&&!1===E&&(v.preventDefault(),v.returnValue=!1),E}}function XI(s=1){return function uo(s){return(Mt.lFrame.contextLView=function Ul(s,o){for(;s>0;)o=o[15],s--;return o}(s,Mt.lFrame.contextLView))[8]}(s)}function qk(s,o){let l=null;const d=function Fg(s){const o=s.attrs;if(null!=o){const l=o.indexOf(5);if(0==(1&l))return o[l+1]}return null}(s);for(let f=0;f<o.length;f++){const m=o[f];if("*"!==m){if(null===d?Jx(s,m,!0):eI(d,m))return f}else l=f}return l}function JI(s){const o=Se()[16][6];if(!o.projection){const d=o.projection=Ka(s?s.length:1,null),f=d.slice();let m=o.child;for(;null!==m;){const v=s?qk(m,s):0;null!==v&&(f[v]?f[v].projectionNext=m:d[v]=m,f[v]=m),m=m.next}}}function eA(s,o=0,l){const d=Se(),f=Wt(),m=Gd(f,22+s,16,null,l||null);null===m.projection&&(m.projection=o),jo(),64!=(64&m.flags)&&function R0(s,o,l){xf(o[11],0,o,l,D0(s,l,o),Yi(l.parent||o[6],l,o))}(f,d,m)}function cA(s,o,l,d,f){const m=s[l+1],v=null===o;let C=d?Qs(m):cl(m),E=!1;for(;0!==C&&(!1===E||v);){const k=s[C+1];Zk(s[C],o)&&(E=!0,s[C+1]=d?e_(k):Eo(k)),C=d?Qs(k):cl(k)}E&&(s[l+1]=d?Eo(m):e_(m))}function Zk(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&ts(s,o)>=0}function Ow(s,o){return function ha(s,o,l,d){const f=Se(),m=Wt(),v=function Qr(s){const o=Mt.lFrame,l=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,l}(2);m.firstUpdatePass&&function kw(s,o,l,d){const f=s.data;if(null===f[l+1]){const m=f[ri()],v=function _A(s,o){return o>=s.expandoStartIndex}(s,l);(function D_(s,o){return 0!=(s.flags&(o?16:32))})(m,d)&&null===o&&!v&&(o=!1),o=function Fw(s,o,l,d){const f=ku(s);let m=d?o.residualClasses:o.residualStyles;if(null===f)0===(d?o.classBindings:o.styleBindings)&&(l=Uf(l=Ki(null,s,o,l,d),o.attrs,d),m=null);else{const v=o.directiveStylingLast;if(-1===v||s[v]!==f)if(l=Ki(f,s,o,l,d),null===m){let E=function Pw(s,o,l){const d=l?o.classBindings:o.styleBindings;if(0!==cl(d))return s[Qs(d)]}(s,o,d);void 0!==E&&Array.isArray(E)&&(E=Ki(null,s,o,E[1],d),E=Uf(E,o.attrs,d),function Nw(s,o,l,d){s[Qs(l?o.classBindings:o.styleBindings)]=d}(s,o,d,E))}else m=function vA(s,o,l){let d;const f=o.directiveEnd;for(let m=1+o.directiveStylingLast;m<f;m++)d=Uf(d,s[m].hostAttrs,l);return Uf(d,o.attrs,l)}(s,o,d)}return void 0!==m&&(d?o.residualClasses=m:o.residualStyles=m),l}(f,m,o,d),function Wk(s,o,l,d,f,m){let v=m?o.classBindings:o.styleBindings,C=Qs(v),E=cl(v);s[d]=l;let k,M=!1;if(Array.isArray(l)){const N=l;k=N[1],(null===k||ts(N,k)>0)&&(M=!0)}else k=l;if(f)if(0!==E){const Y=Qs(s[C+1]);s[d+1]=Af(Y,C),0!==Y&&(s[Y+1]=Jy(s[Y+1],d)),s[C+1]=function Y0(s,o){return 131071&s|o<<17}(s[C+1],d)}else s[d+1]=Af(C,0),0!==C&&(s[C+1]=Jy(s[C+1],d)),C=d;else s[d+1]=Af(E,0),0===C?C=d:s[E+1]=Jy(s[E+1],d),E=d;M&&(s[d+1]=Eo(s[d+1])),cA(s,k,d,!0),cA(s,k,d,!1),function Yk(s,o,l,d,f){const m=f?s.residualClasses:s.residualStyles;null!=m&&"string"==typeof o&&ts(m,o)>=0&&(l[d+1]=e_(l[d+1]))}(o,k,s,d,m),v=Af(C,E),m?o.classBindings=v:o.styleBindings=v}(f,m,o,l,v,d)}}(m,s,v,d),o!==Lt&&Vr(f,v,o)&&function pa(s,o,l,d,f,m,v,C){if(!(3&o.type))return;const E=s.data,M=E[C+1];vc(function Z0(s){return 1==(1&s)}(M)?wA(E,o,l,f,cl(M),v):void 0)||(vc(m)||function Xy(s){return 2==(2&s)}(M)&&(m=wA(E,null,l,f,C,v)),function O0(s,o,l,d,f){if(o)f?s.addClass(l,d):s.removeClass(l,d);else{let m=-1===d.indexOf("-")?void 0:la.DashCase;null==f?s.removeStyle(l,d,m):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),m|=la.Important),s.setStyle(l,d,f,m))}}(d,v,sr(ri(),l),f,m))}(m,m.data[ri()],f,f[11],s,f[v+1]=function Lw(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=de(yr(s)))),s}(o,l),d,v)}(s,o,null,!0),Ow}function Ki(s,o,l,d,f){let m=null;const v=l.directiveEnd;let C=l.directiveStylingLast;for(-1===C?C=l.directiveStart:C++;C<v&&(m=o[C],d=Uf(d,m.hostAttrs,f),m!==s);)C++;return null!==s&&(l.directiveStylingLast=C),d}function Uf(s,o,l){const d=l?1:2;let f=-1;if(null!==o)for(let m=0;m<o.length;m++){const v=o[m];"number"==typeof v?f=v:f===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),tt(s,v,!!l||o[++m]))}return void 0===s?null:s}function wA(s,o,l,d,f,m){const v=null===o;let C;for(;f>0;){const E=s[f],M=Array.isArray(E),k=M?E[1]:E,N=null===k;let Y=l[f+1];Y===Lt&&(Y=N?ot:void 0);let re=N?Qa(Y,d):k===d?Y:void 0;if(M&&!vc(re)&&(re=Qa(E,d)),vc(re)&&(C=re,v))return C;const we=s[f+1];f=v?Qs(we):cl(we)}if(null!==o){let E=m?o.residualClasses:o.residualStyles;null!=E&&(C=Qa(E,d))}return C}function vc(s){return void 0!==s}function Vw(s,o=""){const l=Se(),d=Wt(),f=s+22,m=d.firstCreatePass?Gd(d,f,1,o,null):d.data[f],v=l[f]=function Py(s,o){return s.createText(o)}(l[11],o);Og(d,l,v,m),qi(m,!1)}function x_(s){return Zg("",s,""),x_}function Zg(s,o,l){const d=Se(),f=function Rf(s,o,l,d){return Vr(s,lo(),l)?o+ve(l)+d:Lt}(d,s,o,l);return f!==Lt&&function Xs(s,o,l){const d=sr(o,s);!function b0(s,o,l){s.setValue(o,l)}(s[11],d,l)}(d,ri(),f),Zg}function T_(s,o,l){const d=Se();return Vr(d,lo(),o)&&Ts(Wt(),En(),d,s,o,d[11],l,!0),T_}function R_(s,o,l){const d=Se();if(Vr(d,lo(),o)){const m=Wt(),v=En();Ts(m,v,d,s,o,zd(ku(m.data),v,d),l,!0)}return R_}const wc=void 0;var mF=["en",[["a","p"],["AM","PM"],wc],[["AM","PM"],wc,wc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],wc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],wc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",wc,"{1} 'at' {0}",wc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function O_(s){const l=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===d?1:5}];let Hf={};function Xw(s){const o=function SA(s){return s.toLowerCase().replace(/_/g,"-")}(s);let l=k_(o);if(l)return l;const d=o.split("-")[0];if(l=k_(d),l)return l;if("en"===d)return mF;throw new Ce(701,!1)}function IA(s){return Xw(s)[xt.PluralCase]}function k_(s){return s in Hf||(Hf[s]=ln.ng&&ln.ng.common&&ln.ng.common.locales&&ln.ng.common.locales[s]),Hf[s]}var xt=(()=>((xt=xt||{})[xt.LocaleId=0]="LocaleId",xt[xt.DayPeriodsFormat=1]="DayPeriodsFormat",xt[xt.DayPeriodsStandalone=2]="DayPeriodsStandalone",xt[xt.DaysFormat=3]="DaysFormat",xt[xt.DaysStandalone=4]="DaysStandalone",xt[xt.MonthsFormat=5]="MonthsFormat",xt[xt.MonthsStandalone=6]="MonthsStandalone",xt[xt.Eras=7]="Eras",xt[xt.FirstDayOfWeek=8]="FirstDayOfWeek",xt[xt.WeekendRange=9]="WeekendRange",xt[xt.DateFormat=10]="DateFormat",xt[xt.TimeFormat=11]="TimeFormat",xt[xt.DateTimeFormat=12]="DateTimeFormat",xt[xt.NumberSymbols=13]="NumberSymbols",xt[xt.NumberFormats=14]="NumberFormats",xt[xt.CurrencyCode=15]="CurrencyCode",xt[xt.CurrencySymbol=16]="CurrencySymbol",xt[xt.CurrencyName=17]="CurrencyName",xt[xt.Currencies=18]="Currencies",xt[xt.Directionality=19]="Directionality",xt[xt.PluralCase=20]="PluralCase",xt[xt.ExtraData=21]="ExtraData",xt))();const Zd="en-US";let eC=Zd;function hC(s,o,l,d,f){if(s=ee(s),Array.isArray(s))for(let m=0;m<s.length;m++)hC(s[m],o,l,d,f);else{const m=Wt(),v=Se();let C=ss(s)?s:ee(s.provide),E=Sd(s);const M=$n(),k=1048575&M.providerIndexes,N=M.directiveStart,Y=M.providerIndexes>>20;if(ss(s)||!s.multi){const re=new qo(E,f,jd),we=pC(C,o,f?k:k+Y,N);-1===we?(ho(vs(M,v),m,C),fC(m,s,o.length),o.push(C),M.directiveStart++,M.directiveEnd++,f&&(M.providerIndexes+=1048576),l.push(re),v.push(re)):(l[we]=re,v[we]=re)}else{const re=pC(C,o,k+Y,N),we=pC(C,o,k,k+Y),je=re>=0&&l[re],Ze=we>=0&&l[we];if(f&&!Ze||!f&&!je){ho(vs(M,v),m,C);const ct=function zF(s,o,l,d,f){const m=new qo(s,l,jd);return m.multi=[],m.index=o,m.componentProviders=0,JA(m,f,d&&!l),m}(f?gC:$F,l.length,f,d,E);!f&&Ze&&(l[we].providerFactory=ct),fC(m,s,o.length,0),o.push(C),M.directiveStart++,M.directiveEnd++,f&&(M.providerIndexes+=1048576),l.push(ct),v.push(ct)}else fC(m,s,re>-1?re:we,JA(l[f?we:re],E,!f&&d));!f&&d&&Ze&&l[we].componentProviders++}}}function fC(s,o,l,d){const f=ss(o),m=function uf(s){return!!s.useClass}(o);if(f||m){const E=(m?ee(o.useClass):o).prototype.ngOnDestroy;if(E){const M=s.destroyHooks||(s.destroyHooks=[]);if(!f&&o.multi){const k=M.indexOf(l);-1===k?M.push(l,[d,E]):M[k+1].push(d,E)}else M.push(l,E)}}}function JA(s,o,l){return l&&s.componentProviders++,s.multi.push(o)-1}function pC(s,o,l,d){for(let f=l;f<d;f++)if(o[f]===s)return f;return-1}function $F(s,o,l,d){return mC(this.multi,[])}function gC(s,o,l,d){const f=this.multi;let m;if(this.providerFactory){const v=this.providerFactory.componentProviders,C=Gs(l,l[1],this.providerFactory.index,d);m=C.slice(0,v),mC(f,m);for(let E=v;E<C.length;E++)m.push(C[E])}else m=[],mC(f,m);return m}function mC(s,o){for(let l=0;l<s.length;l++)o.push((0,s[l])());return o}function yC(s,o=[]){return l=>{l.providersResolver=(d,f)=>function dC(s,o,l){const d=Wt();if(d.firstCreatePass){const f=rr(s);hC(l,d.data,d.blueprint,f,!0),hC(o,d.data,d.blueprint,f,!1)}}(d,f?f(s):s,o)}}class Cc{}class j_{}function _C(s,o){return new H_(s,null!=o?o:null)}class H_ extends Cc{constructor(o,l){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new m_(this);const d=bi(o);this._bootstrapComponents=ll(d.bootstrap),this._r3Injector=hc(o,l,[{provide:Cc,useValue:this},{provide:vo,useValue:this.componentFactoryResolver}],de(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class _l extends j_{constructor(o){super(),this.moduleType=o}create(o){return new H_(this.moduleType,o)}}class ga extends Cc{constructor(o,l,d){super(),this.componentFactoryResolver=new m_(this),this.instance=null;const f=new Ad([...o,{provide:Cc,useValue:this},{provide:vo,useValue:this.componentFactoryResolver}],l||oa(),d,new Set(["environment"]));this.injector=f,f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function G_(s,o,l=null){return new ga(s,o,l).injector}let vC=(()=>{class s{constructor(l){this._injector=l,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(l){if(!l.standalone)return null;if(!this.cachedInjectors.has(l.id)){const d=fg(0,l.type),f=d.length>0?G_([d],this._injector,`Standalone[${l.type.name}]`):null;this.cachedInjectors.set(l.id,f)}return this.cachedInjectors.get(l.id)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=tn({token:s,providedIn:"environment",factory:()=>new s(jt(Zs))}),s})();function bC(s){s.getStandaloneInjector=o=>o.get(vC).getOrCreateStandaloneInjector(s)}function q_(s,o,l,d){return function Z_(s,o,l,d,f,m){const v=o+l;return Vr(s,v,f)?gl(s,v+1,m?d.call(m,f):d(f)):Ec(s,v+1)}(Se(),zn(),s,o,l,d)}function W_(s,o,l,d,f,m,v){return function im(s,o,l,d,f,m,v,C,E){const M=o+l;return function xo(s,o,l,d,f,m){const v=Wd(s,o,l,d);return Wd(s,o+2,f,m)||v}(s,M,f,m,v,C)?gl(s,M+4,E?d.call(E,f,m,v,C):d(f,m,v,C)):Ec(s,M+4)}(Se(),zn(),s,o,l,d,f,m,v)}function Ec(s,o){const l=s[o];return l===Lt?void 0:l}function Yf(s){return o=>{setTimeout(s,void 0,o)}}const Rs=class X_ extends u.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,l,d){var f,m,v;let C=o,E=l||(()=>null),M=d;if(o&&"object"==typeof o){const N=o;C=null===(f=N.next)||void 0===f?void 0:f.bind(N),E=null===(m=N.error)||void 0===m?void 0:m.bind(N),M=null===(v=N.complete)||void 0===v?void 0:v.bind(N)}this.__isAsync&&(E=Yf(E),C&&(C=Yf(C)),M&&(M=Yf(M)));const k=super.subscribe({next:C,error:E,complete:M});return o instanceof te.w0&&o.add(k),k}};function aS(){return this._results[qd()]()}class Zf{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=qd(),d=Zf.prototype;d[l]||(d[l]=aS)}get changes(){return this._changes||(this._changes=new Rs)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,l){return this._results.reduce(o,l)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,l){const d=this;d.dirty=!1;const f=bn(o);(this._changesDetected=!function Pt(s,o,l){if(s.length!==o.length)return!1;for(let d=0;d<s.length;d++){let f=s[d],m=o[d];if(l&&(f=l(f),m=l(m)),m!==f)return!1}return!0}(d._results,f,l))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Kf=(()=>{class s{}return s.__NG_ELEMENT_ID__=KF,s})();const YF=Kf,ZF=class extends YF{constructor(o,l,d){super(),this._declarationLView=o,this._declarationTContainer=l,this.elementRef=d}createEmbeddedView(o,l){const d=this._declarationTContainer.tViews,f=jg(this._declarationLView,d,o,16,null,d.declTNode,null,null,null,null,l||null);f[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(f[19]=v.createEmbeddedView(d)),o_(d,f,o),new zg(f)}};function KF(){return J_($n(),Se())}function J_(s,o){return 4&s.type?new ZF(o,s,ol(s,o)):null}let ev=(()=>{class s{}return s.__NG_ELEMENT_ID__=QF,s})();function QF(){return LC($n(),Se())}const XF=ev,NC=class extends XF{constructor(o,l,d){super(),this._lContainer=o,this._hostTNode=l,this._hostLView=d}get element(){return ol(this._hostTNode,this._hostLView)}get injector(){return new ws(this._hostTNode,this._hostLView)}get parentInjector(){const o=ql(this._hostTNode,this._hostLView);if(nd(o)){const l=Ko(o,this._hostLView),d=si(o);return new ws(l[1].data[d+8],l)}return new ws(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const l=tv(this._lContainer);return null!==l&&l[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,l,d){let f,m;"number"==typeof d?f=d:null!=d&&(f=d.index,m=d.injector);const v=o.createEmbeddedView(l||{},m);return this.insert(v,f),v}createComponent(o,l,d,f,m){const v=o&&!function Es(s){return"function"==typeof s}(o);let C;if(v)C=l;else{const N=l||{};C=N.index,d=N.injector,f=N.projectableNodes,m=N.environmentInjector||N.ngModuleRef}const E=v?o:new _c(Ut(o)),M=d||this.parentInjector;if(!m&&null==E.ngModule){const Y=(v?M:this.parentInjector).get(Zs,null);Y&&(m=Y)}const k=E.create(M,f,void 0,m);return this.insert(k.hostView,C),k}insert(o,l){const d=o._lView,f=d[1];if(function so(s){return ir(s[3])}(d)){const k=this.indexOf(o);if(-1!==k)this.detach(k);else{const N=d[3],Y=new NC(N,N[6],N[3]);Y.detach(Y.indexOf(o))}}const m=this._adjustIndex(l),v=this._lContainer;!function $x(s,o,l,d){const f=10+d,m=l.length;d>0&&(l[f-1][4]=o),d<m-10?(o[4]=l[f],Za(l,10+d,o)):(l.push(o),o[4]=null),o[3]=l;const v=o[17];null!==v&&l!==v&&function zx(s,o){const l=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===l?s[9]=[o]:l.push(o)}(v,o);const C=o[19];null!==C&&C.insertView(s),o[2]|=64}(f,d,v,m);const C=T0(m,v),E=d[11],M=Tg(E,v[7]);return null!==M&&function w0(s,o,l,d,f,m){d[0]=f,d[6]=o,uc(s,d,l,1,f,m)}(f,v[6],E,d,M,C),o.attachToViewContainerRef(),Za(nv(v),m,o),o}move(o,l){return this.insert(o,l)}indexOf(o){const l=tv(this._lContainer);return null!==l?l.indexOf(o):-1}remove(o){const l=this._adjustIndex(o,-1),d=Ly(this._lContainer,l);d&&(Ln(nv(this._lContainer),l),Ef(d[1],d))}detach(o){const l=this._adjustIndex(o,-1),d=Ly(this._lContainer,l);return d&&null!=Ln(nv(this._lContainer),l)?new zg(d):null}_adjustIndex(o,l=0){return null==o?this.length+l:o}};function tv(s){return s[8]}function nv(s){return s[8]||(s[8]=[])}function LC(s,o){let l;const d=o[s.index];if(ir(d))l=d;else{let f;if(8&s.type)f=Nn(d);else{const m=o[11];f=m.createComment("");const v=Hn(s,o);ua(m,Tg(m,v),f,function S0(s,o){return s.nextSibling(o)}(m,v),!1)}o[s.index]=l=gw(d,o,f,s),Hg(o,l)}return new NC(l,s,o)}class Jd{constructor(o){this.queryList=o,this.matches=null}clone(){return new Jd(this.queryList)}setDirty(){this.queryList.setDirty()}}class pu{constructor(o=[]){this.queries=o}createEmbeddedView(o){const l=o.queries;if(null!==l){const d=null!==o.contentQueries?o.contentQueries[0]:l.length,f=[];for(let m=0;m<d;m++){const v=l.getByIndex(m);f.push(this.queries[v.indexInDeclarationView].clone())}return new pu(f)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let l=0;l<this.queries.length;l++)null!==Jf(o,l).matches&&this.queries[l].setDirty()}}class eh{constructor(o,l,d=null){this.predicate=o,this.flags=l,this.read=d}}class Qf{constructor(o=[]){this.queries=o}elementStart(o,l){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(o,l)}elementEnd(o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(o)}embeddedTView(o){let l=null;for(let d=0;d<this.length;d++){const f=null!==l?l.length:0,m=this.getByIndex(d).embeddedTView(o,f);m&&(m.indexInDeclarationView=d,null!==l?l.push(m):l=[m])}return null!==l?new Qf(l):null}template(o,l){for(let d=0;d<this.queries.length;d++)this.queries[d].template(o,l)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class sm{constructor(o,l=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(o,l){this.isApplyingToNode(l)&&this.matchTNode(o,l)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,l){this.elementStart(o,l)}embeddedTView(o,l){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,l),new sm(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let d=o.parent;for(;null!==d&&8&d.type&&d.index!==l;)d=d.parent;return l===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(o,l){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const m=d[f];this.matchTNodeWithReadOption(o,l,rv(l,m)),this.matchTNodeWithReadOption(o,l,za(l,o,m,!1,!1))}else d===Kf?4&l.type&&this.matchTNodeWithReadOption(o,l,-1):this.matchTNodeWithReadOption(o,l,za(l,o,d,!1,!1))}matchTNodeWithReadOption(o,l,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===al||f===ev||f===Kf&&4&l.type)this.addMatch(l.index,-2);else{const m=za(l,o,f,!1,!1);null!==m&&this.addMatch(l.index,m)}else this.addMatch(l.index,d)}}addMatch(o,l){null===this.matches?this.matches=[o,l]:this.matches.push(o,l)}}function rv(s,o){const l=s.localNames;if(null!==l)for(let d=0;d<l.length;d+=2)if(l[d]===o)return l[d+1];return null}function om(s,o,l,d){return-1===l?function VC(s,o){return 11&s.type?ol(s,o):4&s.type?J_(s,o):null}(o,s):-2===l?function BC(s,o,l){return l===al?ol(o,s):l===Kf?J_(o,s):l===ev?LC(o,s):void 0}(s,o,d):Gs(s,s[1],l,o)}function sv(s,o,l,d){const f=o[19].queries[d];if(null===f.matches){const m=s.data,v=l.matches,C=[];for(let E=0;E<v.length;E+=2){const M=v[E];C.push(M<0?null:om(o,m[M],v[E+1],l.metadata.read))}f.matches=C}return f.matches}function th(s,o,l,d){const f=s.queries.getByIndex(l),m=f.matches;if(null!==m){const v=sv(s,o,f,l);for(let C=0;C<m.length;C+=2){const E=m[C];if(E>0)d.push(v[C/2]);else{const M=m[C+1],k=o[-E];for(let N=10;N<k.length;N++){const Y=k[N];Y[17]===Y[3]&&th(Y[1],Y,M,d)}if(null!==k[9]){const N=k[9];for(let Y=0;Y<N.length;Y++){const re=N[Y];th(re[1],re,M,d)}}}}}return d}function nh(s){const o=Se(),l=Wt(),d=La();$o(d+1);const f=Jf(l,d);if(s.dirty&&function kl(s){return 4==(4&s[2])}(o)===(2==(2&f.metadata.flags))){if(null===f.matches)s.reset([]);else{const m=f.crossesNgTemplate?th(l,o,d,[]):sv(l,o,f,d);s.reset(m,bo),s.notifyOnChanges()}return!0}return!1}function uS(s,o,l){const d=Wt();d.firstCreatePass&&(ih(d,new eh(s,o,l),-1),2==(2&o)&&(d.staticViewQueries=!0)),Xf(d,Se(),o)}function cS(s,o,l,d){const f=Wt();if(f.firstCreatePass){const m=$n();ih(f,new eh(o,l,d),m.index),function am(s,o){const l=s.contentQueries||(s.contentQueries=[]);o!==(l.length?l[l.length-1]:-1)&&l.push(s.queries.length-1,o)}(f,s),2==(2&l)&&(f.staticContentQueries=!0)}Xf(f,Se(),l)}function ov(){return function JF(s,o){return s[19].queries[o].queryList}(Se(),La())}function Xf(s,o,l){const d=new Zf(4==(4&l));c_(s,o,d,d.destroy),null===o[19]&&(o[19]=new pu),o[19].queries.push(new Jd(d))}function ih(s,o,l){null===s.queries&&(s.queries=new Qf),s.queries.track(new sm(o,l))}function Jf(s,o){return s.queries.getByIndex(o)}function fm(...s){}const iE=new vn("Application Initializer");let pm=(()=>{class s{constructor(l){this.appInits=l,this.resolve=fm,this.reject=fm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,f)=>{this.resolve=d,this.reject=f})}runInitializers(){if(this.initialized)return;const l=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const m=this.appInits[f]();if(Sw(m))l.push(m);else if(YI(m)){const v=new Promise((C,E)=>{m.subscribe({complete:C,error:E})});l.push(v)}}Promise.all(l).then(()=>{d()}).catch(f=>{this.reject(f)}),0===l.length&&d(),this.initialized=!0}}return s.\u0275fac=function(l){return new(l||s)(jt(iE,8))},s.\u0275prov=tn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const mv=new vn("AppId",{providedIn:"root",factory:function rE(){return`${tp()}${tp()}${tp()}`}});function tp(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const sE=new vn("Platform Initializer"),oE=new vn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),yv=new vn("appBootstrapListener"),IS=new vn("AnimationModuleType");let aE=(()=>{class s{log(l){console.log(l)}warn(l){console.warn(l)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=tn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const np=new vn("LocaleId",{providedIn:"root",factory:()=>D(np,qe.Optional|qe.SkipSelf)||function AS(){return"undefined"!=typeof $localize&&$localize.locale||Zd}()}),SS=new vn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class TS{constructor(o,l){this.ngModuleFactory=o,this.componentFactories=l}}let lE=(()=>{class s{compileModuleSync(l){return new _l(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const d=this.compileModuleSync(l),m=ll(bi(l).declarations).reduce((v,C)=>{const E=Ut(C);return E&&v.push(new _c(E)),v},[]);return new TS(d,m)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=tn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const uP=(()=>Promise.resolve(0))();function cE(s){"undefined"==typeof Zone?uP.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Io{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Rs(!1),this.onMicrotaskEmpty=new Rs(!1),this.onStable=new Rs(!1),this.onError=new Rs(!1),"undefined"==typeof Zone)throw new Ce(908,!1);Zone.assertZonePatched();const f=this;if(f._nesting=0,f._outer=f._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const m=Zone.AsyncStackTaggingZoneSpec;f._inner=f._inner.fork(new m("Angular"))}Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&l,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function PS(){let s=ln.requestAnimationFrame,o=ln.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const d=o[Zone.__symbol__("OriginalDelegate")];d&&(o=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function dP(s){const o=()=>{!function cP(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(ln,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,ym(s),s.isCheckStableRunning=!0,mm(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),ym(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,d,f,m,v,C)=>{try{return vv(s),l.invokeTask(f,m,v,C)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||s.shouldCoalesceRunChangeDetection)&&o(),NS(s)}},onInvoke:(l,d,f,m,v,C,E)=>{try{return vv(s),l.invoke(f,m,v,C,E)}finally{s.shouldCoalesceRunChangeDetection&&o(),NS(s)}},onHasTask:(l,d,f,m)=>{l.hasTask(f,m),d===f&&("microTask"==m.change?(s._hasPendingMicrotasks=m.microTask,ym(s),mm(s)):"macroTask"==m.change&&(s.hasPendingMacrotasks=m.macroTask))},onHandleError:(l,d,f,m)=>(l.handleError(f,m),s.runOutsideAngular(()=>s.onError.emit(m)),!1)})}(f)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Io.isInAngularZone())throw new Ce(909,!1)}static assertNotInAngularZone(){if(Io.isInAngularZone())throw new Ce(909,!1)}run(o,l,d){return this._inner.run(o,l,d)}runTask(o,l,d,f){const m=this._inner,v=m.scheduleEventTask("NgZoneEvent: "+f,o,dE,fm,fm);try{return m.runTask(v,l,d)}finally{m.cancelTask(v)}}runGuarded(o,l,d){return this._inner.runGuarded(o,l,d)}runOutsideAngular(o){return this._outer.run(o)}}const dE={};function mm(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function ym(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function vv(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function NS(s){s._nesting--,mm(s)}class hP{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Rs,this.onMicrotaskEmpty=new Rs,this.onStable=new Rs,this.onError=new Rs}run(o,l,d){return o.apply(l,d)}runGuarded(o,l,d){return o.apply(l,d)}runOutsideAngular(o){return o()}runTask(o,l,d,f){return o.apply(l,d)}}const LS=new vn(""),bv=new vn("");let ip,hE=(()=>{class s{constructor(l,d,f){this._ngZone=l,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,ip||(function fP(s){ip=s}(f),f.addToWindow(d)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Io.assertNotInAngularZone(),cE(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())cE(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(l)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,d,f){let m=-1;d&&d>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==m),l(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:l,timeoutId:m,updateCb:f})}whenStable(l,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,d,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,d,f){return[]}}return s.\u0275fac=function(l){return new(l||s)(jt(Io),jt(Ao),jt(bv))},s.\u0275prov=tn({token:s,factory:s.\u0275fac}),s})(),Ao=(()=>{class s{constructor(){this._applications=new Map}registerApplication(l,d){this._applications.set(l,d)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,d=!0){var f;return null!==(f=null==ip?void 0:ip.findTestabilityInTree(this,l,d))&&void 0!==f?f:null}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=tn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),ya=null;const fE=new vn("AllowMultipleToken"),wv=new vn("PlatformDestroyListeners");class VS{constructor(o,l){this.name=o,this.token=l}}function gE(s,o,l=[]){const d=`Platform: ${o}`,f=new vn(d);return(m=[])=>{let v=sp();if(!v||v.injector.get(fE,!1)){const C=[...l,...m,{provide:f,useValue:!0}];s?s(C):function BS(s){if(ya&&!ya.get(fE,!1))throw new Ce(400,!1);ya=s;const o=s.get(op);(function Cv(s){const o=s.get(sE,null);o&&o.forEach(l=>l())})(s)}(function _i(s=[],o){return uu.create({name:o,providers:[{provide:Dd,useValue:"platform"},{provide:wv,useValue:new Set([()=>ya=null])},...s]})}(C,d))}return function rp(s){const o=sp();if(!o)throw new Ce(401,!1);return o}()}}function sp(){var s;return null!==(s=null==ya?void 0:ya.get(op))&&void 0!==s?s:null}let op=(()=>{class s{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,d){const f=function vm(s,o){let l;return l="noop"===s?new hP:("zone.js"===s?void 0:s)||new Io(o),l}(null==d?void 0:d.ngZone,function Ev(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(d)),m=[{provide:Io,useValue:f}];return f.run(()=>{const v=uu.create({providers:m,parent:this.injector,name:l.moduleType.name}),C=l.create(v),E=C.injector.get(Me,null);if(!E)throw new Ce(402,!1);return f.runOutsideAngular(()=>{const M=f.onError.subscribe({next:k=>{E.handleError(k)}});C.onDestroy(()=>{bm(this._modules,C),M.unsubscribe()})}),function ap(s,o,l){try{const d=l();return Sw(d)?d.catch(f=>{throw o.runOutsideAngular(()=>s.handleError(f)),f}):d}catch(d){throw o.runOutsideAngular(()=>s.handleError(d)),d}}(E,f,()=>{const M=C.injector.get(pm);return M.runInitializers(),M.donePromise.then(()=>(function Gf(s){qt(s,"Expected localeId to be defined"),"string"==typeof s&&(eC=s.toLowerCase().replace(/_/g,"-"))}(C.injector.get(np,Zd)||Zd),this._moduleDoBootstrap(C),C))})})}bootstrapModule(l,d=[]){const f=Dv({},d);return function _m(s,o,l){const d=new _l(l);return Promise.resolve(d)}(0,0,l).then(m=>this.bootstrapModuleFactory(m,f))}_moduleDoBootstrap(l){const d=l.injector.get(lp);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(f=>d.bootstrap(f));else{if(!l.instance.ngDoBootstrap)throw new Ce(403,!1);l.instance.ngDoBootstrap(d)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ce(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const l=this._injector.get(wv,null);l&&(l.forEach(d=>d()),l.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(l){return new(l||s)(jt(uu))},s.\u0275prov=tn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function Dv(s,o){return Array.isArray(o)?o.reduce(Dv,s):Object.assign(Object.assign({},s),o)}let lp=(()=>{class s{constructor(l,d,f){this._zone=l,this._injector=d,this._exceptionHandler=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new L.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),v=new L.y(C=>{let E;this._zone.runOutsideAngular(()=>{E=this._zone.onStable.subscribe(()=>{Io.assertNotInAngularZone(),cE(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const M=this._zone.onUnstable.subscribe(()=>{Io.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{E.unsubscribe(),M.unsubscribe()}});this.isStable=(0,ue.T)(m,v.pipe((0,le.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(l,d){const f=l instanceof or;if(!this._injector.get(pm).done)throw!f&&Ar(l),new Ce(405,false);let v;v=f?l:this._injector.get(vo).resolveComponentFactory(l),this.componentTypes.push(v.componentType);const C=function pP(s){return s.isBoundToModule}(v)?void 0:this._injector.get(Cc),M=v.create(uu.NULL,[],d||v.selector,C),k=M.location.nativeElement,N=M.injector.get(LS,null);return null==N||N.registerApplication(k),M.onDestroy(()=>{this.detachView(M.hostView),bm(this.components,M),null==N||N.unregisterApplication(k)}),this._loadComponent(M),M}tick(){if(this._runningTick)throw new Ce(101,!1);try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const d=l;this._views.push(d),d.attachToAppRef(this)}detachView(l){const d=l;bm(this._views,d),d.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(yv,[]).concat(this._bootstrapListeners).forEach(f=>f(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>bm(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new Ce(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(l){return new(l||s)(jt(Io),jt(Zs),jt(Me))},s.\u0275prov=tn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function bm(s,o){const l=s.indexOf(o);l>-1&&s.splice(l,1)}let HS=!0,GS=!1;function mP(){return GS=!0,HS}function yP(){if(GS)throw new Error("Cannot enable prod mode after platform setup.");HS=!1}let zS=(()=>{class s{}return s.__NG_ELEMENT_ID__=qS,s})();function qS(s){return function yE(s,o,l){if(Ia(s)&&!l){const d=rn(s.index,o);return new zg(d,d)}return 47&s.type?new zg(o[16],o):null}($n(),Se(),16==(16&s))}class DE{constructor(){}supports(o){return Wg(o)}create(o){return new JS(o)}}const XS=(s,o)=>o;class JS{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||XS}forEachItem(o){let l;for(l=this._itHead;null!==l;l=l._next)o(l)}forEachOperation(o){let l=this._itHead,d=this._removalsHead,f=0,m=null;for(;l||d;){const v=!d||l&&l.currentIndex<xE(d,f,m)?l:d,C=xE(v,f,m),E=v.currentIndex;if(v===d)f--,d=d._nextRemoved;else if(l=l._next,null==v.previousIndex)f++;else{m||(m=[]);const M=C-f,k=E-f;if(M!=k){for(let Y=0;Y<M;Y++){const re=Y<m.length?m[Y]:m[Y]=0,we=re+Y;k<=we&&we<M&&(m[Y]=re+1)}m[v.previousIndex]=k-M}}C!==E&&o(v,C,E)}}forEachPreviousItem(o){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachMovedItem(o){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}forEachIdentityChange(o){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)o(l)}diff(o){if(null==o&&(o=[]),!Wg(o))throw new Ce(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let f,m,v,l=this._itHead,d=!1;if(Array.isArray(o)){this.length=o.length;for(let C=0;C<this.length;C++)m=o[C],v=this._trackByFn(C,m),null!==l&&Object.is(l.trackById,v)?(d&&(l=this._verifyReinsertion(l,m,v,C)),Object.is(l.item,m)||this._addIdentityChange(l,m)):(l=this._mismatch(l,m,v,C),d=!0),l=l._next}else f=0,function Lk(s,o){if(Array.isArray(s))for(let l=0;l<s.length;l++)o(s[l]);else{const l=s[qd()]();let d;for(;!(d=l.next()).done;)o(d.value)}}(o,C=>{v=this._trackByFn(f,C),null!==l&&Object.is(l.trackById,v)?(d&&(l=this._verifyReinsertion(l,C,v,f)),Object.is(l.item,C)||this._addIdentityChange(l,C)):(l=this._mismatch(l,C,v,f),d=!0),l=l._next,f++}),this.length=f;return this._truncate(l),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,l,d,f){let m;return null===o?m=this._itTail:(m=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._reinsertAfter(o,m,f)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._moveAfter(o,m,f)):o=this._addAfter(new eM(l,d),m,f),o}_verifyReinsertion(o,l,d,f){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==m?o=this._reinsertAfter(m,o._prev,f):o.currentIndex!=f&&(o.currentIndex=f,this._addToMoves(o,f)),o}_truncate(o){for(;null!==o;){const l=o._next;this._addToRemovals(this._unlink(o)),o=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,l,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const f=o._prevRemoved,m=o._nextRemoved;return null===f?this._removalsHead=m:f._nextRemoved=m,null===m?this._removalsTail=f:m._prevRemoved=f,this._insertAfter(o,l,d),this._addToMoves(o,d),o}_moveAfter(o,l,d){return this._unlink(o),this._insertAfter(o,l,d),this._addToMoves(o,d),o}_addAfter(o,l,d){return this._insertAfter(o,l,d),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,l,d){const f=null===l?this._itHead:l._next;return o._next=f,o._prev=l,null===f?this._itTail=o:f._prev=o,null===l?this._itHead=o:l._next=o,null===this._linkedRecords&&(this._linkedRecords=new Mv),this._linkedRecords.put(o),o.currentIndex=d,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const l=o._prev,d=o._next;return null===l?this._itHead=d:l._next=d,null===d?this._itTail=l:d._prev=l,o}_addToMoves(o,l){return o.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Mv),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,l){return o.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class eM{constructor(o,l){this.item=o,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Cm{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,l){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===l||l<=d.currentIndex)&&Object.is(d.trackById,o))return d;return null}remove(o){const l=o._prevDup,d=o._nextDup;return null===l?this._head=d:l._nextDup=d,null===d?this._tail=l:d._prevDup=l,null===this._head}}class Mv{constructor(){this.map=new Map}put(o){const l=o.trackById;let d=this.map.get(l);d||(d=new Cm,this.map.set(l,d)),d.add(o)}get(o,l){const f=this.map.get(o);return f?f.get(o,l):null}remove(o){const l=o.trackById;return this.map.get(l).remove(o)&&this.map.delete(l),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function xE(s,o,l){const d=s.previousIndex;if(null===d)return d;let f=0;return l&&d<l.length&&(f=l[d]),d+o+f}class IE{constructor(){}supports(o){return o instanceof Map||Cw(o)}create(){return new tM}}class tM{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let l;for(l=this._mapHead;null!==l;l=l._next)o(l)}forEachPreviousItem(o){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)o(l)}forEachChangedItem(o){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}diff(o){if(o){if(!(o instanceof Map||Cw(o)))throw new Ce(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(o,(d,f)=>{if(l&&l.key===f)this._maybeAddToChanges(l,d),this._appendAfter=l,l=l._next;else{const m=this._getOrCreateRecordForKey(f,d);l=this._insertBeforeOrAppend(l,m)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let d=l;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,l){if(o){const d=o._prev;return l._next=o,l._prev=d,o._prev=l,d&&(d._next=l),o===this._mapHead&&(this._mapHead=l),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(o,l){if(this._records.has(o)){const f=this._records.get(o);this._maybeAddToChanges(f,l);const m=f._prev,v=f._next;return m&&(m._next=v),v&&(v._prev=m),f._next=null,f._prev=null,f}const d=new AE(o);return this._records.set(o,d),d.currentValue=l,this._addToAdditions(d),d}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,l){Object.is(l,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=l,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,l){o instanceof Map?o.forEach(l):Object.keys(o).forEach(d=>l(o[d],d))}}class AE{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function SE(){return new So([new DE])}let So=(()=>{class s{constructor(l){this.factories=l}static create(l,d){if(null!=d){const f=d.factories.slice();l=l.concat(f)}return new s(l)}static extend(l){return{provide:s,useFactory:d=>s.create(l,d||SE()),deps:[[s,new Dt,new Fe]]}}find(l){const d=this.factories.find(f=>f.supports(l));if(null!=d)return d;throw new Ce(901,!1)}}return s.\u0275prov=tn({token:s,providedIn:"root",factory:SE}),s})();function Ic(){return new Em([new IE])}let Em=(()=>{class s{constructor(l){this.factories=l}static create(l,d){if(d){const f=d.factories.slice();l=l.concat(f)}return new s(l)}static extend(l){return{provide:s,useFactory:d=>s.create(l,d||Ic()),deps:[[s,new Dt,new Fe]]}}find(l){const d=this.factories.find(f=>f.supports(l));if(d)return d;throw new Ce(901,!1)}}return s.\u0275prov=tn({token:s,providedIn:"root",factory:Ic}),s})();const lh=gE(null,"core",[]);let CP=(()=>{class s{constructor(l){}}return s.\u0275fac=function(l){return new(l||s)(jt(lp))},s.\u0275mod=_t({type:s}),s.\u0275inj=An({}),s})();function TE(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},3942:(nt,be,F)=>{F.d(be,{Z:()=>Ce});var u=F(2090),te=F(4859),L=F(9681),ue=F(1877);class le{constructor(ve,ge){this._delegate=ve,this.firebase=ge,(0,L._addComponent)(ve,new te.wA("app-compat",()=>this,"PUBLIC")),this.container=ve.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ve){this._delegate.automaticDataCollectionEnabled=ve}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ve=>{this._delegate.checkDestroyed(),ve()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,L.deleteApp)(this._delegate)))}_getService(ve,ge=L._DEFAULT_ENTRY_NAME){var st;this._delegate.checkDestroyed();const mt=this._delegate.container.getProvider(ve);return!mt.isInitialized()&&"EXPLICIT"===(null===(st=mt.getComponent())||void 0===st?void 0:st.instantiationMode)&&mt.initialize(),mt.getImmediate({identifier:ge})}_removeServiceInstance(ve,ge=L._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ve).clearInstance(ge)}_addComponent(ve){(0,L._addComponent)(this._delegate,ve)}_addOrOverwriteComponent(ve){(0,L._addOrOverwriteComponent)(this._delegate,ve)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ne=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),$=function ye(){const rt=function de(rt){const ve={},ge={__esModule:!0,initializeApp:function Ve(ze,fe={}){const De=L.initializeApp(ze,fe);if((0,u.r3)(ve,De.name))return ve[De.name];const J=new rt(De,ge);return ve[De.name]=J,J},app:mt,registerVersion:L.registerVersion,setLogLevel:L.setLogLevel,onLog:L.onLog,apps:null,SDK_VERSION:L.SDK_VERSION,INTERNAL:{registerComponent:function Ae(ze){const fe=ze.name,De=fe.replace("-compat","");if(L._registerComponent(ze)&&"PUBLIC"===ze.type){const J=(ie=mt())=>{if("function"!=typeof ie[De])throw ne.create("invalid-app-argument",{appName:fe});return ie[De]()};void 0!==ze.serviceProps&&(0,u.ZB)(J,ze.serviceProps),ge[De]=J,rt.prototype[De]=function(...ie){return this._getService.bind(this,fe).apply(this,ze.multipleInstances?ie:[])}}return"PUBLIC"===ze.type?ge[De]:null},removeApp:function st(ze){delete ve[ze]},useAsService:function We(ze,fe){return"serverAuth"===fe?null:fe},modularAPIs:L}};function mt(ze){if(!(0,u.r3)(ve,ze=ze||L._DEFAULT_ENTRY_NAME))throw ne.create("no-app",{appName:ze});return ve[ze]}return ge.default=ge,Object.defineProperty(ge,"apps",{get:function Oe(){return Object.keys(ve).map(ze=>ve[ze])}}),mt.App=rt,ge}(le);return rt.INTERNAL=Object.assign(Object.assign({},rt.INTERNAL),{createFirebaseNamespace:ye,extendNamespace:function ve(ge){(0,u.ZB)(rt,ge)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),rt}(),z=new ue.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const rt=self.firebase.SDK_VERSION;rt&&rt.indexOf("LITE")>=0&&z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ce=$;!function Re(rt){(0,L.registerVersion)("@firebase/app-compat","0.1.34",rt)}()},9681:(nt,be,F)=>{F.r(be),F.d(be,{FirebaseError:()=>ue.ZR,SDK_VERSION:()=>io,_DEFAULT_ENTRY_NAME:()=>qt,_addComponent:()=>en,_addOrOverwriteComponent:()=>tn,_apps:()=>an,_clearComponents:()=>Sl,_components:()=>ti,_getProvider:()=>An,_registerComponent:()=>Li,_removeServiceInstance:()=>zr,deleteApp:()=>Ri,getApp:()=>Ti,getApps:()=>Le,initializeApp:()=>Vi,onLog:()=>Zn,registerVersion:()=>Bi,setLogLevel:()=>Un});var u=F(5861),te=F(4859),L=F(1877),ue=F(2090),le=F(8766);class me{constructor(q){this.container=q}getPlatformInfoString(){return this.container.getProviders().map(W=>{if(function ne(H){const q=H.getComponent();return"VERSION"===(null==q?void 0:q.type)}(W)){const Te=W.getImmediate();return`${Te.library}/${Te.version}`}return null}).filter(W=>W).join(" ")}}const de="@firebase/app",$=new L.Yd("@firebase/app"),qt="[DEFAULT]",Qe={[de]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},an=new Map,ti=new Map;function en(H,q){try{H.container.addComponent(q)}catch(W){$.debug(`Component ${q.name} failed to register with FirebaseApp ${H.name}`,W)}}function tn(H,q){H.container.addOrOverwriteComponent(q)}function Li(H){const q=H.name;if(ti.has(q))return $.debug(`There were multiple attempts to register component ${q}.`),!1;ti.set(q,H);for(const W of an.values())en(W,H);return!0}function An(H,q){const W=H.container.getProvider("heartbeat").getImmediate({optional:!0});return W&&W.triggerHeartbeat(),H.container.getProvider(q)}function zr(H,q,W=qt){An(H,q).clearInstance(W)}function Sl(){ti.clear()}const nn=new ue.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class kn{constructor(q,W,Te){this._isDeleted=!1,this._options=Object.assign({},q),this._config=Object.assign({},W),this._name=W.name,this._automaticDataCollectionEnabled=W.automaticDataCollectionEnabled,this._container=Te,this.container.addComponent(new te.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(q){this.checkDestroyed(),this._automaticDataCollectionEnabled=q}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(q){this._isDeleted=q}checkDestroyed(){if(this.isDeleted)throw nn.create("app-deleted",{appName:this._name})}}const io="9.10.0";function Vi(H,q={}){"object"!=typeof q&&(q={name:q});const W=Object.assign({name:qt,automaticDataCollectionEnabled:!1},q),Te=W.name;if("string"!=typeof Te||!Te)throw nn.create("bad-app-name",{appName:String(Te)});const $e=an.get(Te);if($e){if((0,ue.vZ)(H,$e.options)&&(0,ue.vZ)(W,$e.config))return $e;throw nn.create("duplicate-app",{appName:Te})}const _t=new te.H0(Te);for(const yn of ti.values())_t.addComponent(yn);const cn=new kn(H,W,_t);return an.set(Te,cn),cn}function Ti(H=qt){const q=an.get(H);if(!q)throw nn.create("no-app",{appName:H});return q}function Le(){return Array.from(an.values())}function Ri(H){return qe.apply(this,arguments)}function qe(){return(qe=(0,u.Z)(function*(H){const q=H.name;an.has(q)&&(an.delete(q),yield Promise.all(H.container.getProviders().map(W=>W.delete())),H.isDeleted=!0)})).apply(this,arguments)}function Bi(H,q,W){var Te;let $e=null!==(Te=Qe[H])&&void 0!==Te?Te:H;W&&($e+=`-${W}`);const _t=$e.match(/\s|\//),cn=q.match(/\s|\//);if(_t||cn){const yn=[`Unable to register library "${$e}" with version "${q}":`];return _t&&yn.push(`library name "${$e}" contains illegal characters (whitespace or "/")`),_t&&cn&&yn.push("and"),cn&&yn.push(`version name "${q}" contains illegal characters (whitespace or "/")`),void $.warn(yn.join(" "))}Li(new te.wA(`${$e}-version`,()=>({library:$e,version:q}),"VERSION"))}function Zn(H,q){if(null!==H&&"function"!=typeof H)throw nn.create("invalid-log-argument");(0,L.Am)(H,q)}function Un(H){(0,L.Ub)(H)}const wn="firebase-heartbeat-store";let Kn=null;function Sn(){return Kn||(Kn=(0,le.X3)("firebase-heartbeat-database",1,{upgrade:(H,q)=>{0===q&&H.createObjectStore(wn)}}).catch(H=>{throw nn.create("idb-open",{originalErrorMessage:H.message})})),Kn}function ht(){return(ht=(0,u.Z)(function*(H){var q;try{return(yield Sn()).transaction(wn).objectStore(wn).get(Oi(H))}catch(W){if(W instanceof ue.ZR)$.warn(W.message);else{const Te=nn.create("idb-get",{originalErrorMessage:null===(q=W)||void 0===q?void 0:q.message});$.warn(Te.message)}}})).apply(this,arguments)}function ln(H,q){return qr.apply(this,arguments)}function qr(){return(qr=(0,u.Z)(function*(H,q){var W;try{const $e=(yield Sn()).transaction(wn,"readwrite");return yield $e.objectStore(wn).put(q,Oi(H)),$e.done}catch(Te){if(Te instanceof ue.ZR)$.warn(Te.message);else{const $e=nn.create("idb-set",{originalErrorMessage:null===(W=Te)||void 0===W?void 0:W.message});$.warn($e.message)}}})).apply(this,arguments)}function Oi(H){return`${H.name}!${H.options.appId}`}class mn{constructor(q){this.container=q,this._heartbeatsCache=null;const W=this.container.getProvider("app").getImmediate();this._storage=new Zt(W),this._heartbeatsCachePromise=this._storage.read().then(Te=>(this._heartbeatsCache=Te,Te))}triggerHeartbeat(){var q=this;return(0,u.Z)(function*(){const Te=q.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),$e=un();if(null===q._heartbeatsCache&&(q._heartbeatsCache=yield q._heartbeatsCachePromise),q._heartbeatsCache.lastSentHeartbeatDate!==$e&&!q._heartbeatsCache.heartbeats.some(_t=>_t.date===$e))return q._heartbeatsCache.heartbeats.push({date:$e,agent:Te}),q._heartbeatsCache.heartbeats=q._heartbeatsCache.heartbeats.filter(_t=>{const cn=new Date(_t.date).valueOf();return Date.now()-cn<=2592e6}),q._storage.overwrite(q._heartbeatsCache)})()}getHeartbeatsHeader(){var q=this;return(0,u.Z)(function*(){if(null===q._heartbeatsCache&&(yield q._heartbeatsCachePromise),null===q._heartbeatsCache||0===q._heartbeatsCache.heartbeats.length)return"";const W=un(),{heartbeatsToSend:Te,unsentEntries:$e}=function Wr(H,q=1024){const W=[];let Te=H.slice();for(const $e of H){const _t=W.find(cn=>cn.agent===$e.agent);if(_t){if(_t.dates.push($e.date),K(W)>q){_t.dates.pop();break}}else if(W.push({agent:$e.agent,dates:[$e.date]}),K(W)>q){W.pop();break}Te=Te.slice(1)}return{heartbeatsToSend:W,unsentEntries:Te}}(q._heartbeatsCache.heartbeats),_t=(0,ue.L)(JSON.stringify({version:2,heartbeats:Te}));return q._heartbeatsCache.lastSentHeartbeatDate=W,$e.length>0?(q._heartbeatsCache.heartbeats=$e,yield q._storage.overwrite(q._heartbeatsCache)):(q._heartbeatsCache.heartbeats=[],q._storage.overwrite(q._heartbeatsCache)),_t})()}}function un(){return(new Date).toISOString().substring(0,10)}class Zt{constructor(q){this.app=q,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,ue.hl)()&&(0,ue.eu)().then(()=>!0).catch(()=>!1)})()}read(){var q=this;return(0,u.Z)(function*(){return(yield q._canUseIndexedDBPromise)&&(yield function bt(H){return ht.apply(this,arguments)}(q.app))||{heartbeats:[]}})()}overwrite(q){var W=this;return(0,u.Z)(function*(){var Te;if(yield W._canUseIndexedDBPromise){const _t=yield W.read();return ln(W.app,{lastSentHeartbeatDate:null!==(Te=q.lastSentHeartbeatDate)&&void 0!==Te?Te:_t.lastSentHeartbeatDate,heartbeats:q.heartbeats})}})()}add(q){var W=this;return(0,u.Z)(function*(){var Te;if(yield W._canUseIndexedDBPromise){const _t=yield W.read();return ln(W.app,{lastSentHeartbeatDate:null!==(Te=q.lastSentHeartbeatDate)&&void 0!==Te?Te:_t.lastSentHeartbeatDate,heartbeats:[..._t.heartbeats,...q.heartbeats]})}})()}}function K(H){return(0,ue.L)(JSON.stringify({version:2,heartbeats:H})).length}!function G(H){Li(new te.wA("platform-logger",q=>new me(q),"PRIVATE")),Li(new te.wA("heartbeat",q=>new mn(q),"PRIVATE")),Bi(de,"0.7.33",H),Bi(de,"0.7.33","esm2017"),Bi("fire-js","")}("")},4859:(nt,be,F)=>{F.d(be,{H0:()=>de,wA:()=>L});var u=F(5861),te=F(2090);class L{constructor($,z,ee){this.name=$,this.instanceFactory=z,this.type=ee,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode($){return this.instantiationMode=$,this}setMultipleInstances($){return this.multipleInstances=$,this}setServiceProps($){return this.serviceProps=$,this}setInstanceCreatedCallback($){return this.onInstanceCreated=$,this}}const ue="[DEFAULT]";class le{constructor($,z){this.name=$,this.container=z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get($){const z=this.normalizeInstanceIdentifier($);if(!this.instancesDeferred.has(z)){const ee=new te.BH;if(this.instancesDeferred.set(z,ee),this.isInitialized(z)||this.shouldAutoInitialize())try{const Ge=this.getOrInitializeService({instanceIdentifier:z});Ge&&ee.resolve(Ge)}catch(Ge){}}return this.instancesDeferred.get(z).promise}getImmediate($){var z;const ee=this.normalizeInstanceIdentifier(null==$?void 0:$.identifier),Ge=null!==(z=null==$?void 0:$.optional)&&void 0!==z&&z;if(!this.isInitialized(ee)&&!this.shouldAutoInitialize()){if(Ge)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ee})}catch(Re){if(Ge)return null;throw Re}}getComponent(){return this.component}setComponent($){if($.name!==this.name)throw Error(`Mismatching Component ${$.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=$,this.shouldAutoInitialize()){if(function ne(ye){return"EAGER"===ye.instantiationMode}($))try{this.getOrInitializeService({instanceIdentifier:ue})}catch(z){}for(const[z,ee]of this.instancesDeferred.entries()){const Ge=this.normalizeInstanceIdentifier(z);try{const Re=this.getOrInitializeService({instanceIdentifier:Ge});ee.resolve(Re)}catch(Re){}}}}clearInstance($=ue){this.instancesDeferred.delete($),this.instancesOptions.delete($),this.instances.delete($)}delete(){var $=this;return(0,u.Z)(function*(){const z=Array.from($.instances.values());yield Promise.all([...z.filter(ee=>"INTERNAL"in ee).map(ee=>ee.INTERNAL.delete()),...z.filter(ee=>"_delete"in ee).map(ee=>ee._delete())])})()}isComponentSet(){return null!=this.component}isInitialized($=ue){return this.instances.has($)}getOptions($=ue){return this.instancesOptions.get($)||{}}initialize($={}){const{options:z={}}=$,ee=this.normalizeInstanceIdentifier($.instanceIdentifier);if(this.isInitialized(ee))throw Error(`${this.name}(${ee}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ge=this.getOrInitializeService({instanceIdentifier:ee,options:z});for(const[Re,Ce]of this.instancesDeferred.entries())ee===this.normalizeInstanceIdentifier(Re)&&Ce.resolve(Ge);return Ge}onInit($,z){var ee;const Ge=this.normalizeInstanceIdentifier(z),Re=null!==(ee=this.onInitCallbacks.get(Ge))&&void 0!==ee?ee:new Set;Re.add($),this.onInitCallbacks.set(Ge,Re);const Ce=this.instances.get(Ge);return Ce&&$(Ce,Ge),()=>{Re.delete($)}}invokeOnInitCallbacks($,z){const ee=this.onInitCallbacks.get(z);if(ee)for(const Ge of ee)try{Ge($,z)}catch(Re){}}getOrInitializeService({instanceIdentifier:$,options:z={}}){let ee=this.instances.get($);if(!ee&&this.component&&(ee=this.component.instanceFactory(this.container,{instanceIdentifier:(ye=$,ye===ue?void 0:ye),options:z}),this.instances.set($,ee),this.instancesOptions.set($,z),this.invokeOnInitCallbacks(ee,$),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,$,ee)}catch(Ge){}var ye;return ee||null}normalizeInstanceIdentifier($=ue){return this.component?this.component.multipleInstances?$:ue:$}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class de{constructor($){this.name=$,this.providers=new Map}addComponent($){const z=this.getProvider($.name);if(z.isComponentSet())throw new Error(`Component ${$.name} has already been registered with ${this.name}`);z.setComponent($)}addOrOverwriteComponent($){this.getProvider($.name).isComponentSet()&&this.providers.delete($.name),this.addComponent($)}getProvider($){if(this.providers.has($))return this.providers.get($);const z=new le($,this);return this.providers.set($,z),z}getProviders(){return Array.from(this.providers.values())}}},1877:(nt,be,F)=>{F.d(be,{Am:()=>ye,Ub:()=>de,Yd:()=>ne,in:()=>te});const u=[];var te=(()=>{return($=te||(te={}))[$.DEBUG=0]="DEBUG",$[$.VERBOSE=1]="VERBOSE",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.ERROR=4]="ERROR",$[$.SILENT=5]="SILENT",te;var $})();const L={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},ue=te.INFO,le={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},me=($,z,...ee)=>{if(z<$.logLevel)return;const Ge=(new Date).toISOString(),Re=le[z];if(!Re)throw new Error(`Attempted to log a message with an invalid logType (value: ${z})`);console[Re](`[${Ge}]  ${$.name}:`,...ee)};class ne{constructor(z){this.name=z,this._logLevel=ue,this._logHandler=me,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(z){if(!(z in te))throw new TypeError(`Invalid value "${z}" assigned to \`logLevel\``);this._logLevel=z}setLogLevel(z){this._logLevel="string"==typeof z?L[z]:z}get logHandler(){return this._logHandler}set logHandler(z){if("function"!=typeof z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=z}get userLogHandler(){return this._userLogHandler}set userLogHandler(z){this._userLogHandler=z}debug(...z){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...z),this._logHandler(this,te.DEBUG,...z)}log(...z){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...z),this._logHandler(this,te.VERBOSE,...z)}info(...z){this._userLogHandler&&this._userLogHandler(this,te.INFO,...z),this._logHandler(this,te.INFO,...z)}warn(...z){this._userLogHandler&&this._userLogHandler(this,te.WARN,...z),this._logHandler(this,te.WARN,...z)}error(...z){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...z),this._logHandler(this,te.ERROR,...z)}}function de($){u.forEach(z=>{z.setLogLevel($)})}function ye($,z){for(const ee of u){let Ge=null;z&&z.level&&(Ge=L[z.level]),ee.userLogHandler=null===$?null:(Re,Ce,...rt)=>{const ve=rt.map(ge=>{if(null==ge)return null;if("string"==typeof ge)return ge;if("number"==typeof ge||"boolean"==typeof ge)return ge.toString();if(ge instanceof Error)return ge.message;try{return JSON.stringify(ge)}catch(st){return null}}).filter(ge=>ge).join(" ");Ce>=(null!=Ge?Ge:Re.logLevel)&&$({level:te[Ce].toLowerCase(),message:ve,args:rt,type:Re.name})}}}},8766:(nt,be,F)=>{F.d(be,{Lj:()=>Ve,X3:()=>mt});var u=F(5861);let L,ue;const ne=new WeakMap,de=new WeakMap,ye=new WeakMap,$=new WeakMap,z=new WeakMap;let Re={get(fe,De,J){if(fe instanceof IDBTransaction){if("done"===De)return de.get(fe);if("objectStoreNames"===De)return fe.objectStoreNames||ye.get(fe);if("store"===De)return J.objectStoreNames[1]?void 0:J.objectStore(J.objectStoreNames[0])}return ge(fe[De])},set:(fe,De,J)=>(fe[De]=J,!0),has:(fe,De)=>fe instanceof IDBTransaction&&("done"===De||"store"===De)||De in fe};function ve(fe){return"function"==typeof fe?function rt(fe){return fe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function me(){return ue||(ue=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(fe)?function(...De){return fe.apply(st(this),De),ge(ne.get(this))}:function(...De){return ge(fe.apply(st(this),De))}:function(De,...J){const ie=fe.call(st(this),De,...J);return ye.set(ie,De.sort?De.sort():[De]),ge(ie)}}(fe):(fe instanceof IDBTransaction&&function Ge(fe){if(de.has(fe))return;const De=new Promise((J,ie)=>{const he=()=>{fe.removeEventListener("complete",oe),fe.removeEventListener("error",Be),fe.removeEventListener("abort",Be)},oe=()=>{J(),he()},Be=()=>{ie(fe.error||new DOMException("AbortError","AbortError")),he()};fe.addEventListener("complete",oe),fe.addEventListener("error",Be),fe.addEventListener("abort",Be)});de.set(fe,De)}(fe),((fe,De)=>De.some(J=>fe instanceof J))(fe,function le(){return L||(L=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(fe,Re):fe)}function ge(fe){if(fe instanceof IDBRequest)return function ee(fe){const De=new Promise((J,ie)=>{const he=()=>{fe.removeEventListener("success",oe),fe.removeEventListener("error",Be)},oe=()=>{J(ge(fe.result)),he()},Be=()=>{ie(fe.error),he()};fe.addEventListener("success",oe),fe.addEventListener("error",Be)});return De.then(J=>{J instanceof IDBCursor&&ne.set(J,fe)}).catch(()=>{}),z.set(De,fe),De}(fe);if($.has(fe))return $.get(fe);const De=ve(fe);return De!==fe&&($.set(fe,De),z.set(De,fe)),De}const st=fe=>z.get(fe);function mt(fe,De,{blocked:J,upgrade:ie,blocking:he,terminated:oe}={}){const Be=indexedDB.open(fe,De),Ue=ge(Be);return ie&&Be.addEventListener("upgradeneeded",vt=>{ie(ge(Be.result),vt.oldVersion,vt.newVersion,ge(Be.transaction))}),J&&Be.addEventListener("blocked",()=>J()),Ue.then(vt=>{oe&&vt.addEventListener("close",()=>oe()),he&&vt.addEventListener("versionchange",()=>he())}).catch(()=>{}),Ue}function Ve(fe,{blocked:De}={}){const J=indexedDB.deleteDatabase(fe);return De&&J.addEventListener("blocked",()=>De()),ge(J).then(()=>{})}const Oe=["get","getKey","getAll","getAllKeys","count"],Ae=["put","add","delete","clear"],We=new Map;function ze(fe,De){if(!(fe instanceof IDBDatabase)||De in fe||"string"!=typeof De)return;if(We.get(De))return We.get(De);const J=De.replace(/FromIndex$/,""),ie=De!==J,he=Ae.includes(J);if(!(J in(ie?IDBIndex:IDBObjectStore).prototype)||!he&&!Oe.includes(J))return;const oe=function(){var Be=(0,u.Z)(function*(Ue,...vt){const $t=this.transaction(Ue,he?"readwrite":"readonly");let qt=$t.store;return ie&&(qt=qt.index(vt.shift())),(yield Promise.all([qt[J](...vt),he&&$t.done]))[0]});return function(vt){return Be.apply(this,arguments)}}();return We.set(De,oe),oe}!function Ce(fe){Re=fe(Re)}(fe=>TU(MU({},fe),{get:(De,J,ie)=>ze(De,J)||fe.get(De,J,ie),has:(De,J)=>!!ze(De,J)||fe.has(De,J)}))},5861:(nt,be,F)=>{function u(L,ue,le,me,ne,de,ye){try{var $=L[de](ye),z=$.value}catch(ee){return void le(ee)}$.done?ue(z):Promise.resolve(z).then(me,ne)}function te(L){return function(){var ue=this,le=arguments;return new Promise(function(me,ne){var de=L.apply(ue,le);function ye(z){u(de,me,ne,ye,$,"next",z)}function $(z){u(de,me,ne,ye,$,"throw",z)}ye(void 0)})}}F.d(be,{Z:()=>te})}},nt=>{nt(nt.s=3343)}]);